define(["vizapi/SplunkVisualizationBase","vizapi/SplunkVisualizationUtils"], function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) { return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*
	 * Visualization source
	 */
	!(__WEBPACK_AMD_DEFINE_ARRAY__ = [
	            __webpack_require__(1),
	            __webpack_require__(2),
	            __webpack_require__(3),
	            __webpack_require__(4),
	            __webpack_require__(5),
	            __webpack_require__(11)
	        ], __WEBPACK_AMD_DEFINE_RESULT__ = function(
	            $,
	            _,
	            SplunkVisualizationBase,
	            vizUtils,
	            md,
	            process
	        ) {
	  
	    // Extend from SplunkVisualizationBase
	    return SplunkVisualizationBase.extend({
	  
	        initialize: function() {
	            SplunkVisualizationBase.prototype.initialize.apply(this, arguments);
	            this.$el = $(this.el);
	            this.$el.addClass("markdown");
	        },
	        getParameterByName: function (url, name) {
	            if (!url) url = window.location.href;
	            name = name.replace(/[\[\]]/g, "\\$&");
	            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)", "i"),
	                results = regex.exec(url);
	            if (!results) return null;
	            if (!results[2]) return '';
	            return decodeURIComponent(results[2].replace(/\+/g, " "));
	        },
	        // Optionally implement to format data returned from search. 
	        // The returned object will be passed to updateView as 'data'
	        formatData: function(data) {
	            if (!data || data.rows.length < 1) {
	                return;
	            }

	            return data;
	        },
	        _check_boolean: function (config_option) {
	            var s = this._getEscapedProperty(config_option);
	            console.log({"s": s, "config_option": config_option});
	            return !(s == "0" || s == "false" || Number(s) === 0);
	        },

	        // Implement updateView to render a visualization.
	        //  'data' will be the data object returned from formatData or from the search
	        //  'config' will be the configuration property object
	        updateView: function (data, config) {
	            var my_search = this.getParameterByName(this.el.baseURI, "q");
	            console.log(config);
	            if (!data) {
	                return;
	            }
	            var Markdown = md.markdown;
	            if (typeof(Markdown) === "undefined"){
	                throw new SplunkVisualizationBase.VisualizationError("Markdown  Not Found");
	            }
	            this._config = config;
	            this._do_logging = this._check_boolean("log");
	            var that = this;
	            function do_log(s) {
	                if (that._do_logging) {
	                    console.log(s);
	                }
	            }

	            do_log("updateView");
	            var mode = this._getEscapedProperty("sonic_screwdriver");
	            var url = null;
	            var dialect = this._getEscapedProperty("dalek");
	            var _render_dialect = function(src, dalek){
	                if (dalek === "Maruku" || dalek === "Gruber") {
	                              return html = Markdown.toHTML(src, dalek)
	                } else if (dialect === "asciidoc"){
	                    var asciidoctor = __webpack_require__(12);
	                    var opal = asciidoctor.Opal;
	                    do_log("doing asciidoc");
	                    do_log({"asciidoctor": asciidoctor, "opal": opal});
	                    var options = opal.hash(['doctype', 'attributes'], { doctype: "inline" , attributes: [ 'showtitle']});
	                    return html = opal.Asciidoctor.$convert(src, options);
	                } else {
	                    throw new SplunkVisualizationBase.VisualizationError("Dialect Error: " + dialect + " not found");
	                }
	            };
	            console.log("starting_visualization");
	            this.$el.off('click');
	            this.$el.empty();
	            that = this;
	            var app_name = this._getEscapedProperty("app_name"),
	                path_name = this._getEscapedProperty("path_name");
	            $('head').append('<link rel="stylesheet" href="/static/app/'+ app_name +'/markdown_style.css" type="text/css" />');
	            if (mode === "local_file"){
	                do_log("This is a local file");
	                var file_name = this._getEscapedProperty("file_name");

	                if (path_name.length < 1 || path_name === " ") {
	                    path_name = ".";
	                }
	                url = "/static/app/" + app_name + "/"+path_name+"/"+file_name;
	                if (dialect === "asciidoc"){
	                    url = url + ".adoc";
	                }
	                else {
	                    url = url + ".md";
	                }
	                do_log("set url to "+ url);
	                do_log("going to get: "+ url);
	                //var xdomain = this._check_boolean("cross_domain");
	                var ajaxConfig = {
	                    url: url,
	                    data: {"ts": $.now()},
	                    crossDomain: false,
	                    success: function(data){
	                        var html = _render_dialect(data, dialect);
	                        var myel = that.$el.append(html);
	                    },
	                    error: function(data){
	                        console.log("Error on AJAX");
	                        console.log(data);
	                        that.$el.append(data.responseText);
	                        throw new SplunkVisualizationBase.VisualizationError("GET Error - see JavaScript Console for Error");

	                    }};
	                do_log(ajaxConfig);
	                $.get(ajaxConfig);
	            } else if (mode === "html"){
	                var html_div = [this._getEscapedProperty("html_id")];
	                do_log({"location": "html_div", "html_div": html_div});
	                if (html_div[0].indexOf(",") >= 0){
	                    html_div = html_div[0].split(",");
	                }
	                for (i = 0; i < html_div.length; i++) {
	                    var myObj = $("#" + html_div[i].trim());
	                    html = _render_dialect(myObj.html(), dialect);
	                    that.$el.append(html);
	                    myObj.parent().parent().css("display", "none");
	                    myObj.parent().parent().addClass("dialect_hidden");
	                }
	            } else if (mode === "search"){
	                var search_field = this._getEscapedProperty("search_field"), srch_idx = -1;
	                do_log("found config for search field: " + search_field);
	                for ( var i = 0; i < data.fields.length; i++) {
	                    if (data.fields[i].name === search_field) {
	                        srch_idx = i;
	                    }
	                }
	                if (srch_idx < 0){
	                    throw new SplunkVisualizationBase.VisualizationError("Field not found: " + search_field);
	                }
	                var myMD = "";
	                for (i = 0; i< data.rows.length; i++){ myMD += data.rows[i][srch_idx] + "\n\r\n\r";}
	                html = _render_dialect(myMD, dialect);
	                var myel = that.$el.append(html);
	            } else {
	                throw new SplunkVisualizationBase.VisualizationError("Not sure what you did, but I don't like it.");
	            }

	            
	        },

	        // Search data params
	        getInitialDataParams: function() {
	            return ({
	                outputMode: SplunkVisualizationBase.ROW_MAJOR_OUTPUT_MODE,
	                count: 5000
	            });
	        },

	        // Override to respond to re-sizing events
	        reflow: function() {
	            this.invalidateUpdateView();
	        },
	        _getEscapedProperty: function(name) {
		            var propertyValue = this._config[this.getPropertyNamespaceInfo().propertyNamespace + name];
		            return vizUtils.escapeHtml(propertyValue);
		        }
	    });
	}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));


/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
	 * jQuery JavaScript Library v2.2.3
	 * http://jquery.com/
	 *
	 * Includes Sizzle.js
	 * http://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-04-05T19:26Z
	 */

	(function( global, factory ) {

		if ( typeof module === "object" && typeof module.exports === "object" ) {
			// For CommonJS and CommonJS-like environments where a proper `window`
			// is present, execute the factory and get jQuery.
			// For environments that do not have a `window` with a `document`
			// (such as Node.js), expose a factory as module.exports.
			// This accentuates the need for the creation of a real `window`.
			// e.g. var jQuery = require("jquery")(window);
			// See ticket #14549 for more info.
			module.exports = global.document ?
				factory( global, true ) :
				function( w ) {
					if ( !w.document ) {
						throw new Error( "jQuery requires a window with a document" );
					}
					return factory( w );
				};
		} else {
			factory( global );
		}

	// Pass this if window is not defined yet
	}(typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

	// Support: Firefox 18+
	// Can't be in strict mode, several libs including ASP.NET trace
	// the stack via arguments.caller.callee and Firefox dies if
	// you try to trace through "use strict" call chains. (#13335)
	//"use strict";
	var arr = [];

	var document = window.document;

	var slice = arr.slice;

	var concat = arr.concat;

	var push = arr.push;

	var indexOf = arr.indexOf;

	var class2type = {};

	var toString = class2type.toString;

	var hasOwn = class2type.hasOwnProperty;

	var support = {};



	var
		version = "2.2.3",

		// Define a local copy of jQuery
		jQuery = function( selector, context ) {

			// The jQuery object is actually just the init constructor 'enhanced'
			// Need init if jQuery is called (just allow error to be thrown if not included)
			return new jQuery.fn.init( selector, context );
		},

		// Support: Android<4.1
		// Make sure we trim BOM and NBSP
		rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,

		// Matches dashed string for camelizing
		rmsPrefix = /^-ms-/,
		rdashAlpha = /-([\da-z])/gi,

		// Used by jQuery.camelCase as callback to replace()
		fcamelCase = function( all, letter ) {
			return letter.toUpperCase();
		};

	jQuery.fn = jQuery.prototype = {

		// The current version of jQuery being used
		jquery: version,

		constructor: jQuery,

		// Start with an empty selector
		selector: "",

		// The default length of a jQuery object is 0
		length: 0,

		toArray: function() {
			return slice.call( this );
		},

		// Get the Nth element in the matched element set OR
		// Get the whole matched element set as a clean array
		get: function( num ) {
			return num != null ?

				// Return just the one element from the set
				( num < 0 ? this[ num + this.length ] : this[ num ] ) :

				// Return all the elements in a clean array
				slice.call( this );
		},

		// Take an array of elements and push it onto the stack
		// (returning the new matched element set)
		pushStack: function( elems ) {

			// Build a new jQuery matched element set
			var ret = jQuery.merge( this.constructor(), elems );

			// Add the old object onto the stack (as a reference)
			ret.prevObject = this;
			ret.context = this.context;

			// Return the newly-formed element set
			return ret;
		},

		// Execute a callback for every element in the matched set.
		each: function( callback ) {
			return jQuery.each( this, callback );
		},

		map: function( callback ) {
			return this.pushStack( jQuery.map( this, function( elem, i ) {
				return callback.call( elem, i, elem );
			} ) );
		},

		slice: function() {
			return this.pushStack( slice.apply( this, arguments ) );
		},

		first: function() {
			return this.eq( 0 );
		},

		last: function() {
			return this.eq( -1 );
		},

		eq: function( i ) {
			var len = this.length,
				j = +i + ( i < 0 ? len : 0 );
			return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );
		},

		end: function() {
			return this.prevObject || this.constructor();
		},

		// For internal use only.
		// Behaves like an Array's method, not like a jQuery method.
		push: push,
		sort: arr.sort,
		splice: arr.splice
	};

	jQuery.extend = jQuery.fn.extend = function() {
		var options, name, src, copy, copyIsArray, clone,
			target = arguments[ 0 ] || {},
			i = 1,
			length = arguments.length,
			deep = false;

		// Handle a deep copy situation
		if ( typeof target === "boolean" ) {
			deep = target;

			// Skip the boolean and the target
			target = arguments[ i ] || {};
			i++;
		}

		// Handle case when target is a string or something (possible in deep copy)
		if ( typeof target !== "object" && !jQuery.isFunction( target ) ) {
			target = {};
		}

		// Extend jQuery itself if only one argument is passed
		if ( i === length ) {
			target = this;
			i--;
		}

		for ( ; i < length; i++ ) {

			// Only deal with non-null/undefined values
			if ( ( options = arguments[ i ] ) != null ) {

				// Extend the base object
				for ( name in options ) {
					src = target[ name ];
					copy = options[ name ];

					// Prevent never-ending loop
					if ( target === copy ) {
						continue;
					}

					// Recurse if we're merging plain objects or arrays
					if ( deep && copy && ( jQuery.isPlainObject( copy ) ||
						( copyIsArray = jQuery.isArray( copy ) ) ) ) {

						if ( copyIsArray ) {
							copyIsArray = false;
							clone = src && jQuery.isArray( src ) ? src : [];

						} else {
							clone = src && jQuery.isPlainObject( src ) ? src : {};
						}

						// Never move original objects, clone them
						target[ name ] = jQuery.extend( deep, clone, copy );

					// Don't bring in undefined values
					} else if ( copy !== undefined ) {
						target[ name ] = copy;
					}
				}
			}
		}

		// Return the modified object
		return target;
	};

	jQuery.extend( {

		// Unique for each copy of jQuery on the page
		expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

		// Assume jQuery is ready without the ready module
		isReady: true,

		error: function( msg ) {
			throw new Error( msg );
		},

		noop: function() {},

		isFunction: function( obj ) {
			return jQuery.type( obj ) === "function";
		},

		isArray: Array.isArray,

		isWindow: function( obj ) {
			return obj != null && obj === obj.window;
		},

		isNumeric: function( obj ) {

			// parseFloat NaNs numeric-cast false positives (null|true|false|"")
			// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
			// subtraction forces infinities to NaN
			// adding 1 corrects loss of precision from parseFloat (#15100)
			var realStringObj = obj && obj.toString();
			return !jQuery.isArray( obj ) && ( realStringObj - parseFloat( realStringObj ) + 1 ) >= 0;
		},

		isPlainObject: function( obj ) {
			var key;

			// Not plain objects:
			// - Any object or value whose internal [[Class]] property is not "[object Object]"
			// - DOM nodes
			// - window
			if ( jQuery.type( obj ) !== "object" || obj.nodeType || jQuery.isWindow( obj ) ) {
				return false;
			}

			// Not own constructor property must be Object
			if ( obj.constructor &&
					!hasOwn.call( obj, "constructor" ) &&
					!hasOwn.call( obj.constructor.prototype || {}, "isPrototypeOf" ) ) {
				return false;
			}

			// Own properties are enumerated firstly, so to speed up,
			// if last one is own, then all properties are own
			for ( key in obj ) {}

			return key === undefined || hasOwn.call( obj, key );
		},

		isEmptyObject: function( obj ) {
			var name;
			for ( name in obj ) {
				return false;
			}
			return true;
		},

		type: function( obj ) {
			if ( obj == null ) {
				return obj + "";
			}

			// Support: Android<4.0, iOS<6 (functionish RegExp)
			return typeof obj === "object" || typeof obj === "function" ?
				class2type[ toString.call( obj ) ] || "object" :
				typeof obj;
		},

		// Evaluates a script in a global context
		globalEval: function( code ) {
			var script,
				indirect = eval;

			code = jQuery.trim( code );

			if ( code ) {

				// If the code includes a valid, prologue position
				// strict mode pragma, execute code by injecting a
				// script tag into the document.
				if ( code.indexOf( "use strict" ) === 1 ) {
					script = document.createElement( "script" );
					script.text = code;
					document.head.appendChild( script ).parentNode.removeChild( script );
				} else {

					// Otherwise, avoid the DOM node creation, insertion
					// and removal by using an indirect global eval

					indirect( code );
				}
			}
		},

		// Convert dashed to camelCase; used by the css and data modules
		// Support: IE9-11+
		// Microsoft forgot to hump their vendor prefix (#9572)
		camelCase: function( string ) {
			return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
		},

		nodeName: function( elem, name ) {
			return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
		},

		each: function( obj, callback ) {
			var length, i = 0;

			if ( isArrayLike( obj ) ) {
				length = obj.length;
				for ( ; i < length; i++ ) {
					if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
						break;
					}
				}
			} else {
				for ( i in obj ) {
					if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
						break;
					}
				}
			}

			return obj;
		},

		// Support: Android<4.1
		trim: function( text ) {
			return text == null ?
				"" :
				( text + "" ).replace( rtrim, "" );
		},

		// results is for internal usage only
		makeArray: function( arr, results ) {
			var ret = results || [];

			if ( arr != null ) {
				if ( isArrayLike( Object( arr ) ) ) {
					jQuery.merge( ret,
						typeof arr === "string" ?
						[ arr ] : arr
					);
				} else {
					push.call( ret, arr );
				}
			}

			return ret;
		},

		inArray: function( elem, arr, i ) {
			return arr == null ? -1 : indexOf.call( arr, elem, i );
		},

		merge: function( first, second ) {
			var len = +second.length,
				j = 0,
				i = first.length;

			for ( ; j < len; j++ ) {
				first[ i++ ] = second[ j ];
			}

			first.length = i;

			return first;
		},

		grep: function( elems, callback, invert ) {
			var callbackInverse,
				matches = [],
				i = 0,
				length = elems.length,
				callbackExpect = !invert;

			// Go through the array, only saving the items
			// that pass the validator function
			for ( ; i < length; i++ ) {
				callbackInverse = !callback( elems[ i ], i );
				if ( callbackInverse !== callbackExpect ) {
					matches.push( elems[ i ] );
				}
			}

			return matches;
		},

		// arg is for internal usage only
		map: function( elems, callback, arg ) {
			var length, value,
				i = 0,
				ret = [];

			// Go through the array, translating each of the items to their new values
			if ( isArrayLike( elems ) ) {
				length = elems.length;
				for ( ; i < length; i++ ) {
					value = callback( elems[ i ], i, arg );

					if ( value != null ) {
						ret.push( value );
					}
				}

			// Go through every key on the object,
			} else {
				for ( i in elems ) {
					value = callback( elems[ i ], i, arg );

					if ( value != null ) {
						ret.push( value );
					}
				}
			}

			// Flatten any nested arrays
			return concat.apply( [], ret );
		},

		// A global GUID counter for objects
		guid: 1,

		// Bind a function to a context, optionally partially applying any
		// arguments.
		proxy: function( fn, context ) {
			var tmp, args, proxy;

			if ( typeof context === "string" ) {
				tmp = fn[ context ];
				context = fn;
				fn = tmp;
			}

			// Quick check to determine if target is callable, in the spec
			// this throws a TypeError, but we will just return undefined.
			if ( !jQuery.isFunction( fn ) ) {
				return undefined;
			}

			// Simulated bind
			args = slice.call( arguments, 2 );
			proxy = function() {
				return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
			};

			// Set the guid of unique handler to the same of original handler, so it can be removed
			proxy.guid = fn.guid = fn.guid || jQuery.guid++;

			return proxy;
		},

		now: Date.now,

		// jQuery.support is not used in Core but other projects attach their
		// properties to it so it needs to exist.
		support: support
	} );

	// JSHint would error on this code due to the Symbol not being defined in ES5.
	// Defining this global in .jshintrc would create a danger of using the global
	// unguarded in another place, it seems safer to just disable JSHint for these
	// three lines.
	/* jshint ignore: start */
	if ( typeof Symbol === "function" ) {
		jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];
	}
	/* jshint ignore: end */

	// Populate the class2type map
	jQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),
	function( i, name ) {
		class2type[ "[object " + name + "]" ] = name.toLowerCase();
	} );

	function isArrayLike( obj ) {

		// Support: iOS 8.2 (not reproducible in simulator)
		// `in` check used to prevent JIT error (gh-2145)
		// hasOwn isn't used here due to false negatives
		// regarding Nodelist length in IE
		var length = !!obj && "length" in obj && obj.length,
			type = jQuery.type( obj );

		if ( type === "function" || jQuery.isWindow( obj ) ) {
			return false;
		}

		return type === "array" || length === 0 ||
			typeof length === "number" && length > 0 && ( length - 1 ) in obj;
	}
	var Sizzle =
	/*!
	 * Sizzle CSS Selector Engine v2.2.1
	 * http://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2015-10-17
	 */
	(function( window ) {

	var i,
		support,
		Expr,
		getText,
		isXML,
		tokenize,
		compile,
		select,
		outermostContext,
		sortInput,
		hasDuplicate,

		// Local document vars
		setDocument,
		document,
		docElem,
		documentIsHTML,
		rbuggyQSA,
		rbuggyMatches,
		matches,
		contains,

		// Instance-specific data
		expando = "sizzle" + 1 * new Date(),
		preferredDoc = window.document,
		dirruns = 0,
		done = 0,
		classCache = createCache(),
		tokenCache = createCache(),
		compilerCache = createCache(),
		sortOrder = function( a, b ) {
			if ( a === b ) {
				hasDuplicate = true;
			}
			return 0;
		},

		// General-purpose constants
		MAX_NEGATIVE = 1 << 31,

		// Instance methods
		hasOwn = ({}).hasOwnProperty,
		arr = [],
		pop = arr.pop,
		push_native = arr.push,
		push = arr.push,
		slice = arr.slice,
		// Use a stripped-down indexOf as it's faster than native
		// http://jsperf.com/thor-indexof-vs-for/5
		indexOf = function( list, elem ) {
			var i = 0,
				len = list.length;
			for ( ; i < len; i++ ) {
				if ( list[i] === elem ) {
					return i;
				}
			}
			return -1;
		},

		booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",

		// Regular expressions

		// http://www.w3.org/TR/css3-selectors/#whitespace
		whitespace = "[\\x20\\t\\r\\n\\f]",

		// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
		identifier = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",

		// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
		attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +
			// Operator (capture 2)
			"*([*^$|!~]?=)" + whitespace +
			// "Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]"
			"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace +
			"*\\]",

		pseudos = ":(" + identifier + ")(?:\\((" +
			// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
			// 1. quoted (capture 3; capture 4 or capture 5)
			"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
			// 2. simple (capture 6)
			"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
			// 3. anything else (capture 2)
			".*" +
			")\\)|)",

		// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
		rwhitespace = new RegExp( whitespace + "+", "g" ),
		rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g" ),

		rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
		rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*" ),

		rattributeQuotes = new RegExp( "=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g" ),

		rpseudo = new RegExp( pseudos ),
		ridentifier = new RegExp( "^" + identifier + "$" ),

		matchExpr = {
			"ID": new RegExp( "^#(" + identifier + ")" ),
			"CLASS": new RegExp( "^\\.(" + identifier + ")" ),
			"TAG": new RegExp( "^(" + identifier + "|[*])" ),
			"ATTR": new RegExp( "^" + attributes ),
			"PSEUDO": new RegExp( "^" + pseudos ),
			"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
				"*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
				"*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
			"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),
			// For use in libraries implementing .is()
			// We use this for POS matching in `select`
			"needsContext": new RegExp( "^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
				whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
		},

		rinputs = /^(?:input|select|textarea|button)$/i,
		rheader = /^h\d$/i,

		rnative = /^[^{]+\{\s*\[native \w/,

		// Easily-parseable/retrievable ID or TAG or CLASS selectors
		rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

		rsibling = /[+~]/,
		rescape = /'|\\/g,

		// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
		runescape = new RegExp( "\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig" ),
		funescape = function( _, escaped, escapedWhitespace ) {
			var high = "0x" + escaped - 0x10000;
			// NaN means non-codepoint
			// Support: Firefox<24
			// Workaround erroneous numeric interpretation of +"0x"
			return high !== high || escapedWhitespace ?
				escaped :
				high < 0 ?
					// BMP codepoint
					String.fromCharCode( high + 0x10000 ) :
					// Supplemental Plane codepoint (surrogate pair)
					String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
		},

		// Used for iframes
		// See setDocument()
		// Removing the function wrapper causes a "Permission Denied"
		// error in IE
		unloadHandler = function() {
			setDocument();
		};

	// Optimize for push.apply( _, NodeList )
	try {
		push.apply(
			(arr = slice.call( preferredDoc.childNodes )),
			preferredDoc.childNodes
		);
		// Support: Android<4.0
		// Detect silently failing push.apply
		arr[ preferredDoc.childNodes.length ].nodeType;
	} catch ( e ) {
		push = { apply: arr.length ?

			// Leverage slice if possible
			function( target, els ) {
				push_native.apply( target, slice.call(els) );
			} :

			// Support: IE<9
			// Otherwise append directly
			function( target, els ) {
				var j = target.length,
					i = 0;
				// Can't trust NodeList.length
				while ( (target[j++] = els[i++]) ) {}
				target.length = j - 1;
			}
		};
	}

	function Sizzle( selector, context, results, seed ) {
		var m, i, elem, nid, nidselect, match, groups, newSelector,
			newContext = context && context.ownerDocument,

			// nodeType defaults to 9, since context defaults to document
			nodeType = context ? context.nodeType : 9;

		results = results || [];

		// Return early from calls with invalid selector or context
		if ( typeof selector !== "string" || !selector ||
			nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

			return results;
		}

		// Try to shortcut find operations (as opposed to filters) in HTML documents
		if ( !seed ) {

			if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {
				setDocument( context );
			}
			context = context || document;

			if ( documentIsHTML ) {

				// If the selector is sufficiently simple, try using a "get*By*" DOM method
				// (excepting DocumentFragment context, where the methods don't exist)
				if ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {

					// ID selector
					if ( (m = match[1]) ) {

						// Document context
						if ( nodeType === 9 ) {
							if ( (elem = context.getElementById( m )) ) {

								// Support: IE, Opera, Webkit
								// TODO: identify versions
								// getElementById can match elements by name instead of ID
								if ( elem.id === m ) {
									results.push( elem );
									return results;
								}
							} else {
								return results;
							}

						// Element context
						} else {

							// Support: IE, Opera, Webkit
							// TODO: identify versions
							// getElementById can match elements by name instead of ID
							if ( newContext && (elem = newContext.getElementById( m )) &&
								contains( context, elem ) &&
								elem.id === m ) {

								results.push( elem );
								return results;
							}
						}

					// Type selector
					} else if ( match[2] ) {
						push.apply( results, context.getElementsByTagName( selector ) );
						return results;

					// Class selector
					} else if ( (m = match[3]) && support.getElementsByClassName &&
						context.getElementsByClassName ) {

						push.apply( results, context.getElementsByClassName( m ) );
						return results;
					}
				}

				// Take advantage of querySelectorAll
				if ( support.qsa &&
					!compilerCache[ selector + " " ] &&
					(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {

					if ( nodeType !== 1 ) {
						newContext = context;
						newSelector = selector;

					// qSA looks outside Element context, which is not what we want
					// Thanks to Andrew Dupont for this workaround technique
					// Support: IE <=8
					// Exclude object elements
					} else if ( context.nodeName.toLowerCase() !== "object" ) {

						// Capture the context ID, setting it first if necessary
						if ( (nid = context.getAttribute( "id" )) ) {
							nid = nid.replace( rescape, "\\$&" );
						} else {
							context.setAttribute( "id", (nid = expando) );
						}

						// Prefix every selector in the list
						groups = tokenize( selector );
						i = groups.length;
						nidselect = ridentifier.test( nid ) ? "#" + nid : "[id='" + nid + "']";
						while ( i-- ) {
							groups[i] = nidselect + " " + toSelector( groups[i] );
						}
						newSelector = groups.join( "," );

						// Expand context for sibling selectors
						newContext = rsibling.test( selector ) && testContext( context.parentNode ) ||
							context;
					}

					if ( newSelector ) {
						try {
							push.apply( results,
								newContext.querySelectorAll( newSelector )
							);
							return results;
						} catch ( qsaError ) {
						} finally {
							if ( nid === expando ) {
								context.removeAttribute( "id" );
							}
						}
					}
				}
			}
		}

		// All others
		return select( selector.replace( rtrim, "$1" ), context, results, seed );
	}

	/**
	 * Create key-value caches of limited size
	 * @returns {function(string, object)} Returns the Object data after storing it on itself with
	 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
	 *	deleting the oldest entry
	 */
	function createCache() {
		var keys = [];

		function cache( key, value ) {
			// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
			if ( keys.push( key + " " ) > Expr.cacheLength ) {
				// Only keep the most recent entries
				delete cache[ keys.shift() ];
			}
			return (cache[ key + " " ] = value);
		}
		return cache;
	}

	/**
	 * Mark a function for special use by Sizzle
	 * @param {Function} fn The function to mark
	 */
	function markFunction( fn ) {
		fn[ expando ] = true;
		return fn;
	}

	/**
	 * Support testing using an element
	 * @param {Function} fn Passed the created div and expects a boolean result
	 */
	function assert( fn ) {
		var div = document.createElement("div");

		try {
			return !!fn( div );
		} catch (e) {
			return false;
		} finally {
			// Remove from its parent by default
			if ( div.parentNode ) {
				div.parentNode.removeChild( div );
			}
			// release memory in IE
			div = null;
		}
	}

	/**
	 * Adds the same handler for all of the specified attrs
	 * @param {String} attrs Pipe-separated list of attributes
	 * @param {Function} handler The method that will be applied
	 */
	function addHandle( attrs, handler ) {
		var arr = attrs.split("|"),
			i = arr.length;

		while ( i-- ) {
			Expr.attrHandle[ arr[i] ] = handler;
		}
	}

	/**
	 * Checks document order of two siblings
	 * @param {Element} a
	 * @param {Element} b
	 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
	 */
	function siblingCheck( a, b ) {
		var cur = b && a,
			diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
				( ~b.sourceIndex || MAX_NEGATIVE ) -
				( ~a.sourceIndex || MAX_NEGATIVE );

		// Use IE sourceIndex if available on both nodes
		if ( diff ) {
			return diff;
		}

		// Check if b follows a
		if ( cur ) {
			while ( (cur = cur.nextSibling) ) {
				if ( cur === b ) {
					return -1;
				}
			}
		}

		return a ? 1 : -1;
	}

	/**
	 * Returns a function to use in pseudos for input types
	 * @param {String} type
	 */
	function createInputPseudo( type ) {
		return function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === type;
		};
	}

	/**
	 * Returns a function to use in pseudos for buttons
	 * @param {String} type
	 */
	function createButtonPseudo( type ) {
		return function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return (name === "input" || name === "button") && elem.type === type;
		};
	}

	/**
	 * Returns a function to use in pseudos for positionals
	 * @param {Function} fn
	 */
	function createPositionalPseudo( fn ) {
		return markFunction(function( argument ) {
			argument = +argument;
			return markFunction(function( seed, matches ) {
				var j,
					matchIndexes = fn( [], seed.length, argument ),
					i = matchIndexes.length;

				// Match elements found at the specified indexes
				while ( i-- ) {
					if ( seed[ (j = matchIndexes[i]) ] ) {
						seed[j] = !(matches[j] = seed[j]);
					}
				}
			});
		});
	}

	/**
	 * Checks a node for validity as a Sizzle context
	 * @param {Element|Object=} context
	 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
	 */
	function testContext( context ) {
		return context && typeof context.getElementsByTagName !== "undefined" && context;
	}

	// Expose support vars for convenience
	support = Sizzle.support = {};

	/**
	 * Detects XML nodes
	 * @param {Element|Object} elem An element or a document
	 * @returns {Boolean} True iff elem is a non-HTML XML node
	 */
	isXML = Sizzle.isXML = function( elem ) {
		// documentElement is verified for cases where it doesn't yet exist
		// (such as loading iframes in IE - #4833)
		var documentElement = elem && (elem.ownerDocument || elem).documentElement;
		return documentElement ? documentElement.nodeName !== "HTML" : false;
	};

	/**
	 * Sets document-related variables once based on the current document
	 * @param {Element|Object} [doc] An element or document object to use to set the document
	 * @returns {Object} Returns the current document
	 */
	setDocument = Sizzle.setDocument = function( node ) {
		var hasCompare, parent,
			doc = node ? node.ownerDocument || node : preferredDoc;

		// Return early if doc is invalid or already selected
		if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {
			return document;
		}

		// Update global variables
		document = doc;
		docElem = document.documentElement;
		documentIsHTML = !isXML( document );

		// Support: IE 9-11, Edge
		// Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)
		if ( (parent = document.defaultView) && parent.top !== parent ) {
			// Support: IE 11
			if ( parent.addEventListener ) {
				parent.addEventListener( "unload", unloadHandler, false );

			// Support: IE 9 - 10 only
			} else if ( parent.attachEvent ) {
				parent.attachEvent( "onunload", unloadHandler );
			}
		}

		/* Attributes
		---------------------------------------------------------------------- */

		// Support: IE<8
		// Verify that getAttribute really returns attributes and not properties
		// (excepting IE8 booleans)
		support.attributes = assert(function( div ) {
			div.className = "i";
			return !div.getAttribute("className");
		});

		/* getElement(s)By*
		---------------------------------------------------------------------- */

		// Check if getElementsByTagName("*") returns only elements
		support.getElementsByTagName = assert(function( div ) {
			div.appendChild( document.createComment("") );
			return !div.getElementsByTagName("*").length;
		});

		// Support: IE<9
		support.getElementsByClassName = rnative.test( document.getElementsByClassName );

		// Support: IE<10
		// Check if getElementById returns elements by name
		// The broken getElementById methods don't pick up programatically-set names,
		// so use a roundabout getElementsByName test
		support.getById = assert(function( div ) {
			docElem.appendChild( div ).id = expando;
			return !document.getElementsByName || !document.getElementsByName( expando ).length;
		});

		// ID find and filter
		if ( support.getById ) {
			Expr.find["ID"] = function( id, context ) {
				if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
					var m = context.getElementById( id );
					return m ? [ m ] : [];
				}
			};
			Expr.filter["ID"] = function( id ) {
				var attrId = id.replace( runescape, funescape );
				return function( elem ) {
					return elem.getAttribute("id") === attrId;
				};
			};
		} else {
			// Support: IE6/7
			// getElementById is not reliable as a find shortcut
			delete Expr.find["ID"];

			Expr.filter["ID"] =  function( id ) {
				var attrId = id.replace( runescape, funescape );
				return function( elem ) {
					var node = typeof elem.getAttributeNode !== "undefined" &&
						elem.getAttributeNode("id");
					return node && node.value === attrId;
				};
			};
		}

		// Tag
		Expr.find["TAG"] = support.getElementsByTagName ?
			function( tag, context ) {
				if ( typeof context.getElementsByTagName !== "undefined" ) {
					return context.getElementsByTagName( tag );

				// DocumentFragment nodes don't have gEBTN
				} else if ( support.qsa ) {
					return context.querySelectorAll( tag );
				}
			} :

			function( tag, context ) {
				var elem,
					tmp = [],
					i = 0,
					// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
					results = context.getElementsByTagName( tag );

				// Filter out possible comments
				if ( tag === "*" ) {
					while ( (elem = results[i++]) ) {
						if ( elem.nodeType === 1 ) {
							tmp.push( elem );
						}
					}

					return tmp;
				}
				return results;
			};

		// Class
		Expr.find["CLASS"] = support.getElementsByClassName && function( className, context ) {
			if ( typeof context.getElementsByClassName !== "undefined" && documentIsHTML ) {
				return context.getElementsByClassName( className );
			}
		};

		/* QSA/matchesSelector
		---------------------------------------------------------------------- */

		// QSA and matchesSelector support

		// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
		rbuggyMatches = [];

		// qSa(:focus) reports false when true (Chrome 21)
		// We allow this because of a bug in IE8/9 that throws an error
		// whenever `document.activeElement` is accessed on an iframe
		// So, we allow :focus to pass through QSA all the time to avoid the IE error
		// See http://bugs.jquery.com/ticket/13378
		rbuggyQSA = [];

		if ( (support.qsa = rnative.test( document.querySelectorAll )) ) {
			// Build QSA regex
			// Regex strategy adopted from Diego Perini
			assert(function( div ) {
				// Select is set to empty string on purpose
				// This is to test IE's treatment of not explicitly
				// setting a boolean content attribute,
				// since its presence should be enough
				// http://bugs.jquery.com/ticket/12359
				docElem.appendChild( div ).innerHTML = "<a id='" + expando + "'></a>" +
					"<select id='" + expando + "-\r\\' msallowcapture=''>" +
					"<option selected=''></option></select>";

				// Support: IE8, Opera 11-12.16
				// Nothing should be selected when empty strings follow ^= or $= or *=
				// The test attribute must be unknown in Opera but "safe" for WinRT
				// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
				if ( div.querySelectorAll("[msallowcapture^='']").length ) {
					rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
				}

				// Support: IE8
				// Boolean attributes and "value" are not treated correctly
				if ( !div.querySelectorAll("[selected]").length ) {
					rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
				}

				// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+
				if ( !div.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
					rbuggyQSA.push("~=");
				}

				// Webkit/Opera - :checked should return selected option elements
				// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
				// IE8 throws error here and will not see later tests
				if ( !div.querySelectorAll(":checked").length ) {
					rbuggyQSA.push(":checked");
				}

				// Support: Safari 8+, iOS 8+
				// https://bugs.webkit.org/show_bug.cgi?id=136851
				// In-page `selector#id sibing-combinator selector` fails
				if ( !div.querySelectorAll( "a#" + expando + "+*" ).length ) {
					rbuggyQSA.push(".#.+[+~]");
				}
			});

			assert(function( div ) {
				// Support: Windows 8 Native Apps
				// The type and name attributes are restricted during .innerHTML assignment
				var input = document.createElement("input");
				input.setAttribute( "type", "hidden" );
				div.appendChild( input ).setAttribute( "name", "D" );

				// Support: IE8
				// Enforce case-sensitivity of name attribute
				if ( div.querySelectorAll("[name=d]").length ) {
					rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
				}

				// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
				// IE8 throws error here and will not see later tests
				if ( !div.querySelectorAll(":enabled").length ) {
					rbuggyQSA.push( ":enabled", ":disabled" );
				}

				// Opera 10-11 does not throw on post-comma invalid pseudos
				div.querySelectorAll("*,:x");
				rbuggyQSA.push(",.*:");
			});
		}

		if ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||
			docElem.webkitMatchesSelector ||
			docElem.mozMatchesSelector ||
			docElem.oMatchesSelector ||
			docElem.msMatchesSelector) )) ) {

			assert(function( div ) {
				// Check to see if it's possible to do matchesSelector
				// on a disconnected node (IE 9)
				support.disconnectedMatch = matches.call( div, "div" );

				// This should fail with an exception
				// Gecko does not error, returns false instead
				matches.call( div, "[s!='']:x" );
				rbuggyMatches.push( "!=", pseudos );
			});
		}

		rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join("|") );
		rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join("|") );

		/* Contains
		---------------------------------------------------------------------- */
		hasCompare = rnative.test( docElem.compareDocumentPosition );

		// Element contains another
		// Purposefully self-exclusive
		// As in, an element does not contain itself
		contains = hasCompare || rnative.test( docElem.contains ) ?
			function( a, b ) {
				var adown = a.nodeType === 9 ? a.documentElement : a,
					bup = b && b.parentNode;
				return a === bup || !!( bup && bup.nodeType === 1 && (
					adown.contains ?
						adown.contains( bup ) :
						a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
				));
			} :
			function( a, b ) {
				if ( b ) {
					while ( (b = b.parentNode) ) {
						if ( b === a ) {
							return true;
						}
					}
				}
				return false;
			};

		/* Sorting
		---------------------------------------------------------------------- */

		// Document order sorting
		sortOrder = hasCompare ?
		function( a, b ) {

			// Flag for duplicate removal
			if ( a === b ) {
				hasDuplicate = true;
				return 0;
			}

			// Sort on method existence if only one input has compareDocumentPosition
			var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
			if ( compare ) {
				return compare;
			}

			// Calculate position if both inputs belong to the same document
			compare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?
				a.compareDocumentPosition( b ) :

				// Otherwise we know they are disconnected
				1;

			// Disconnected nodes
			if ( compare & 1 ||
				(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {

				// Choose the first element that is related to our preferred document
				if ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {
					return -1;
				}
				if ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {
					return 1;
				}

				// Maintain original order
				return sortInput ?
					( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
					0;
			}

			return compare & 4 ? -1 : 1;
		} :
		function( a, b ) {
			// Exit early if the nodes are identical
			if ( a === b ) {
				hasDuplicate = true;
				return 0;
			}

			var cur,
				i = 0,
				aup = a.parentNode,
				bup = b.parentNode,
				ap = [ a ],
				bp = [ b ];

			// Parentless nodes are either documents or disconnected
			if ( !aup || !bup ) {
				return a === document ? -1 :
					b === document ? 1 :
					aup ? -1 :
					bup ? 1 :
					sortInput ?
					( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
					0;

			// If the nodes are siblings, we can do a quick check
			} else if ( aup === bup ) {
				return siblingCheck( a, b );
			}

			// Otherwise we need full lists of their ancestors for comparison
			cur = a;
			while ( (cur = cur.parentNode) ) {
				ap.unshift( cur );
			}
			cur = b;
			while ( (cur = cur.parentNode) ) {
				bp.unshift( cur );
			}

			// Walk down the tree looking for a discrepancy
			while ( ap[i] === bp[i] ) {
				i++;
			}

			return i ?
				// Do a sibling check if the nodes have a common ancestor
				siblingCheck( ap[i], bp[i] ) :

				// Otherwise nodes in our document sort first
				ap[i] === preferredDoc ? -1 :
				bp[i] === preferredDoc ? 1 :
				0;
		};

		return document;
	};

	Sizzle.matches = function( expr, elements ) {
		return Sizzle( expr, null, null, elements );
	};

	Sizzle.matchesSelector = function( elem, expr ) {
		// Set document vars if needed
		if ( ( elem.ownerDocument || elem ) !== document ) {
			setDocument( elem );
		}

		// Make sure that attribute selectors are quoted
		expr = expr.replace( rattributeQuotes, "='$1']" );

		if ( support.matchesSelector && documentIsHTML &&
			!compilerCache[ expr + " " ] &&
			( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
			( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

			try {
				var ret = matches.call( elem, expr );

				// IE 9's matchesSelector returns false on disconnected nodes
				if ( ret || support.disconnectedMatch ||
						// As well, disconnected nodes are said to be in a document
						// fragment in IE 9
						elem.document && elem.document.nodeType !== 11 ) {
					return ret;
				}
			} catch (e) {}
		}

		return Sizzle( expr, document, null, [ elem ] ).length > 0;
	};

	Sizzle.contains = function( context, elem ) {
		// Set document vars if needed
		if ( ( context.ownerDocument || context ) !== document ) {
			setDocument( context );
		}
		return contains( context, elem );
	};

	Sizzle.attr = function( elem, name ) {
		// Set document vars if needed
		if ( ( elem.ownerDocument || elem ) !== document ) {
			setDocument( elem );
		}

		var fn = Expr.attrHandle[ name.toLowerCase() ],
			// Don't get fooled by Object.prototype properties (jQuery #13807)
			val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
				fn( elem, name, !documentIsHTML ) :
				undefined;

		return val !== undefined ?
			val :
			support.attributes || !documentIsHTML ?
				elem.getAttribute( name ) :
				(val = elem.getAttributeNode(name)) && val.specified ?
					val.value :
					null;
	};

	Sizzle.error = function( msg ) {
		throw new Error( "Syntax error, unrecognized expression: " + msg );
	};

	/**
	 * Document sorting and removing duplicates
	 * @param {ArrayLike} results
	 */
	Sizzle.uniqueSort = function( results ) {
		var elem,
			duplicates = [],
			j = 0,
			i = 0;

		// Unless we *know* we can detect duplicates, assume their presence
		hasDuplicate = !support.detectDuplicates;
		sortInput = !support.sortStable && results.slice( 0 );
		results.sort( sortOrder );

		if ( hasDuplicate ) {
			while ( (elem = results[i++]) ) {
				if ( elem === results[ i ] ) {
					j = duplicates.push( i );
				}
			}
			while ( j-- ) {
				results.splice( duplicates[ j ], 1 );
			}
		}

		// Clear input after sorting to release objects
		// See https://github.com/jquery/sizzle/pull/225
		sortInput = null;

		return results;
	};

	/**
	 * Utility function for retrieving the text value of an array of DOM nodes
	 * @param {Array|Element} elem
	 */
	getText = Sizzle.getText = function( elem ) {
		var node,
			ret = "",
			i = 0,
			nodeType = elem.nodeType;

		if ( !nodeType ) {
			// If no nodeType, this is expected to be an array
			while ( (node = elem[i++]) ) {
				// Do not traverse comment nodes
				ret += getText( node );
			}
		} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {
			// Use textContent for elements
			// innerText usage removed for consistency of new lines (jQuery #11153)
			if ( typeof elem.textContent === "string" ) {
				return elem.textContent;
			} else {
				// Traverse its children
				for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
					ret += getText( elem );
				}
			}
		} else if ( nodeType === 3 || nodeType === 4 ) {
			return elem.nodeValue;
		}
		// Do not include comment or processing instruction nodes

		return ret;
	};

	Expr = Sizzle.selectors = {

		// Can be adjusted by the user
		cacheLength: 50,

		createPseudo: markFunction,

		match: matchExpr,

		attrHandle: {},

		find: {},

		relative: {
			">": { dir: "parentNode", first: true },
			" ": { dir: "parentNode" },
			"+": { dir: "previousSibling", first: true },
			"~": { dir: "previousSibling" }
		},

		preFilter: {
			"ATTR": function( match ) {
				match[1] = match[1].replace( runescape, funescape );

				// Move the given value to match[3] whether quoted or unquoted
				match[3] = ( match[3] || match[4] || match[5] || "" ).replace( runescape, funescape );

				if ( match[2] === "~=" ) {
					match[3] = " " + match[3] + " ";
				}

				return match.slice( 0, 4 );
			},

			"CHILD": function( match ) {
				/* matches from matchExpr["CHILD"]
					1 type (only|nth|...)
					2 what (child|of-type)
					3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
					4 xn-component of xn+y argument ([+-]?\d*n|)
					5 sign of xn-component
					6 x of xn-component
					7 sign of y-component
					8 y of y-component
				*/
				match[1] = match[1].toLowerCase();

				if ( match[1].slice( 0, 3 ) === "nth" ) {
					// nth-* requires argument
					if ( !match[3] ) {
						Sizzle.error( match[0] );
					}

					// numeric x and y parameters for Expr.filter.CHILD
					// remember that false/true cast respectively to 0/1
					match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === "even" || match[3] === "odd" ) );
					match[5] = +( ( match[7] + match[8] ) || match[3] === "odd" );

				// other types prohibit arguments
				} else if ( match[3] ) {
					Sizzle.error( match[0] );
				}

				return match;
			},

			"PSEUDO": function( match ) {
				var excess,
					unquoted = !match[6] && match[2];

				if ( matchExpr["CHILD"].test( match[0] ) ) {
					return null;
				}

				// Accept quoted arguments as-is
				if ( match[3] ) {
					match[2] = match[4] || match[5] || "";

				// Strip excess characters from unquoted arguments
				} else if ( unquoted && rpseudo.test( unquoted ) &&
					// Get excess from tokenize (recursively)
					(excess = tokenize( unquoted, true )) &&
					// advance to the next closing parenthesis
					(excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length) ) {

					// excess is a negative index
					match[0] = match[0].slice( 0, excess );
					match[2] = unquoted.slice( 0, excess );
				}

				// Return only captures needed by the pseudo filter method (type and argument)
				return match.slice( 0, 3 );
			}
		},

		filter: {

			"TAG": function( nodeNameSelector ) {
				var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
				return nodeNameSelector === "*" ?
					function() { return true; } :
					function( elem ) {
						return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
					};
			},

			"CLASS": function( className ) {
				var pattern = classCache[ className + " " ];

				return pattern ||
					(pattern = new RegExp( "(^|" + whitespace + ")" + className + "(" + whitespace + "|$)" )) &&
					classCache( className, function( elem ) {
						return pattern.test( typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "" );
					});
			},

			"ATTR": function( name, operator, check ) {
				return function( elem ) {
					var result = Sizzle.attr( elem, name );

					if ( result == null ) {
						return operator === "!=";
					}
					if ( !operator ) {
						return true;
					}

					result += "";

					return operator === "=" ? result === check :
						operator === "!=" ? result !== check :
						operator === "^=" ? check && result.indexOf( check ) === 0 :
						operator === "*=" ? check && result.indexOf( check ) > -1 :
						operator === "$=" ? check && result.slice( -check.length ) === check :
						operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
						operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
						false;
				};
			},

			"CHILD": function( type, what, argument, first, last ) {
				var simple = type.slice( 0, 3 ) !== "nth",
					forward = type.slice( -4 ) !== "last",
					ofType = what === "of-type";

				return first === 1 && last === 0 ?

					// Shortcut for :nth-*(n)
					function( elem ) {
						return !!elem.parentNode;
					} :

					function( elem, context, xml ) {
						var cache, uniqueCache, outerCache, node, nodeIndex, start,
							dir = simple !== forward ? "nextSibling" : "previousSibling",
							parent = elem.parentNode,
							name = ofType && elem.nodeName.toLowerCase(),
							useCache = !xml && !ofType,
							diff = false;

						if ( parent ) {

							// :(first|last|only)-(child|of-type)
							if ( simple ) {
								while ( dir ) {
									node = elem;
									while ( (node = node[ dir ]) ) {
										if ( ofType ?
											node.nodeName.toLowerCase() === name :
											node.nodeType === 1 ) {

											return false;
										}
									}
									// Reverse direction for :only-* (if we haven't yet done so)
									start = dir = type === "only" && !start && "nextSibling";
								}
								return true;
							}

							start = [ forward ? parent.firstChild : parent.lastChild ];

							// non-xml :nth-child(...) stores cache data on `parent`
							if ( forward && useCache ) {

								// Seek `elem` from a previously-cached index

								// ...in a gzip-friendly way
								node = parent;
								outerCache = node[ expando ] || (node[ expando ] = {});

								// Support: IE <9 only
								// Defend against cloned attroperties (jQuery gh-1709)
								uniqueCache = outerCache[ node.uniqueID ] ||
									(outerCache[ node.uniqueID ] = {});

								cache = uniqueCache[ type ] || [];
								nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
								diff = nodeIndex && cache[ 2 ];
								node = nodeIndex && parent.childNodes[ nodeIndex ];

								while ( (node = ++nodeIndex && node && node[ dir ] ||

									// Fallback to seeking `elem` from the start
									(diff = nodeIndex = 0) || start.pop()) ) {

									// When found, cache indexes on `parent` and break
									if ( node.nodeType === 1 && ++diff && node === elem ) {
										uniqueCache[ type ] = [ dirruns, nodeIndex, diff ];
										break;
									}
								}

							} else {
								// Use previously-cached element index if available
								if ( useCache ) {
									// ...in a gzip-friendly way
									node = elem;
									outerCache = node[ expando ] || (node[ expando ] = {});

									// Support: IE <9 only
									// Defend against cloned attroperties (jQuery gh-1709)
									uniqueCache = outerCache[ node.uniqueID ] ||
										(outerCache[ node.uniqueID ] = {});

									cache = uniqueCache[ type ] || [];
									nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
									diff = nodeIndex;
								}

								// xml :nth-child(...)
								// or :nth-last-child(...) or :nth(-last)?-of-type(...)
								if ( diff === false ) {
									// Use the same loop as above to seek `elem` from the start
									while ( (node = ++nodeIndex && node && node[ dir ] ||
										(diff = nodeIndex = 0) || start.pop()) ) {

										if ( ( ofType ?
											node.nodeName.toLowerCase() === name :
											node.nodeType === 1 ) &&
											++diff ) {

											// Cache the index of each encountered element
											if ( useCache ) {
												outerCache = node[ expando ] || (node[ expando ] = {});

												// Support: IE <9 only
												// Defend against cloned attroperties (jQuery gh-1709)
												uniqueCache = outerCache[ node.uniqueID ] ||
													(outerCache[ node.uniqueID ] = {});

												uniqueCache[ type ] = [ dirruns, diff ];
											}

											if ( node === elem ) {
												break;
											}
										}
									}
								}
							}

							// Incorporate the offset, then check against cycle size
							diff -= last;
							return diff === first || ( diff % first === 0 && diff / first >= 0 );
						}
					};
			},

			"PSEUDO": function( pseudo, argument ) {
				// pseudo-class names are case-insensitive
				// http://www.w3.org/TR/selectors/#pseudo-classes
				// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
				// Remember that setFilters inherits from pseudos
				var args,
					fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
						Sizzle.error( "unsupported pseudo: " + pseudo );

				// The user may use createPseudo to indicate that
				// arguments are needed to create the filter function
				// just as Sizzle does
				if ( fn[ expando ] ) {
					return fn( argument );
				}

				// But maintain support for old signatures
				if ( fn.length > 1 ) {
					args = [ pseudo, pseudo, "", argument ];
					return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
						markFunction(function( seed, matches ) {
							var idx,
								matched = fn( seed, argument ),
								i = matched.length;
							while ( i-- ) {
								idx = indexOf( seed, matched[i] );
								seed[ idx ] = !( matches[ idx ] = matched[i] );
							}
						}) :
						function( elem ) {
							return fn( elem, 0, args );
						};
				}

				return fn;
			}
		},

		pseudos: {
			// Potentially complex pseudos
			"not": markFunction(function( selector ) {
				// Trim the selector passed to compile
				// to avoid treating leading and trailing
				// spaces as combinators
				var input = [],
					results = [],
					matcher = compile( selector.replace( rtrim, "$1" ) );

				return matcher[ expando ] ?
					markFunction(function( seed, matches, context, xml ) {
						var elem,
							unmatched = matcher( seed, null, xml, [] ),
							i = seed.length;

						// Match elements unmatched by `matcher`
						while ( i-- ) {
							if ( (elem = unmatched[i]) ) {
								seed[i] = !(matches[i] = elem);
							}
						}
					}) :
					function( elem, context, xml ) {
						input[0] = elem;
						matcher( input, null, xml, results );
						// Don't keep the element (issue #299)
						input[0] = null;
						return !results.pop();
					};
			}),

			"has": markFunction(function( selector ) {
				return function( elem ) {
					return Sizzle( selector, elem ).length > 0;
				};
			}),

			"contains": markFunction(function( text ) {
				text = text.replace( runescape, funescape );
				return function( elem ) {
					return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;
				};
			}),

			// "Whether an element is represented by a :lang() selector
			// is based solely on the element's language value
			// being equal to the identifier C,
			// or beginning with the identifier C immediately followed by "-".
			// The matching of C against the element's language value is performed case-insensitively.
			// The identifier C does not have to be a valid language name."
			// http://www.w3.org/TR/selectors/#lang-pseudo
			"lang": markFunction( function( lang ) {
				// lang value must be a valid identifier
				if ( !ridentifier.test(lang || "") ) {
					Sizzle.error( "unsupported lang: " + lang );
				}
				lang = lang.replace( runescape, funescape ).toLowerCase();
				return function( elem ) {
					var elemLang;
					do {
						if ( (elemLang = documentIsHTML ?
							elem.lang :
							elem.getAttribute("xml:lang") || elem.getAttribute("lang")) ) {

							elemLang = elemLang.toLowerCase();
							return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
						}
					} while ( (elem = elem.parentNode) && elem.nodeType === 1 );
					return false;
				};
			}),

			// Miscellaneous
			"target": function( elem ) {
				var hash = window.location && window.location.hash;
				return hash && hash.slice( 1 ) === elem.id;
			},

			"root": function( elem ) {
				return elem === docElem;
			},

			"focus": function( elem ) {
				return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
			},

			// Boolean properties
			"enabled": function( elem ) {
				return elem.disabled === false;
			},

			"disabled": function( elem ) {
				return elem.disabled === true;
			},

			"checked": function( elem ) {
				// In CSS3, :checked should return both checked and selected elements
				// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
				var nodeName = elem.nodeName.toLowerCase();
				return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
			},

			"selected": function( elem ) {
				// Accessing this property makes selected-by-default
				// options in Safari work properly
				if ( elem.parentNode ) {
					elem.parentNode.selectedIndex;
				}

				return elem.selected === true;
			},

			// Contents
			"empty": function( elem ) {
				// http://www.w3.org/TR/selectors/#empty-pseudo
				// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
				//   but not by others (comment: 8; processing instruction: 7; etc.)
				// nodeType < 6 works because attributes (2) do not appear as children
				for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
					if ( elem.nodeType < 6 ) {
						return false;
					}
				}
				return true;
			},

			"parent": function( elem ) {
				return !Expr.pseudos["empty"]( elem );
			},

			// Element/input types
			"header": function( elem ) {
				return rheader.test( elem.nodeName );
			},

			"input": function( elem ) {
				return rinputs.test( elem.nodeName );
			},

			"button": function( elem ) {
				var name = elem.nodeName.toLowerCase();
				return name === "input" && elem.type === "button" || name === "button";
			},

			"text": function( elem ) {
				var attr;
				return elem.nodeName.toLowerCase() === "input" &&
					elem.type === "text" &&

					// Support: IE<8
					// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
					( (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text" );
			},

			// Position-in-collection
			"first": createPositionalPseudo(function() {
				return [ 0 ];
			}),

			"last": createPositionalPseudo(function( matchIndexes, length ) {
				return [ length - 1 ];
			}),

			"eq": createPositionalPseudo(function( matchIndexes, length, argument ) {
				return [ argument < 0 ? argument + length : argument ];
			}),

			"even": createPositionalPseudo(function( matchIndexes, length ) {
				var i = 0;
				for ( ; i < length; i += 2 ) {
					matchIndexes.push( i );
				}
				return matchIndexes;
			}),

			"odd": createPositionalPseudo(function( matchIndexes, length ) {
				var i = 1;
				for ( ; i < length; i += 2 ) {
					matchIndexes.push( i );
				}
				return matchIndexes;
			}),

			"lt": createPositionalPseudo(function( matchIndexes, length, argument ) {
				var i = argument < 0 ? argument + length : argument;
				for ( ; --i >= 0; ) {
					matchIndexes.push( i );
				}
				return matchIndexes;
			}),

			"gt": createPositionalPseudo(function( matchIndexes, length, argument ) {
				var i = argument < 0 ? argument + length : argument;
				for ( ; ++i < length; ) {
					matchIndexes.push( i );
				}
				return matchIndexes;
			})
		}
	};

	Expr.pseudos["nth"] = Expr.pseudos["eq"];

	// Add button/input type pseudos
	for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
		Expr.pseudos[ i ] = createInputPseudo( i );
	}
	for ( i in { submit: true, reset: true } ) {
		Expr.pseudos[ i ] = createButtonPseudo( i );
	}

	// Easy API for creating new setFilters
	function setFilters() {}
	setFilters.prototype = Expr.filters = Expr.pseudos;
	Expr.setFilters = new setFilters();

	tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
		var matched, match, tokens, type,
			soFar, groups, preFilters,
			cached = tokenCache[ selector + " " ];

		if ( cached ) {
			return parseOnly ? 0 : cached.slice( 0 );
		}

		soFar = selector;
		groups = [];
		preFilters = Expr.preFilter;

		while ( soFar ) {

			// Comma and first run
			if ( !matched || (match = rcomma.exec( soFar )) ) {
				if ( match ) {
					// Don't consume trailing commas as valid
					soFar = soFar.slice( match[0].length ) || soFar;
				}
				groups.push( (tokens = []) );
			}

			matched = false;

			// Combinators
			if ( (match = rcombinators.exec( soFar )) ) {
				matched = match.shift();
				tokens.push({
					value: matched,
					// Cast descendant combinators to space
					type: match[0].replace( rtrim, " " )
				});
				soFar = soFar.slice( matched.length );
			}

			// Filters
			for ( type in Expr.filter ) {
				if ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||
					(match = preFilters[ type ]( match ))) ) {
					matched = match.shift();
					tokens.push({
						value: matched,
						type: type,
						matches: match
					});
					soFar = soFar.slice( matched.length );
				}
			}

			if ( !matched ) {
				break;
			}
		}

		// Return the length of the invalid excess
		// if we're just parsing
		// Otherwise, throw an error or return tokens
		return parseOnly ?
			soFar.length :
			soFar ?
				Sizzle.error( selector ) :
				// Cache the tokens
				tokenCache( selector, groups ).slice( 0 );
	};

	function toSelector( tokens ) {
		var i = 0,
			len = tokens.length,
			selector = "";
		for ( ; i < len; i++ ) {
			selector += tokens[i].value;
		}
		return selector;
	}

	function addCombinator( matcher, combinator, base ) {
		var dir = combinator.dir,
			checkNonElements = base && dir === "parentNode",
			doneName = done++;

		return combinator.first ?
			// Check against closest ancestor/preceding element
			function( elem, context, xml ) {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						return matcher( elem, context, xml );
					}
				}
			} :

			// Check against all ancestor/preceding elements
			function( elem, context, xml ) {
				var oldCache, uniqueCache, outerCache,
					newCache = [ dirruns, doneName ];

				// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching
				if ( xml ) {
					while ( (elem = elem[ dir ]) ) {
						if ( elem.nodeType === 1 || checkNonElements ) {
							if ( matcher( elem, context, xml ) ) {
								return true;
							}
						}
					}
				} else {
					while ( (elem = elem[ dir ]) ) {
						if ( elem.nodeType === 1 || checkNonElements ) {
							outerCache = elem[ expando ] || (elem[ expando ] = {});

							// Support: IE <9 only
							// Defend against cloned attroperties (jQuery gh-1709)
							uniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});

							if ( (oldCache = uniqueCache[ dir ]) &&
								oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

								// Assign to newCache so results back-propagate to previous elements
								return (newCache[ 2 ] = oldCache[ 2 ]);
							} else {
								// Reuse newcache so results back-propagate to previous elements
								uniqueCache[ dir ] = newCache;

								// A match means we're done; a fail means we have to keep checking
								if ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {
									return true;
								}
							}
						}
					}
				}
			};
	}

	function elementMatcher( matchers ) {
		return matchers.length > 1 ?
			function( elem, context, xml ) {
				var i = matchers.length;
				while ( i-- ) {
					if ( !matchers[i]( elem, context, xml ) ) {
						return false;
					}
				}
				return true;
			} :
			matchers[0];
	}

	function multipleContexts( selector, contexts, results ) {
		var i = 0,
			len = contexts.length;
		for ( ; i < len; i++ ) {
			Sizzle( selector, contexts[i], results );
		}
		return results;
	}

	function condense( unmatched, map, filter, context, xml ) {
		var elem,
			newUnmatched = [],
			i = 0,
			len = unmatched.length,
			mapped = map != null;

		for ( ; i < len; i++ ) {
			if ( (elem = unmatched[i]) ) {
				if ( !filter || filter( elem, context, xml ) ) {
					newUnmatched.push( elem );
					if ( mapped ) {
						map.push( i );
					}
				}
			}
		}

		return newUnmatched;
	}

	function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
		if ( postFilter && !postFilter[ expando ] ) {
			postFilter = setMatcher( postFilter );
		}
		if ( postFinder && !postFinder[ expando ] ) {
			postFinder = setMatcher( postFinder, postSelector );
		}
		return markFunction(function( seed, results, context, xml ) {
			var temp, i, elem,
				preMap = [],
				postMap = [],
				preexisting = results.length,

				// Get initial elements from seed or context
				elems = seed || multipleContexts( selector || "*", context.nodeType ? [ context ] : context, [] ),

				// Prefilter to get matcher input, preserving a map for seed-results synchronization
				matcherIn = preFilter && ( seed || !selector ) ?
					condense( elems, preMap, preFilter, context, xml ) :
					elems,

				matcherOut = matcher ?
					// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
					postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

						// ...intermediate processing is necessary
						[] :

						// ...otherwise use results directly
						results :
					matcherIn;

			// Find primary matches
			if ( matcher ) {
				matcher( matcherIn, matcherOut, context, xml );
			}

			// Apply postFilter
			if ( postFilter ) {
				temp = condense( matcherOut, postMap );
				postFilter( temp, [], context, xml );

				// Un-match failing elements by moving them back to matcherIn
				i = temp.length;
				while ( i-- ) {
					if ( (elem = temp[i]) ) {
						matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);
					}
				}
			}

			if ( seed ) {
				if ( postFinder || preFilter ) {
					if ( postFinder ) {
						// Get the final matcherOut by condensing this intermediate into postFinder contexts
						temp = [];
						i = matcherOut.length;
						while ( i-- ) {
							if ( (elem = matcherOut[i]) ) {
								// Restore matcherIn since elem is not yet a final match
								temp.push( (matcherIn[i] = elem) );
							}
						}
						postFinder( null, (matcherOut = []), temp, xml );
					}

					// Move matched elements from seed to results to keep them synchronized
					i = matcherOut.length;
					while ( i-- ) {
						if ( (elem = matcherOut[i]) &&
							(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {

							seed[temp] = !(results[temp] = elem);
						}
					}
				}

			// Add elements to results, through postFinder if defined
			} else {
				matcherOut = condense(
					matcherOut === results ?
						matcherOut.splice( preexisting, matcherOut.length ) :
						matcherOut
				);
				if ( postFinder ) {
					postFinder( null, results, matcherOut, xml );
				} else {
					push.apply( results, matcherOut );
				}
			}
		});
	}

	function matcherFromTokens( tokens ) {
		var checkContext, matcher, j,
			len = tokens.length,
			leadingRelative = Expr.relative[ tokens[0].type ],
			implicitRelative = leadingRelative || Expr.relative[" "],
			i = leadingRelative ? 1 : 0,

			// The foundational matcher ensures that elements are reachable from top-level context(s)
			matchContext = addCombinator( function( elem ) {
				return elem === checkContext;
			}, implicitRelative, true ),
			matchAnyContext = addCombinator( function( elem ) {
				return indexOf( checkContext, elem ) > -1;
			}, implicitRelative, true ),
			matchers = [ function( elem, context, xml ) {
				var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
					(checkContext = context).nodeType ?
						matchContext( elem, context, xml ) :
						matchAnyContext( elem, context, xml ) );
				// Avoid hanging onto element (issue #299)
				checkContext = null;
				return ret;
			} ];

		for ( ; i < len; i++ ) {
			if ( (matcher = Expr.relative[ tokens[i].type ]) ) {
				matchers = [ addCombinator(elementMatcher( matchers ), matcher) ];
			} else {
				matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );

				// Return special upon seeing a positional matcher
				if ( matcher[ expando ] ) {
					// Find the next relative operator (if any) for proper handling
					j = ++i;
					for ( ; j < len; j++ ) {
						if ( Expr.relative[ tokens[j].type ] ) {
							break;
						}
					}
					return setMatcher(
						i > 1 && elementMatcher( matchers ),
						i > 1 && toSelector(
							// If the preceding token was a descendant combinator, insert an implicit any-element `*`
							tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === " " ? "*" : "" })
						).replace( rtrim, "$1" ),
						matcher,
						i < j && matcherFromTokens( tokens.slice( i, j ) ),
						j < len && matcherFromTokens( (tokens = tokens.slice( j )) ),
						j < len && toSelector( tokens )
					);
				}
				matchers.push( matcher );
			}
		}

		return elementMatcher( matchers );
	}

	function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
		var bySet = setMatchers.length > 0,
			byElement = elementMatchers.length > 0,
			superMatcher = function( seed, context, xml, results, outermost ) {
				var elem, j, matcher,
					matchedCount = 0,
					i = "0",
					unmatched = seed && [],
					setMatched = [],
					contextBackup = outermostContext,
					// We must always have either seed elements or outermost context
					elems = seed || byElement && Expr.find["TAG"]( "*", outermost ),
					// Use integer dirruns iff this is the outermost matcher
					dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),
					len = elems.length;

				if ( outermost ) {
					outermostContext = context === document || context || outermost;
				}

				// Add elements passing elementMatchers directly to results
				// Support: IE<9, Safari
				// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
				for ( ; i !== len && (elem = elems[i]) != null; i++ ) {
					if ( byElement && elem ) {
						j = 0;
						if ( !context && elem.ownerDocument !== document ) {
							setDocument( elem );
							xml = !documentIsHTML;
						}
						while ( (matcher = elementMatchers[j++]) ) {
							if ( matcher( elem, context || document, xml) ) {
								results.push( elem );
								break;
							}
						}
						if ( outermost ) {
							dirruns = dirrunsUnique;
						}
					}

					// Track unmatched elements for set filters
					if ( bySet ) {
						// They will have gone through all possible matchers
						if ( (elem = !matcher && elem) ) {
							matchedCount--;
						}

						// Lengthen the array for every element, matched or not
						if ( seed ) {
							unmatched.push( elem );
						}
					}
				}

				// `i` is now the count of elements visited above, and adding it to `matchedCount`
				// makes the latter nonnegative.
				matchedCount += i;

				// Apply set filters to unmatched elements
				// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
				// equals `i`), unless we didn't visit _any_ elements in the above loop because we have
				// no element matchers and no seed.
				// Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
				// case, which will result in a "00" `matchedCount` that differs from `i` but is also
				// numerically zero.
				if ( bySet && i !== matchedCount ) {
					j = 0;
					while ( (matcher = setMatchers[j++]) ) {
						matcher( unmatched, setMatched, context, xml );
					}

					if ( seed ) {
						// Reintegrate element matches to eliminate the need for sorting
						if ( matchedCount > 0 ) {
							while ( i-- ) {
								if ( !(unmatched[i] || setMatched[i]) ) {
									setMatched[i] = pop.call( results );
								}
							}
						}

						// Discard index placeholder values to get only actual matches
						setMatched = condense( setMatched );
					}

					// Add matches to results
					push.apply( results, setMatched );

					// Seedless set matches succeeding multiple successful matchers stipulate sorting
					if ( outermost && !seed && setMatched.length > 0 &&
						( matchedCount + setMatchers.length ) > 1 ) {

						Sizzle.uniqueSort( results );
					}
				}

				// Override manipulation of globals by nested matchers
				if ( outermost ) {
					dirruns = dirrunsUnique;
					outermostContext = contextBackup;
				}

				return unmatched;
			};

		return bySet ?
			markFunction( superMatcher ) :
			superMatcher;
	}

	compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
		var i,
			setMatchers = [],
			elementMatchers = [],
			cached = compilerCache[ selector + " " ];

		if ( !cached ) {
			// Generate a function of recursive functions that can be used to check each element
			if ( !match ) {
				match = tokenize( selector );
			}
			i = match.length;
			while ( i-- ) {
				cached = matcherFromTokens( match[i] );
				if ( cached[ expando ] ) {
					setMatchers.push( cached );
				} else {
					elementMatchers.push( cached );
				}
			}

			// Cache the compiled function
			cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );

			// Save selector and tokenization
			cached.selector = selector;
		}
		return cached;
	};

	/**
	 * A low-level selection function that works with Sizzle's compiled
	 *  selector functions
	 * @param {String|Function} selector A selector or a pre-compiled
	 *  selector function built with Sizzle.compile
	 * @param {Element} context
	 * @param {Array} [results]
	 * @param {Array} [seed] A set of elements to match against
	 */
	select = Sizzle.select = function( selector, context, results, seed ) {
		var i, tokens, token, type, find,
			compiled = typeof selector === "function" && selector,
			match = !seed && tokenize( (selector = compiled.selector || selector) );

		results = results || [];

		// Try to minimize operations if there is only one selector in the list and no seed
		// (the latter of which guarantees us context)
		if ( match.length === 1 ) {

			// Reduce context if the leading compound selector is an ID
			tokens = match[0] = match[0].slice( 0 );
			if ( tokens.length > 2 && (token = tokens[0]).type === "ID" &&
					support.getById && context.nodeType === 9 && documentIsHTML &&
					Expr.relative[ tokens[1].type ] ) {

				context = ( Expr.find["ID"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];
				if ( !context ) {
					return results;

				// Precompiled matchers will still verify ancestry, so step up a level
				} else if ( compiled ) {
					context = context.parentNode;
				}

				selector = selector.slice( tokens.shift().value.length );
			}

			// Fetch a seed set for right-to-left matching
			i = matchExpr["needsContext"].test( selector ) ? 0 : tokens.length;
			while ( i-- ) {
				token = tokens[i];

				// Abort if we hit a combinator
				if ( Expr.relative[ (type = token.type) ] ) {
					break;
				}
				if ( (find = Expr.find[ type ]) ) {
					// Search, expanding context for leading sibling combinators
					if ( (seed = find(
						token.matches[0].replace( runescape, funescape ),
						rsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context
					)) ) {

						// If seed is empty or no tokens remain, we can return early
						tokens.splice( i, 1 );
						selector = seed.length && toSelector( tokens );
						if ( !selector ) {
							push.apply( results, seed );
							return results;
						}

						break;
					}
				}
			}
		}

		// Compile and execute a filtering function if one is not provided
		// Provide `match` to avoid retokenization if we modified the selector above
		( compiled || compile( selector, match ) )(
			seed,
			context,
			!documentIsHTML,
			results,
			!context || rsibling.test( selector ) && testContext( context.parentNode ) || context
		);
		return results;
	};

	// One-time assignments

	// Sort stability
	support.sortStable = expando.split("").sort( sortOrder ).join("") === expando;

	// Support: Chrome 14-35+
	// Always assume duplicates if they aren't passed to the comparison function
	support.detectDuplicates = !!hasDuplicate;

	// Initialize against the default document
	setDocument();

	// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
	// Detached nodes confoundingly follow *each other*
	support.sortDetached = assert(function( div1 ) {
		// Should return 1, but returns 4 (following)
		return div1.compareDocumentPosition( document.createElement("div") ) & 1;
	});

	// Support: IE<8
	// Prevent attribute/property "interpolation"
	// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
	if ( !assert(function( div ) {
		div.innerHTML = "<a href='#'></a>";
		return div.firstChild.getAttribute("href") === "#" ;
	}) ) {
		addHandle( "type|href|height|width", function( elem, name, isXML ) {
			if ( !isXML ) {
				return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
			}
		});
	}

	// Support: IE<9
	// Use defaultValue in place of getAttribute("value")
	if ( !support.attributes || !assert(function( div ) {
		div.innerHTML = "<input/>";
		div.firstChild.setAttribute( "value", "" );
		return div.firstChild.getAttribute( "value" ) === "";
	}) ) {
		addHandle( "value", function( elem, name, isXML ) {
			if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
				return elem.defaultValue;
			}
		});
	}

	// Support: IE<9
	// Use getAttributeNode to fetch booleans when getAttribute lies
	if ( !assert(function( div ) {
		return div.getAttribute("disabled") == null;
	}) ) {
		addHandle( booleans, function( elem, name, isXML ) {
			var val;
			if ( !isXML ) {
				return elem[ name ] === true ? name.toLowerCase() :
						(val = elem.getAttributeNode( name )) && val.specified ?
						val.value :
					null;
			}
		});
	}

	return Sizzle;

	})( window );



	jQuery.find = Sizzle;
	jQuery.expr = Sizzle.selectors;
	jQuery.expr[ ":" ] = jQuery.expr.pseudos;
	jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
	jQuery.text = Sizzle.getText;
	jQuery.isXMLDoc = Sizzle.isXML;
	jQuery.contains = Sizzle.contains;



	var dir = function( elem, dir, until ) {
		var matched = [],
			truncate = until !== undefined;

		while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {
			if ( elem.nodeType === 1 ) {
				if ( truncate && jQuery( elem ).is( until ) ) {
					break;
				}
				matched.push( elem );
			}
		}
		return matched;
	};


	var siblings = function( n, elem ) {
		var matched = [];

		for ( ; n; n = n.nextSibling ) {
			if ( n.nodeType === 1 && n !== elem ) {
				matched.push( n );
			}
		}

		return matched;
	};


	var rneedsContext = jQuery.expr.match.needsContext;

	var rsingleTag = ( /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/ );



	var risSimple = /^.[^:#\[\.,]*$/;

	// Implement the identical functionality for filter and not
	function winnow( elements, qualifier, not ) {
		if ( jQuery.isFunction( qualifier ) ) {
			return jQuery.grep( elements, function( elem, i ) {
				/* jshint -W018 */
				return !!qualifier.call( elem, i, elem ) !== not;
			} );

		}

		if ( qualifier.nodeType ) {
			return jQuery.grep( elements, function( elem ) {
				return ( elem === qualifier ) !== not;
			} );

		}

		if ( typeof qualifier === "string" ) {
			if ( risSimple.test( qualifier ) ) {
				return jQuery.filter( qualifier, elements, not );
			}

			qualifier = jQuery.filter( qualifier, elements );
		}

		return jQuery.grep( elements, function( elem ) {
			return ( indexOf.call( qualifier, elem ) > -1 ) !== not;
		} );
	}

	jQuery.filter = function( expr, elems, not ) {
		var elem = elems[ 0 ];

		if ( not ) {
			expr = ":not(" + expr + ")";
		}

		return elems.length === 1 && elem.nodeType === 1 ?
			jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :
			jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
				return elem.nodeType === 1;
			} ) );
	};

	jQuery.fn.extend( {
		find: function( selector ) {
			var i,
				len = this.length,
				ret = [],
				self = this;

			if ( typeof selector !== "string" ) {
				return this.pushStack( jQuery( selector ).filter( function() {
					for ( i = 0; i < len; i++ ) {
						if ( jQuery.contains( self[ i ], this ) ) {
							return true;
						}
					}
				} ) );
			}

			for ( i = 0; i < len; i++ ) {
				jQuery.find( selector, self[ i ], ret );
			}

			// Needed because $( selector, context ) becomes $( context ).find( selector )
			ret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );
			ret.selector = this.selector ? this.selector + " " + selector : selector;
			return ret;
		},
		filter: function( selector ) {
			return this.pushStack( winnow( this, selector || [], false ) );
		},
		not: function( selector ) {
			return this.pushStack( winnow( this, selector || [], true ) );
		},
		is: function( selector ) {
			return !!winnow(
				this,

				// If this is a positional/relative selector, check membership in the returned set
				// so $("p:first").is("p:last") won't return true for a doc with two "p".
				typeof selector === "string" && rneedsContext.test( selector ) ?
					jQuery( selector ) :
					selector || [],
				false
			).length;
		}
	} );


	// Initialize a jQuery object


	// A central reference to the root jQuery(document)
	var rootjQuery,

		// A simple way to check for HTML strings
		// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
		// Strict HTML recognition (#11290: must start with <)
		rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,

		init = jQuery.fn.init = function( selector, context, root ) {
			var match, elem;

			// HANDLE: $(""), $(null), $(undefined), $(false)
			if ( !selector ) {
				return this;
			}

			// Method init() accepts an alternate rootjQuery
			// so migrate can support jQuery.sub (gh-2101)
			root = root || rootjQuery;

			// Handle HTML strings
			if ( typeof selector === "string" ) {
				if ( selector[ 0 ] === "<" &&
					selector[ selector.length - 1 ] === ">" &&
					selector.length >= 3 ) {

					// Assume that strings that start and end with <> are HTML and skip the regex check
					match = [ null, selector, null ];

				} else {
					match = rquickExpr.exec( selector );
				}

				// Match html or make sure no context is specified for #id
				if ( match && ( match[ 1 ] || !context ) ) {

					// HANDLE: $(html) -> $(array)
					if ( match[ 1 ] ) {
						context = context instanceof jQuery ? context[ 0 ] : context;

						// Option to run scripts is true for back-compat
						// Intentionally let the error be thrown if parseHTML is not present
						jQuery.merge( this, jQuery.parseHTML(
							match[ 1 ],
							context && context.nodeType ? context.ownerDocument || context : document,
							true
						) );

						// HANDLE: $(html, props)
						if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {
							for ( match in context ) {

								// Properties of context are called as methods if possible
								if ( jQuery.isFunction( this[ match ] ) ) {
									this[ match ]( context[ match ] );

								// ...and otherwise set as attributes
								} else {
									this.attr( match, context[ match ] );
								}
							}
						}

						return this;

					// HANDLE: $(#id)
					} else {
						elem = document.getElementById( match[ 2 ] );

						// Support: Blackberry 4.6
						// gEBID returns nodes no longer in the document (#6963)
						if ( elem && elem.parentNode ) {

							// Inject the element directly into the jQuery object
							this.length = 1;
							this[ 0 ] = elem;
						}

						this.context = document;
						this.selector = selector;
						return this;
					}

				// HANDLE: $(expr, $(...))
				} else if ( !context || context.jquery ) {
					return ( context || root ).find( selector );

				// HANDLE: $(expr, context)
				// (which is just equivalent to: $(context).find(expr)
				} else {
					return this.constructor( context ).find( selector );
				}

			// HANDLE: $(DOMElement)
			} else if ( selector.nodeType ) {
				this.context = this[ 0 ] = selector;
				this.length = 1;
				return this;

			// HANDLE: $(function)
			// Shortcut for document ready
			} else if ( jQuery.isFunction( selector ) ) {
				return root.ready !== undefined ?
					root.ready( selector ) :

					// Execute immediately if ready is not present
					selector( jQuery );
			}

			if ( selector.selector !== undefined ) {
				this.selector = selector.selector;
				this.context = selector.context;
			}

			return jQuery.makeArray( selector, this );
		};

	// Give the init function the jQuery prototype for later instantiation
	init.prototype = jQuery.fn;

	// Initialize central reference
	rootjQuery = jQuery( document );


	var rparentsprev = /^(?:parents|prev(?:Until|All))/,

		// Methods guaranteed to produce a unique set when starting from a unique set
		guaranteedUnique = {
			children: true,
			contents: true,
			next: true,
			prev: true
		};

	jQuery.fn.extend( {
		has: function( target ) {
			var targets = jQuery( target, this ),
				l = targets.length;

			return this.filter( function() {
				var i = 0;
				for ( ; i < l; i++ ) {
					if ( jQuery.contains( this, targets[ i ] ) ) {
						return true;
					}
				}
			} );
		},

		closest: function( selectors, context ) {
			var cur,
				i = 0,
				l = this.length,
				matched = [],
				pos = rneedsContext.test( selectors ) || typeof selectors !== "string" ?
					jQuery( selectors, context || this.context ) :
					0;

			for ( ; i < l; i++ ) {
				for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {

					// Always skip document fragments
					if ( cur.nodeType < 11 && ( pos ?
						pos.index( cur ) > -1 :

						// Don't pass non-elements to Sizzle
						cur.nodeType === 1 &&
							jQuery.find.matchesSelector( cur, selectors ) ) ) {

						matched.push( cur );
						break;
					}
				}
			}

			return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );
		},

		// Determine the position of an element within the set
		index: function( elem ) {

			// No argument, return index in parent
			if ( !elem ) {
				return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
			}

			// Index in selector
			if ( typeof elem === "string" ) {
				return indexOf.call( jQuery( elem ), this[ 0 ] );
			}

			// Locate the position of the desired element
			return indexOf.call( this,

				// If it receives a jQuery object, the first element is used
				elem.jquery ? elem[ 0 ] : elem
			);
		},

		add: function( selector, context ) {
			return this.pushStack(
				jQuery.uniqueSort(
					jQuery.merge( this.get(), jQuery( selector, context ) )
				)
			);
		},

		addBack: function( selector ) {
			return this.add( selector == null ?
				this.prevObject : this.prevObject.filter( selector )
			);
		}
	} );

	function sibling( cur, dir ) {
		while ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}
		return cur;
	}

	jQuery.each( {
		parent: function( elem ) {
			var parent = elem.parentNode;
			return parent && parent.nodeType !== 11 ? parent : null;
		},
		parents: function( elem ) {
			return dir( elem, "parentNode" );
		},
		parentsUntil: function( elem, i, until ) {
			return dir( elem, "parentNode", until );
		},
		next: function( elem ) {
			return sibling( elem, "nextSibling" );
		},
		prev: function( elem ) {
			return sibling( elem, "previousSibling" );
		},
		nextAll: function( elem ) {
			return dir( elem, "nextSibling" );
		},
		prevAll: function( elem ) {
			return dir( elem, "previousSibling" );
		},
		nextUntil: function( elem, i, until ) {
			return dir( elem, "nextSibling", until );
		},
		prevUntil: function( elem, i, until ) {
			return dir( elem, "previousSibling", until );
		},
		siblings: function( elem ) {
			return siblings( ( elem.parentNode || {} ).firstChild, elem );
		},
		children: function( elem ) {
			return siblings( elem.firstChild );
		},
		contents: function( elem ) {
			return elem.contentDocument || jQuery.merge( [], elem.childNodes );
		}
	}, function( name, fn ) {
		jQuery.fn[ name ] = function( until, selector ) {
			var matched = jQuery.map( this, fn, until );

			if ( name.slice( -5 ) !== "Until" ) {
				selector = until;
			}

			if ( selector && typeof selector === "string" ) {
				matched = jQuery.filter( selector, matched );
			}

			if ( this.length > 1 ) {

				// Remove duplicates
				if ( !guaranteedUnique[ name ] ) {
					jQuery.uniqueSort( matched );
				}

				// Reverse order for parents* and prev-derivatives
				if ( rparentsprev.test( name ) ) {
					matched.reverse();
				}
			}

			return this.pushStack( matched );
		};
	} );
	var rnotwhite = ( /\S+/g );



	// Convert String-formatted options into Object-formatted ones
	function createOptions( options ) {
		var object = {};
		jQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {
			object[ flag ] = true;
		} );
		return object;
	}

	/*
	 * Create a callback list using the following parameters:
	 *
	 *	options: an optional list of space-separated options that will change how
	 *			the callback list behaves or a more traditional option object
	 *
	 * By default a callback list will act like an event callback list and can be
	 * "fired" multiple times.
	 *
	 * Possible options:
	 *
	 *	once:			will ensure the callback list can only be fired once (like a Deferred)
	 *
	 *	memory:			will keep track of previous values and will call any callback added
	 *					after the list has been fired right away with the latest "memorized"
	 *					values (like a Deferred)
	 *
	 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
	 *
	 *	stopOnFalse:	interrupt callings when a callback returns false
	 *
	 */
	jQuery.Callbacks = function( options ) {

		// Convert options from String-formatted to Object-formatted if needed
		// (we check in cache first)
		options = typeof options === "string" ?
			createOptions( options ) :
			jQuery.extend( {}, options );

		var // Flag to know if list is currently firing
			firing,

			// Last fire value for non-forgettable lists
			memory,

			// Flag to know if list was already fired
			fired,

			// Flag to prevent firing
			locked,

			// Actual callback list
			list = [],

			// Queue of execution data for repeatable lists
			queue = [],

			// Index of currently firing callback (modified by add/remove as needed)
			firingIndex = -1,

			// Fire callbacks
			fire = function() {

				// Enforce single-firing
				locked = options.once;

				// Execute callbacks for all pending executions,
				// respecting firingIndex overrides and runtime changes
				fired = firing = true;
				for ( ; queue.length; firingIndex = -1 ) {
					memory = queue.shift();
					while ( ++firingIndex < list.length ) {

						// Run callback and check for early termination
						if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&
							options.stopOnFalse ) {

							// Jump to end and forget the data so .add doesn't re-fire
							firingIndex = list.length;
							memory = false;
						}
					}
				}

				// Forget the data if we're done with it
				if ( !options.memory ) {
					memory = false;
				}

				firing = false;

				// Clean up if we're done firing for good
				if ( locked ) {

					// Keep an empty list if we have data for future add calls
					if ( memory ) {
						list = [];

					// Otherwise, this object is spent
					} else {
						list = "";
					}
				}
			},

			// Actual Callbacks object
			self = {

				// Add a callback or a collection of callbacks to the list
				add: function() {
					if ( list ) {

						// If we have memory from a past run, we should fire after adding
						if ( memory && !firing ) {
							firingIndex = list.length - 1;
							queue.push( memory );
						}

						( function add( args ) {
							jQuery.each( args, function( _, arg ) {
								if ( jQuery.isFunction( arg ) ) {
									if ( !options.unique || !self.has( arg ) ) {
										list.push( arg );
									}
								} else if ( arg && arg.length && jQuery.type( arg ) !== "string" ) {

									// Inspect recursively
									add( arg );
								}
							} );
						} )( arguments );

						if ( memory && !firing ) {
							fire();
						}
					}
					return this;
				},

				// Remove a callback from the list
				remove: function() {
					jQuery.each( arguments, function( _, arg ) {
						var index;
						while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
							list.splice( index, 1 );

							// Handle firing indexes
							if ( index <= firingIndex ) {
								firingIndex--;
							}
						}
					} );
					return this;
				},

				// Check if a given callback is in the list.
				// If no argument is given, return whether or not list has callbacks attached.
				has: function( fn ) {
					return fn ?
						jQuery.inArray( fn, list ) > -1 :
						list.length > 0;
				},

				// Remove all callbacks from the list
				empty: function() {
					if ( list ) {
						list = [];
					}
					return this;
				},

				// Disable .fire and .add
				// Abort any current/pending executions
				// Clear all callbacks and values
				disable: function() {
					locked = queue = [];
					list = memory = "";
					return this;
				},
				disabled: function() {
					return !list;
				},

				// Disable .fire
				// Also disable .add unless we have memory (since it would have no effect)
				// Abort any pending executions
				lock: function() {
					locked = queue = [];
					if ( !memory ) {
						list = memory = "";
					}
					return this;
				},
				locked: function() {
					return !!locked;
				},

				// Call all callbacks with the given context and arguments
				fireWith: function( context, args ) {
					if ( !locked ) {
						args = args || [];
						args = [ context, args.slice ? args.slice() : args ];
						queue.push( args );
						if ( !firing ) {
							fire();
						}
					}
					return this;
				},

				// Call all the callbacks with the given arguments
				fire: function() {
					self.fireWith( this, arguments );
					return this;
				},

				// To know if the callbacks have already been called at least once
				fired: function() {
					return !!fired;
				}
			};

		return self;
	};


	jQuery.extend( {

		Deferred: function( func ) {
			var tuples = [

					// action, add listener, listener list, final state
					[ "resolve", "done", jQuery.Callbacks( "once memory" ), "resolved" ],
					[ "reject", "fail", jQuery.Callbacks( "once memory" ), "rejected" ],
					[ "notify", "progress", jQuery.Callbacks( "memory" ) ]
				],
				state = "pending",
				promise = {
					state: function() {
						return state;
					},
					always: function() {
						deferred.done( arguments ).fail( arguments );
						return this;
					},
					then: function( /* fnDone, fnFail, fnProgress */ ) {
						var fns = arguments;
						return jQuery.Deferred( function( newDefer ) {
							jQuery.each( tuples, function( i, tuple ) {
								var fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];

								// deferred[ done | fail | progress ] for forwarding actions to newDefer
								deferred[ tuple[ 1 ] ]( function() {
									var returned = fn && fn.apply( this, arguments );
									if ( returned && jQuery.isFunction( returned.promise ) ) {
										returned.promise()
											.progress( newDefer.notify )
											.done( newDefer.resolve )
											.fail( newDefer.reject );
									} else {
										newDefer[ tuple[ 0 ] + "With" ](
											this === promise ? newDefer.promise() : this,
											fn ? [ returned ] : arguments
										);
									}
								} );
							} );
							fns = null;
						} ).promise();
					},

					// Get a promise for this deferred
					// If obj is provided, the promise aspect is added to the object
					promise: function( obj ) {
						return obj != null ? jQuery.extend( obj, promise ) : promise;
					}
				},
				deferred = {};

			// Keep pipe for back-compat
			promise.pipe = promise.then;

			// Add list-specific methods
			jQuery.each( tuples, function( i, tuple ) {
				var list = tuple[ 2 ],
					stateString = tuple[ 3 ];

				// promise[ done | fail | progress ] = list.add
				promise[ tuple[ 1 ] ] = list.add;

				// Handle state
				if ( stateString ) {
					list.add( function() {

						// state = [ resolved | rejected ]
						state = stateString;

					// [ reject_list | resolve_list ].disable; progress_list.lock
					}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );
				}

				// deferred[ resolve | reject | notify ]
				deferred[ tuple[ 0 ] ] = function() {
					deferred[ tuple[ 0 ] + "With" ]( this === deferred ? promise : this, arguments );
					return this;
				};
				deferred[ tuple[ 0 ] + "With" ] = list.fireWith;
			} );

			// Make the deferred a promise
			promise.promise( deferred );

			// Call given func if any
			if ( func ) {
				func.call( deferred, deferred );
			}

			// All done!
			return deferred;
		},

		// Deferred helper
		when: function( subordinate /* , ..., subordinateN */ ) {
			var i = 0,
				resolveValues = slice.call( arguments ),
				length = resolveValues.length,

				// the count of uncompleted subordinates
				remaining = length !== 1 ||
					( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,

				// the master Deferred.
				// If resolveValues consist of only a single Deferred, just use that.
				deferred = remaining === 1 ? subordinate : jQuery.Deferred(),

				// Update function for both resolve and progress values
				updateFunc = function( i, contexts, values ) {
					return function( value ) {
						contexts[ i ] = this;
						values[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
						if ( values === progressValues ) {
							deferred.notifyWith( contexts, values );
						} else if ( !( --remaining ) ) {
							deferred.resolveWith( contexts, values );
						}
					};
				},

				progressValues, progressContexts, resolveContexts;

			// Add listeners to Deferred subordinates; treat others as resolved
			if ( length > 1 ) {
				progressValues = new Array( length );
				progressContexts = new Array( length );
				resolveContexts = new Array( length );
				for ( ; i < length; i++ ) {
					if ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {
						resolveValues[ i ].promise()
							.progress( updateFunc( i, progressContexts, progressValues ) )
							.done( updateFunc( i, resolveContexts, resolveValues ) )
							.fail( deferred.reject );
					} else {
						--remaining;
					}
				}
			}

			// If we're not waiting on anything, resolve the master
			if ( !remaining ) {
				deferred.resolveWith( resolveContexts, resolveValues );
			}

			return deferred.promise();
		}
	} );


	// The deferred used on DOM ready
	var readyList;

	jQuery.fn.ready = function( fn ) {

		// Add the callback
		jQuery.ready.promise().done( fn );

		return this;
	};

	jQuery.extend( {

		// Is the DOM ready to be used? Set to true once it occurs.
		isReady: false,

		// A counter to track how many items to wait for before
		// the ready event fires. See #6781
		readyWait: 1,

		// Hold (or release) the ready event
		holdReady: function( hold ) {
			if ( hold ) {
				jQuery.readyWait++;
			} else {
				jQuery.ready( true );
			}
		},

		// Handle when the DOM is ready
		ready: function( wait ) {

			// Abort if there are pending holds or we're already ready
			if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
				return;
			}

			// Remember that the DOM is ready
			jQuery.isReady = true;

			// If a normal DOM Ready event fired, decrement, and wait if need be
			if ( wait !== true && --jQuery.readyWait > 0 ) {
				return;
			}

			// If there are functions bound, to execute
			readyList.resolveWith( document, [ jQuery ] );

			// Trigger any bound ready events
			if ( jQuery.fn.triggerHandler ) {
				jQuery( document ).triggerHandler( "ready" );
				jQuery( document ).off( "ready" );
			}
		}
	} );

	/**
	 * The ready event handler and self cleanup method
	 */
	function completed() {
		document.removeEventListener( "DOMContentLoaded", completed );
		window.removeEventListener( "load", completed );
		jQuery.ready();
	}

	jQuery.ready.promise = function( obj ) {
		if ( !readyList ) {

			readyList = jQuery.Deferred();

			// Catch cases where $(document).ready() is called
			// after the browser event has already occurred.
			// Support: IE9-10 only
			// Older IE sometimes signals "interactive" too soon
			if ( document.readyState === "complete" ||
				( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {

				// Handle it asynchronously to allow scripts the opportunity to delay ready
				window.setTimeout( jQuery.ready );

			} else {

				// Use the handy event callback
				document.addEventListener( "DOMContentLoaded", completed );

				// A fallback to window.onload, that will always work
				window.addEventListener( "load", completed );
			}
		}
		return readyList.promise( obj );
	};

	// Kick off the DOM ready check even if the user does not
	jQuery.ready.promise();




	// Multifunctional method to get and set values of a collection
	// The value/s can optionally be executed if it's a function
	var access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
		var i = 0,
			len = elems.length,
			bulk = key == null;

		// Sets many values
		if ( jQuery.type( key ) === "object" ) {
			chainable = true;
			for ( i in key ) {
				access( elems, fn, i, key[ i ], true, emptyGet, raw );
			}

		// Sets one value
		} else if ( value !== undefined ) {
			chainable = true;

			if ( !jQuery.isFunction( value ) ) {
				raw = true;
			}

			if ( bulk ) {

				// Bulk operations run against the entire set
				if ( raw ) {
					fn.call( elems, value );
					fn = null;

				// ...except when executing function values
				} else {
					bulk = fn;
					fn = function( elem, key, value ) {
						return bulk.call( jQuery( elem ), value );
					};
				}
			}

			if ( fn ) {
				for ( ; i < len; i++ ) {
					fn(
						elems[ i ], key, raw ?
						value :
						value.call( elems[ i ], i, fn( elems[ i ], key ) )
					);
				}
			}
		}

		return chainable ?
			elems :

			// Gets
			bulk ?
				fn.call( elems ) :
				len ? fn( elems[ 0 ], key ) : emptyGet;
	};
	var acceptData = function( owner ) {

		// Accepts only:
		//  - Node
		//    - Node.ELEMENT_NODE
		//    - Node.DOCUMENT_NODE
		//  - Object
		//    - Any
		/* jshint -W018 */
		return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
	};




	function Data() {
		this.expando = jQuery.expando + Data.uid++;
	}

	Data.uid = 1;

	Data.prototype = {

		register: function( owner, initial ) {
			var value = initial || {};

			// If it is a node unlikely to be stringify-ed or looped over
			// use plain assignment
			if ( owner.nodeType ) {
				owner[ this.expando ] = value;

			// Otherwise secure it in a non-enumerable, non-writable property
			// configurability must be true to allow the property to be
			// deleted with the delete operator
			} else {
				Object.defineProperty( owner, this.expando, {
					value: value,
					writable: true,
					configurable: true
				} );
			}
			return owner[ this.expando ];
		},
		cache: function( owner ) {

			// We can accept data for non-element nodes in modern browsers,
			// but we should not, see #8335.
			// Always return an empty object.
			if ( !acceptData( owner ) ) {
				return {};
			}

			// Check if the owner object already has a cache
			var value = owner[ this.expando ];

			// If not, create one
			if ( !value ) {
				value = {};

				// We can accept data for non-element nodes in modern browsers,
				// but we should not, see #8335.
				// Always return an empty object.
				if ( acceptData( owner ) ) {

					// If it is a node unlikely to be stringify-ed or looped over
					// use plain assignment
					if ( owner.nodeType ) {
						owner[ this.expando ] = value;

					// Otherwise secure it in a non-enumerable property
					// configurable must be true to allow the property to be
					// deleted when data is removed
					} else {
						Object.defineProperty( owner, this.expando, {
							value: value,
							configurable: true
						} );
					}
				}
			}

			return value;
		},
		set: function( owner, data, value ) {
			var prop,
				cache = this.cache( owner );

			// Handle: [ owner, key, value ] args
			if ( typeof data === "string" ) {
				cache[ data ] = value;

			// Handle: [ owner, { properties } ] args
			} else {

				// Copy the properties one-by-one to the cache object
				for ( prop in data ) {
					cache[ prop ] = data[ prop ];
				}
			}
			return cache;
		},
		get: function( owner, key ) {
			return key === undefined ?
				this.cache( owner ) :
				owner[ this.expando ] && owner[ this.expando ][ key ];
		},
		access: function( owner, key, value ) {
			var stored;

			// In cases where either:
			//
			//   1. No key was specified
			//   2. A string key was specified, but no value provided
			//
			// Take the "read" path and allow the get method to determine
			// which value to return, respectively either:
			//
			//   1. The entire cache object
			//   2. The data stored at the key
			//
			if ( key === undefined ||
					( ( key && typeof key === "string" ) && value === undefined ) ) {

				stored = this.get( owner, key );

				return stored !== undefined ?
					stored : this.get( owner, jQuery.camelCase( key ) );
			}

			// When the key is not a string, or both a key and value
			// are specified, set or extend (existing objects) with either:
			//
			//   1. An object of properties
			//   2. A key and value
			//
			this.set( owner, key, value );

			// Since the "set" path can have two possible entry points
			// return the expected data based on which path was taken[*]
			return value !== undefined ? value : key;
		},
		remove: function( owner, key ) {
			var i, name, camel,
				cache = owner[ this.expando ];

			if ( cache === undefined ) {
				return;
			}

			if ( key === undefined ) {
				this.register( owner );

			} else {

				// Support array or space separated string of keys
				if ( jQuery.isArray( key ) ) {

					// If "name" is an array of keys...
					// When data is initially created, via ("key", "val") signature,
					// keys will be converted to camelCase.
					// Since there is no way to tell _how_ a key was added, remove
					// both plain key and camelCase key. #12786
					// This will only penalize the array argument path.
					name = key.concat( key.map( jQuery.camelCase ) );
				} else {
					camel = jQuery.camelCase( key );

					// Try the string as a key before any manipulation
					if ( key in cache ) {
						name = [ key, camel ];
					} else {

						// If a key with the spaces exists, use it.
						// Otherwise, create an array by matching non-whitespace
						name = camel;
						name = name in cache ?
							[ name ] : ( name.match( rnotwhite ) || [] );
					}
				}

				i = name.length;

				while ( i-- ) {
					delete cache[ name[ i ] ];
				}
			}

			// Remove the expando if there's no more data
			if ( key === undefined || jQuery.isEmptyObject( cache ) ) {

				// Support: Chrome <= 35-45+
				// Webkit & Blink performance suffers when deleting properties
				// from DOM nodes, so set to undefined instead
				// https://code.google.com/p/chromium/issues/detail?id=378607
				if ( owner.nodeType ) {
					owner[ this.expando ] = undefined;
				} else {
					delete owner[ this.expando ];
				}
			}
		},
		hasData: function( owner ) {
			var cache = owner[ this.expando ];
			return cache !== undefined && !jQuery.isEmptyObject( cache );
		}
	};
	var dataPriv = new Data();

	var dataUser = new Data();



	//	Implementation Summary
	//
	//	1. Enforce API surface and semantic compatibility with 1.9.x branch
	//	2. Improve the module's maintainability by reducing the storage
	//		paths to a single mechanism.
	//	3. Use the same single mechanism to support "private" and "user" data.
	//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
	//	5. Avoid exposing implementation details on user objects (eg. expando properties)
	//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

	var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
		rmultiDash = /[A-Z]/g;

	function dataAttr( elem, key, data ) {
		var name;

		// If nothing was found internally, try to fetch any
		// data from the HTML5 data-* attribute
		if ( data === undefined && elem.nodeType === 1 ) {
			name = "data-" + key.replace( rmultiDash, "-$&" ).toLowerCase();
			data = elem.getAttribute( name );

			if ( typeof data === "string" ) {
				try {
					data = data === "true" ? true :
						data === "false" ? false :
						data === "null" ? null :

						// Only convert to a number if it doesn't change the string
						+data + "" === data ? +data :
						rbrace.test( data ) ? jQuery.parseJSON( data ) :
						data;
				} catch ( e ) {}

				// Make sure we set the data so it isn't changed later
				dataUser.set( elem, key, data );
			} else {
				data = undefined;
			}
		}
		return data;
	}

	jQuery.extend( {
		hasData: function( elem ) {
			return dataUser.hasData( elem ) || dataPriv.hasData( elem );
		},

		data: function( elem, name, data ) {
			return dataUser.access( elem, name, data );
		},

		removeData: function( elem, name ) {
			dataUser.remove( elem, name );
		},

		// TODO: Now that all calls to _data and _removeData have been replaced
		// with direct calls to dataPriv methods, these can be deprecated.
		_data: function( elem, name, data ) {
			return dataPriv.access( elem, name, data );
		},

		_removeData: function( elem, name ) {
			dataPriv.remove( elem, name );
		}
	} );

	jQuery.fn.extend( {
		data: function( key, value ) {
			var i, name, data,
				elem = this[ 0 ],
				attrs = elem && elem.attributes;

			// Gets all values
			if ( key === undefined ) {
				if ( this.length ) {
					data = dataUser.get( elem );

					if ( elem.nodeType === 1 && !dataPriv.get( elem, "hasDataAttrs" ) ) {
						i = attrs.length;
						while ( i-- ) {

							// Support: IE11+
							// The attrs elements can be null (#14894)
							if ( attrs[ i ] ) {
								name = attrs[ i ].name;
								if ( name.indexOf( "data-" ) === 0 ) {
									name = jQuery.camelCase( name.slice( 5 ) );
									dataAttr( elem, name, data[ name ] );
								}
							}
						}
						dataPriv.set( elem, "hasDataAttrs", true );
					}
				}

				return data;
			}

			// Sets multiple values
			if ( typeof key === "object" ) {
				return this.each( function() {
					dataUser.set( this, key );
				} );
			}

			return access( this, function( value ) {
				var data, camelKey;

				// The calling jQuery object (element matches) is not empty
				// (and therefore has an element appears at this[ 0 ]) and the
				// `value` parameter was not undefined. An empty jQuery object
				// will result in `undefined` for elem = this[ 0 ] which will
				// throw an exception if an attempt to read a data cache is made.
				if ( elem && value === undefined ) {

					// Attempt to get data from the cache
					// with the key as-is
					data = dataUser.get( elem, key ) ||

						// Try to find dashed key if it exists (gh-2779)
						// This is for 2.2.x only
						dataUser.get( elem, key.replace( rmultiDash, "-$&" ).toLowerCase() );

					if ( data !== undefined ) {
						return data;
					}

					camelKey = jQuery.camelCase( key );

					// Attempt to get data from the cache
					// with the key camelized
					data = dataUser.get( elem, camelKey );
					if ( data !== undefined ) {
						return data;
					}

					// Attempt to "discover" the data in
					// HTML5 custom data-* attrs
					data = dataAttr( elem, camelKey, undefined );
					if ( data !== undefined ) {
						return data;
					}

					// We tried really hard, but the data doesn't exist.
					return;
				}

				// Set the data...
				camelKey = jQuery.camelCase( key );
				this.each( function() {

					// First, attempt to store a copy or reference of any
					// data that might've been store with a camelCased key.
					var data = dataUser.get( this, camelKey );

					// For HTML5 data-* attribute interop, we have to
					// store property names with dashes in a camelCase form.
					// This might not apply to all properties...*
					dataUser.set( this, camelKey, value );

					// *... In the case of properties that might _actually_
					// have dashes, we need to also store a copy of that
					// unchanged property.
					if ( key.indexOf( "-" ) > -1 && data !== undefined ) {
						dataUser.set( this, key, value );
					}
				} );
			}, null, value, arguments.length > 1, null, true );
		},

		removeData: function( key ) {
			return this.each( function() {
				dataUser.remove( this, key );
			} );
		}
	} );


	jQuery.extend( {
		queue: function( elem, type, data ) {
			var queue;

			if ( elem ) {
				type = ( type || "fx" ) + "queue";
				queue = dataPriv.get( elem, type );

				// Speed up dequeue by getting out quickly if this is just a lookup
				if ( data ) {
					if ( !queue || jQuery.isArray( data ) ) {
						queue = dataPriv.access( elem, type, jQuery.makeArray( data ) );
					} else {
						queue.push( data );
					}
				}
				return queue || [];
			}
		},

		dequeue: function( elem, type ) {
			type = type || "fx";

			var queue = jQuery.queue( elem, type ),
				startLength = queue.length,
				fn = queue.shift(),
				hooks = jQuery._queueHooks( elem, type ),
				next = function() {
					jQuery.dequeue( elem, type );
				};

			// If the fx queue is dequeued, always remove the progress sentinel
			if ( fn === "inprogress" ) {
				fn = queue.shift();
				startLength--;
			}

			if ( fn ) {

				// Add a progress sentinel to prevent the fx queue from being
				// automatically dequeued
				if ( type === "fx" ) {
					queue.unshift( "inprogress" );
				}

				// Clear up the last queue stop function
				delete hooks.stop;
				fn.call( elem, next, hooks );
			}

			if ( !startLength && hooks ) {
				hooks.empty.fire();
			}
		},

		// Not public - generate a queueHooks object, or return the current one
		_queueHooks: function( elem, type ) {
			var key = type + "queueHooks";
			return dataPriv.get( elem, key ) || dataPriv.access( elem, key, {
				empty: jQuery.Callbacks( "once memory" ).add( function() {
					dataPriv.remove( elem, [ type + "queue", key ] );
				} )
			} );
		}
	} );

	jQuery.fn.extend( {
		queue: function( type, data ) {
			var setter = 2;

			if ( typeof type !== "string" ) {
				data = type;
				type = "fx";
				setter--;
			}

			if ( arguments.length < setter ) {
				return jQuery.queue( this[ 0 ], type );
			}

			return data === undefined ?
				this :
				this.each( function() {
					var queue = jQuery.queue( this, type, data );

					// Ensure a hooks for this queue
					jQuery._queueHooks( this, type );

					if ( type === "fx" && queue[ 0 ] !== "inprogress" ) {
						jQuery.dequeue( this, type );
					}
				} );
		},
		dequeue: function( type ) {
			return this.each( function() {
				jQuery.dequeue( this, type );
			} );
		},
		clearQueue: function( type ) {
			return this.queue( type || "fx", [] );
		},

		// Get a promise resolved when queues of a certain type
		// are emptied (fx is the type by default)
		promise: function( type, obj ) {
			var tmp,
				count = 1,
				defer = jQuery.Deferred(),
				elements = this,
				i = this.length,
				resolve = function() {
					if ( !( --count ) ) {
						defer.resolveWith( elements, [ elements ] );
					}
				};

			if ( typeof type !== "string" ) {
				obj = type;
				type = undefined;
			}
			type = type || "fx";

			while ( i-- ) {
				tmp = dataPriv.get( elements[ i ], type + "queueHooks" );
				if ( tmp && tmp.empty ) {
					count++;
					tmp.empty.add( resolve );
				}
			}
			resolve();
			return defer.promise( obj );
		}
	} );
	var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;

	var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );


	var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

	var isHidden = function( elem, el ) {

			// isHidden might be called from jQuery#filter function;
			// in that case, element will be second argument
			elem = el || elem;
			return jQuery.css( elem, "display" ) === "none" ||
				!jQuery.contains( elem.ownerDocument, elem );
		};



	function adjustCSS( elem, prop, valueParts, tween ) {
		var adjusted,
			scale = 1,
			maxIterations = 20,
			currentValue = tween ?
				function() { return tween.cur(); } :
				function() { return jQuery.css( elem, prop, "" ); },
			initial = currentValue(),
			unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

			// Starting value computation is required for potential unit mismatches
			initialInUnit = ( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&
				rcssNum.exec( jQuery.css( elem, prop ) );

		if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {

			// Trust units reported by jQuery.css
			unit = unit || initialInUnit[ 3 ];

			// Make sure we update the tween properties later on
			valueParts = valueParts || [];

			// Iteratively approximate from a nonzero starting point
			initialInUnit = +initial || 1;

			do {

				// If previous iteration zeroed out, double until we get *something*.
				// Use string for doubling so we don't accidentally see scale as unchanged below
				scale = scale || ".5";

				// Adjust and apply
				initialInUnit = initialInUnit / scale;
				jQuery.style( elem, prop, initialInUnit + unit );

			// Update scale, tolerating zero or NaN from tween.cur()
			// Break the loop if scale is unchanged or perfect, or if we've just had enough.
			} while (
				scale !== ( scale = currentValue() / initial ) && scale !== 1 && --maxIterations
			);
		}

		if ( valueParts ) {
			initialInUnit = +initialInUnit || +initial || 0;

			// Apply relative offset (+=/-=) if specified
			adjusted = valueParts[ 1 ] ?
				initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :
				+valueParts[ 2 ];
			if ( tween ) {
				tween.unit = unit;
				tween.start = initialInUnit;
				tween.end = adjusted;
			}
		}
		return adjusted;
	}
	var rcheckableType = ( /^(?:checkbox|radio)$/i );

	var rtagName = ( /<([\w:-]+)/ );

	var rscriptType = ( /^$|\/(?:java|ecma)script/i );



	// We have to close these tags to support XHTML (#13200)
	var wrapMap = {

		// Support: IE9
		option: [ 1, "<select multiple='multiple'>", "</select>" ],

		// XHTML parsers do not magically insert elements in the
		// same way that tag soup parsers do. So we cannot shorten
		// this by omitting <tbody> or other required elements.
		thead: [ 1, "<table>", "</table>" ],
		col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
		tr: [ 2, "<table><tbody>", "</tbody></table>" ],
		td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

		_default: [ 0, "", "" ]
	};

	// Support: IE9
	wrapMap.optgroup = wrapMap.option;

	wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
	wrapMap.th = wrapMap.td;


	function getAll( context, tag ) {

		// Support: IE9-11+
		// Use typeof to avoid zero-argument method invocation on host objects (#15151)
		var ret = typeof context.getElementsByTagName !== "undefined" ?
				context.getElementsByTagName( tag || "*" ) :
				typeof context.querySelectorAll !== "undefined" ?
					context.querySelectorAll( tag || "*" ) :
				[];

		return tag === undefined || tag && jQuery.nodeName( context, tag ) ?
			jQuery.merge( [ context ], ret ) :
			ret;
	}


	// Mark scripts as having already been evaluated
	function setGlobalEval( elems, refElements ) {
		var i = 0,
			l = elems.length;

		for ( ; i < l; i++ ) {
			dataPriv.set(
				elems[ i ],
				"globalEval",
				!refElements || dataPriv.get( refElements[ i ], "globalEval" )
			);
		}
	}


	var rhtml = /<|&#?\w+;/;

	function buildFragment( elems, context, scripts, selection, ignored ) {
		var elem, tmp, tag, wrap, contains, j,
			fragment = context.createDocumentFragment(),
			nodes = [],
			i = 0,
			l = elems.length;

		for ( ; i < l; i++ ) {
			elem = elems[ i ];

			if ( elem || elem === 0 ) {

				// Add nodes directly
				if ( jQuery.type( elem ) === "object" ) {

					// Support: Android<4.1, PhantomJS<2
					// push.apply(_, arraylike) throws on ancient WebKit
					jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

				// Convert non-html into a text node
				} else if ( !rhtml.test( elem ) ) {
					nodes.push( context.createTextNode( elem ) );

				// Convert html into DOM nodes
				} else {
					tmp = tmp || fragment.appendChild( context.createElement( "div" ) );

					// Deserialize a standard representation
					tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
					wrap = wrapMap[ tag ] || wrapMap._default;
					tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];

					// Descend through wrappers to the right content
					j = wrap[ 0 ];
					while ( j-- ) {
						tmp = tmp.lastChild;
					}

					// Support: Android<4.1, PhantomJS<2
					// push.apply(_, arraylike) throws on ancient WebKit
					jQuery.merge( nodes, tmp.childNodes );

					// Remember the top-level container
					tmp = fragment.firstChild;

					// Ensure the created nodes are orphaned (#12392)
					tmp.textContent = "";
				}
			}
		}

		// Remove wrapper from fragment
		fragment.textContent = "";

		i = 0;
		while ( ( elem = nodes[ i++ ] ) ) {

			// Skip elements already in the context collection (trac-4087)
			if ( selection && jQuery.inArray( elem, selection ) > -1 ) {
				if ( ignored ) {
					ignored.push( elem );
				}
				continue;
			}

			contains = jQuery.contains( elem.ownerDocument, elem );

			// Append to fragment
			tmp = getAll( fragment.appendChild( elem ), "script" );

			// Preserve script evaluation history
			if ( contains ) {
				setGlobalEval( tmp );
			}

			// Capture executables
			if ( scripts ) {
				j = 0;
				while ( ( elem = tmp[ j++ ] ) ) {
					if ( rscriptType.test( elem.type || "" ) ) {
						scripts.push( elem );
					}
				}
			}
		}

		return fragment;
	}


	( function() {
		var fragment = document.createDocumentFragment(),
			div = fragment.appendChild( document.createElement( "div" ) ),
			input = document.createElement( "input" );

		// Support: Android 4.0-4.3, Safari<=5.1
		// Check state lost if the name is set (#11217)
		// Support: Windows Web Apps (WWA)
		// `name` and `type` must use .setAttribute for WWA (#14901)
		input.setAttribute( "type", "radio" );
		input.setAttribute( "checked", "checked" );
		input.setAttribute( "name", "t" );

		div.appendChild( input );

		// Support: Safari<=5.1, Android<4.2
		// Older WebKit doesn't clone checked state correctly in fragments
		support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

		// Support: IE<=11+
		// Make sure textarea (and checkbox) defaultValue is properly cloned
		div.innerHTML = "<textarea>x</textarea>";
		support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;
	} )();


	var
		rkeyEvent = /^key/,
		rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
		rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

	function returnTrue() {
		return true;
	}

	function returnFalse() {
		return false;
	}

	// Support: IE9
	// See #13393 for more info
	function safeActiveElement() {
		try {
			return document.activeElement;
		} catch ( err ) { }
	}

	function on( elem, types, selector, data, fn, one ) {
		var origFn, type;

		// Types can be a map of types/handlers
		if ( typeof types === "object" ) {

			// ( types-Object, selector, data )
			if ( typeof selector !== "string" ) {

				// ( types-Object, data )
				data = data || selector;
				selector = undefined;
			}
			for ( type in types ) {
				on( elem, type, selector, data, types[ type ], one );
			}
			return elem;
		}

		if ( data == null && fn == null ) {

			// ( types, fn )
			fn = selector;
			data = selector = undefined;
		} else if ( fn == null ) {
			if ( typeof selector === "string" ) {

				// ( types, selector, fn )
				fn = data;
				data = undefined;
			} else {

				// ( types, data, fn )
				fn = data;
				data = selector;
				selector = undefined;
			}
		}
		if ( fn === false ) {
			fn = returnFalse;
		} else if ( !fn ) {
			return elem;
		}

		if ( one === 1 ) {
			origFn = fn;
			fn = function( event ) {

				// Can use an empty set, since event contains the info
				jQuery().off( event );
				return origFn.apply( this, arguments );
			};

			// Use same guid so caller can remove using origFn
			fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
		}
		return elem.each( function() {
			jQuery.event.add( this, types, fn, data, selector );
		} );
	}

	/*
	 * Helper functions for managing events -- not part of the public interface.
	 * Props to Dean Edwards' addEvent library for many of the ideas.
	 */
	jQuery.event = {

		global: {},

		add: function( elem, types, handler, data, selector ) {

			var handleObjIn, eventHandle, tmp,
				events, t, handleObj,
				special, handlers, type, namespaces, origType,
				elemData = dataPriv.get( elem );

			// Don't attach events to noData or text/comment nodes (but allow plain objects)
			if ( !elemData ) {
				return;
			}

			// Caller can pass in an object of custom data in lieu of the handler
			if ( handler.handler ) {
				handleObjIn = handler;
				handler = handleObjIn.handler;
				selector = handleObjIn.selector;
			}

			// Make sure that the handler has a unique ID, used to find/remove it later
			if ( !handler.guid ) {
				handler.guid = jQuery.guid++;
			}

			// Init the element's event structure and main handler, if this is the first
			if ( !( events = elemData.events ) ) {
				events = elemData.events = {};
			}
			if ( !( eventHandle = elemData.handle ) ) {
				eventHandle = elemData.handle = function( e ) {

					// Discard the second event of a jQuery.event.trigger() and
					// when an event is called after a page has unloaded
					return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
						jQuery.event.dispatch.apply( elem, arguments ) : undefined;
				};
			}

			// Handle multiple events separated by a space
			types = ( types || "" ).match( rnotwhite ) || [ "" ];
			t = types.length;
			while ( t-- ) {
				tmp = rtypenamespace.exec( types[ t ] ) || [];
				type = origType = tmp[ 1 ];
				namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

				// There *must* be a type, no attaching namespace-only handlers
				if ( !type ) {
					continue;
				}

				// If event changes its type, use the special event handlers for the changed type
				special = jQuery.event.special[ type ] || {};

				// If selector defined, determine special event api type, otherwise given type
				type = ( selector ? special.delegateType : special.bindType ) || type;

				// Update special based on newly reset type
				special = jQuery.event.special[ type ] || {};

				// handleObj is passed to all event handlers
				handleObj = jQuery.extend( {
					type: type,
					origType: origType,
					data: data,
					handler: handler,
					guid: handler.guid,
					selector: selector,
					needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
					namespace: namespaces.join( "." )
				}, handleObjIn );

				// Init the event handler queue if we're the first
				if ( !( handlers = events[ type ] ) ) {
					handlers = events[ type ] = [];
					handlers.delegateCount = 0;

					// Only use addEventListener if the special events handler returns false
					if ( !special.setup ||
						special.setup.call( elem, data, namespaces, eventHandle ) === false ) {

						if ( elem.addEventListener ) {
							elem.addEventListener( type, eventHandle );
						}
					}
				}

				if ( special.add ) {
					special.add.call( elem, handleObj );

					if ( !handleObj.handler.guid ) {
						handleObj.handler.guid = handler.guid;
					}
				}

				// Add to the element's handler list, delegates in front
				if ( selector ) {
					handlers.splice( handlers.delegateCount++, 0, handleObj );
				} else {
					handlers.push( handleObj );
				}

				// Keep track of which events have ever been used, for event optimization
				jQuery.event.global[ type ] = true;
			}

		},

		// Detach an event or set of events from an element
		remove: function( elem, types, handler, selector, mappedTypes ) {

			var j, origCount, tmp,
				events, t, handleObj,
				special, handlers, type, namespaces, origType,
				elemData = dataPriv.hasData( elem ) && dataPriv.get( elem );

			if ( !elemData || !( events = elemData.events ) ) {
				return;
			}

			// Once for each type.namespace in types; type may be omitted
			types = ( types || "" ).match( rnotwhite ) || [ "" ];
			t = types.length;
			while ( t-- ) {
				tmp = rtypenamespace.exec( types[ t ] ) || [];
				type = origType = tmp[ 1 ];
				namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

				// Unbind all events (on this namespace, if provided) for the element
				if ( !type ) {
					for ( type in events ) {
						jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
					}
					continue;
				}

				special = jQuery.event.special[ type ] || {};
				type = ( selector ? special.delegateType : special.bindType ) || type;
				handlers = events[ type ] || [];
				tmp = tmp[ 2 ] &&
					new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );

				// Remove matching events
				origCount = j = handlers.length;
				while ( j-- ) {
					handleObj = handlers[ j ];

					if ( ( mappedTypes || origType === handleObj.origType ) &&
						( !handler || handler.guid === handleObj.guid ) &&
						( !tmp || tmp.test( handleObj.namespace ) ) &&
						( !selector || selector === handleObj.selector ||
							selector === "**" && handleObj.selector ) ) {
						handlers.splice( j, 1 );

						if ( handleObj.selector ) {
							handlers.delegateCount--;
						}
						if ( special.remove ) {
							special.remove.call( elem, handleObj );
						}
					}
				}

				// Remove generic event handler if we removed something and no more handlers exist
				// (avoids potential for endless recursion during removal of special event handlers)
				if ( origCount && !handlers.length ) {
					if ( !special.teardown ||
						special.teardown.call( elem, namespaces, elemData.handle ) === false ) {

						jQuery.removeEvent( elem, type, elemData.handle );
					}

					delete events[ type ];
				}
			}

			// Remove data and the expando if it's no longer used
			if ( jQuery.isEmptyObject( events ) ) {
				dataPriv.remove( elem, "handle events" );
			}
		},

		dispatch: function( event ) {

			// Make a writable jQuery.Event from the native event object
			event = jQuery.event.fix( event );

			var i, j, ret, matched, handleObj,
				handlerQueue = [],
				args = slice.call( arguments ),
				handlers = ( dataPriv.get( this, "events" ) || {} )[ event.type ] || [],
				special = jQuery.event.special[ event.type ] || {};

			// Use the fix-ed jQuery.Event rather than the (read-only) native event
			args[ 0 ] = event;
			event.delegateTarget = this;

			// Call the preDispatch hook for the mapped type, and let it bail if desired
			if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
				return;
			}

			// Determine handlers
			handlerQueue = jQuery.event.handlers.call( this, event, handlers );

			// Run delegates first; they may want to stop propagation beneath us
			i = 0;
			while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {
				event.currentTarget = matched.elem;

				j = 0;
				while ( ( handleObj = matched.handlers[ j++ ] ) &&
					!event.isImmediatePropagationStopped() ) {

					// Triggered event must either 1) have no namespace, or 2) have namespace(s)
					// a subset or equal to those in the bound event (both can have no namespace).
					if ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {

						event.handleObj = handleObj;
						event.data = handleObj.data;

						ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||
							handleObj.handler ).apply( matched.elem, args );

						if ( ret !== undefined ) {
							if ( ( event.result = ret ) === false ) {
								event.preventDefault();
								event.stopPropagation();
							}
						}
					}
				}
			}

			// Call the postDispatch hook for the mapped type
			if ( special.postDispatch ) {
				special.postDispatch.call( this, event );
			}

			return event.result;
		},

		handlers: function( event, handlers ) {
			var i, matches, sel, handleObj,
				handlerQueue = [],
				delegateCount = handlers.delegateCount,
				cur = event.target;

			// Support (at least): Chrome, IE9
			// Find delegate handlers
			// Black-hole SVG <use> instance trees (#13180)
			//
			// Support: Firefox<=42+
			// Avoid non-left-click in FF but don't block IE radio events (#3861, gh-2343)
			if ( delegateCount && cur.nodeType &&
				( event.type !== "click" || isNaN( event.button ) || event.button < 1 ) ) {

				for ( ; cur !== this; cur = cur.parentNode || this ) {

					// Don't check non-elements (#13208)
					// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
					if ( cur.nodeType === 1 && ( cur.disabled !== true || event.type !== "click" ) ) {
						matches = [];
						for ( i = 0; i < delegateCount; i++ ) {
							handleObj = handlers[ i ];

							// Don't conflict with Object.prototype properties (#13203)
							sel = handleObj.selector + " ";

							if ( matches[ sel ] === undefined ) {
								matches[ sel ] = handleObj.needsContext ?
									jQuery( sel, this ).index( cur ) > -1 :
									jQuery.find( sel, this, null, [ cur ] ).length;
							}
							if ( matches[ sel ] ) {
								matches.push( handleObj );
							}
						}
						if ( matches.length ) {
							handlerQueue.push( { elem: cur, handlers: matches } );
						}
					}
				}
			}

			// Add the remaining (directly-bound) handlers
			if ( delegateCount < handlers.length ) {
				handlerQueue.push( { elem: this, handlers: handlers.slice( delegateCount ) } );
			}

			return handlerQueue;
		},

		// Includes some event props shared by KeyEvent and MouseEvent
		props: ( "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase " +
			"metaKey relatedTarget shiftKey target timeStamp view which" ).split( " " ),

		fixHooks: {},

		keyHooks: {
			props: "char charCode key keyCode".split( " " ),
			filter: function( event, original ) {

				// Add which for key events
				if ( event.which == null ) {
					event.which = original.charCode != null ? original.charCode : original.keyCode;
				}

				return event;
			}
		},

		mouseHooks: {
			props: ( "button buttons clientX clientY offsetX offsetY pageX pageY " +
				"screenX screenY toElement" ).split( " " ),
			filter: function( event, original ) {
				var eventDoc, doc, body,
					button = original.button;

				// Calculate pageX/Y if missing and clientX/Y available
				if ( event.pageX == null && original.clientX != null ) {
					eventDoc = event.target.ownerDocument || document;
					doc = eventDoc.documentElement;
					body = eventDoc.body;

					event.pageX = original.clientX +
						( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) -
						( doc && doc.clientLeft || body && body.clientLeft || 0 );
					event.pageY = original.clientY +
						( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) -
						( doc && doc.clientTop  || body && body.clientTop  || 0 );
				}

				// Add which for click: 1 === left; 2 === middle; 3 === right
				// Note: button is not normalized, so don't use it
				if ( !event.which && button !== undefined ) {
					event.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );
				}

				return event;
			}
		},

		fix: function( event ) {
			if ( event[ jQuery.expando ] ) {
				return event;
			}

			// Create a writable copy of the event object and normalize some properties
			var i, prop, copy,
				type = event.type,
				originalEvent = event,
				fixHook = this.fixHooks[ type ];

			if ( !fixHook ) {
				this.fixHooks[ type ] = fixHook =
					rmouseEvent.test( type ) ? this.mouseHooks :
					rkeyEvent.test( type ) ? this.keyHooks :
					{};
			}
			copy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;

			event = new jQuery.Event( originalEvent );

			i = copy.length;
			while ( i-- ) {
				prop = copy[ i ];
				event[ prop ] = originalEvent[ prop ];
			}

			// Support: Cordova 2.5 (WebKit) (#13255)
			// All events should have a target; Cordova deviceready doesn't
			if ( !event.target ) {
				event.target = document;
			}

			// Support: Safari 6.0+, Chrome<28
			// Target should not be a text node (#504, #13143)
			if ( event.target.nodeType === 3 ) {
				event.target = event.target.parentNode;
			}

			return fixHook.filter ? fixHook.filter( event, originalEvent ) : event;
		},

		special: {
			load: {

				// Prevent triggered image.load events from bubbling to window.load
				noBubble: true
			},
			focus: {

				// Fire native event if possible so blur/focus sequence is correct
				trigger: function() {
					if ( this !== safeActiveElement() && this.focus ) {
						this.focus();
						return false;
					}
				},
				delegateType: "focusin"
			},
			blur: {
				trigger: function() {
					if ( this === safeActiveElement() && this.blur ) {
						this.blur();
						return false;
					}
				},
				delegateType: "focusout"
			},
			click: {

				// For checkbox, fire native event so checked state will be right
				trigger: function() {
					if ( this.type === "checkbox" && this.click && jQuery.nodeName( this, "input" ) ) {
						this.click();
						return false;
					}
				},

				// For cross-browser consistency, don't fire native .click() on links
				_default: function( event ) {
					return jQuery.nodeName( event.target, "a" );
				}
			},

			beforeunload: {
				postDispatch: function( event ) {

					// Support: Firefox 20+
					// Firefox doesn't alert if the returnValue field is not set.
					if ( event.result !== undefined && event.originalEvent ) {
						event.originalEvent.returnValue = event.result;
					}
				}
			}
		}
	};

	jQuery.removeEvent = function( elem, type, handle ) {

		// This "if" is needed for plain objects
		if ( elem.removeEventListener ) {
			elem.removeEventListener( type, handle );
		}
	};

	jQuery.Event = function( src, props ) {

		// Allow instantiation without the 'new' keyword
		if ( !( this instanceof jQuery.Event ) ) {
			return new jQuery.Event( src, props );
		}

		// Event object
		if ( src && src.type ) {
			this.originalEvent = src;
			this.type = src.type;

			// Events bubbling up the document may have been marked as prevented
			// by a handler lower down the tree; reflect the correct value.
			this.isDefaultPrevented = src.defaultPrevented ||
					src.defaultPrevented === undefined &&

					// Support: Android<4.0
					src.returnValue === false ?
				returnTrue :
				returnFalse;

		// Event type
		} else {
			this.type = src;
		}

		// Put explicitly provided properties onto the event object
		if ( props ) {
			jQuery.extend( this, props );
		}

		// Create a timestamp if incoming event doesn't have one
		this.timeStamp = src && src.timeStamp || jQuery.now();

		// Mark it as fixed
		this[ jQuery.expando ] = true;
	};

	// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
	// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
	jQuery.Event.prototype = {
		constructor: jQuery.Event,
		isDefaultPrevented: returnFalse,
		isPropagationStopped: returnFalse,
		isImmediatePropagationStopped: returnFalse,

		preventDefault: function() {
			var e = this.originalEvent;

			this.isDefaultPrevented = returnTrue;

			if ( e ) {
				e.preventDefault();
			}
		},
		stopPropagation: function() {
			var e = this.originalEvent;

			this.isPropagationStopped = returnTrue;

			if ( e ) {
				e.stopPropagation();
			}
		},
		stopImmediatePropagation: function() {
			var e = this.originalEvent;

			this.isImmediatePropagationStopped = returnTrue;

			if ( e ) {
				e.stopImmediatePropagation();
			}

			this.stopPropagation();
		}
	};

	// Create mouseenter/leave events using mouseover/out and event-time checks
	// so that event delegation works in jQuery.
	// Do the same for pointerenter/pointerleave and pointerover/pointerout
	//
	// Support: Safari 7 only
	// Safari sends mouseenter too often; see:
	// https://code.google.com/p/chromium/issues/detail?id=470258
	// for the description of the bug (it existed in older Chrome versions as well).
	jQuery.each( {
		mouseenter: "mouseover",
		mouseleave: "mouseout",
		pointerenter: "pointerover",
		pointerleave: "pointerout"
	}, function( orig, fix ) {
		jQuery.event.special[ orig ] = {
			delegateType: fix,
			bindType: fix,

			handle: function( event ) {
				var ret,
					target = this,
					related = event.relatedTarget,
					handleObj = event.handleObj;

				// For mouseenter/leave call the handler if related is outside the target.
				// NB: No relatedTarget if the mouse left/entered the browser window
				if ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {
					event.type = handleObj.origType;
					ret = handleObj.handler.apply( this, arguments );
					event.type = fix;
				}
				return ret;
			}
		};
	} );

	jQuery.fn.extend( {
		on: function( types, selector, data, fn ) {
			return on( this, types, selector, data, fn );
		},
		one: function( types, selector, data, fn ) {
			return on( this, types, selector, data, fn, 1 );
		},
		off: function( types, selector, fn ) {
			var handleObj, type;
			if ( types && types.preventDefault && types.handleObj ) {

				// ( event )  dispatched jQuery.Event
				handleObj = types.handleObj;
				jQuery( types.delegateTarget ).off(
					handleObj.namespace ?
						handleObj.origType + "." + handleObj.namespace :
						handleObj.origType,
					handleObj.selector,
					handleObj.handler
				);
				return this;
			}
			if ( typeof types === "object" ) {

				// ( types-object [, selector] )
				for ( type in types ) {
					this.off( type, selector, types[ type ] );
				}
				return this;
			}
			if ( selector === false || typeof selector === "function" ) {

				// ( types [, fn] )
				fn = selector;
				selector = undefined;
			}
			if ( fn === false ) {
				fn = returnFalse;
			}
			return this.each( function() {
				jQuery.event.remove( this, types, fn, selector );
			} );
		}
	} );


	var
		rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,

		// Support: IE 10-11, Edge 10240+
		// In IE/Edge using regex groups here causes severe slowdowns.
		// See https://connect.microsoft.com/IE/feedback/details/1736512/
		rnoInnerhtml = /<script|<style|<link/i,

		// checked="checked" or checked
		rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
		rscriptTypeMasked = /^true\/(.*)/,
		rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

	// Manipulating tables requires a tbody
	function manipulationTarget( elem, content ) {
		return jQuery.nodeName( elem, "table" ) &&
			jQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ?

			elem.getElementsByTagName( "tbody" )[ 0 ] ||
				elem.appendChild( elem.ownerDocument.createElement( "tbody" ) ) :
			elem;
	}

	// Replace/restore the type attribute of script elements for safe DOM manipulation
	function disableScript( elem ) {
		elem.type = ( elem.getAttribute( "type" ) !== null ) + "/" + elem.type;
		return elem;
	}
	function restoreScript( elem ) {
		var match = rscriptTypeMasked.exec( elem.type );

		if ( match ) {
			elem.type = match[ 1 ];
		} else {
			elem.removeAttribute( "type" );
		}

		return elem;
	}

	function cloneCopyEvent( src, dest ) {
		var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;

		if ( dest.nodeType !== 1 ) {
			return;
		}

		// 1. Copy private data: events, handlers, etc.
		if ( dataPriv.hasData( src ) ) {
			pdataOld = dataPriv.access( src );
			pdataCur = dataPriv.set( dest, pdataOld );
			events = pdataOld.events;

			if ( events ) {
				delete pdataCur.handle;
				pdataCur.events = {};

				for ( type in events ) {
					for ( i = 0, l = events[ type ].length; i < l; i++ ) {
						jQuery.event.add( dest, type, events[ type ][ i ] );
					}
				}
			}
		}

		// 2. Copy user data
		if ( dataUser.hasData( src ) ) {
			udataOld = dataUser.access( src );
			udataCur = jQuery.extend( {}, udataOld );

			dataUser.set( dest, udataCur );
		}
	}

	// Fix IE bugs, see support tests
	function fixInput( src, dest ) {
		var nodeName = dest.nodeName.toLowerCase();

		// Fails to persist the checked state of a cloned checkbox or radio button.
		if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
			dest.checked = src.checked;

		// Fails to return the selected option to the default selected state when cloning options
		} else if ( nodeName === "input" || nodeName === "textarea" ) {
			dest.defaultValue = src.defaultValue;
		}
	}

	function domManip( collection, args, callback, ignored ) {

		// Flatten any nested arrays
		args = concat.apply( [], args );

		var fragment, first, scripts, hasScripts, node, doc,
			i = 0,
			l = collection.length,
			iNoClone = l - 1,
			value = args[ 0 ],
			isFunction = jQuery.isFunction( value );

		// We can't cloneNode fragments that contain checked, in WebKit
		if ( isFunction ||
				( l > 1 && typeof value === "string" &&
					!support.checkClone && rchecked.test( value ) ) ) {
			return collection.each( function( index ) {
				var self = collection.eq( index );
				if ( isFunction ) {
					args[ 0 ] = value.call( this, index, self.html() );
				}
				domManip( self, args, callback, ignored );
			} );
		}

		if ( l ) {
			fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );
			first = fragment.firstChild;

			if ( fragment.childNodes.length === 1 ) {
				fragment = first;
			}

			// Require either new content or an interest in ignored elements to invoke the callback
			if ( first || ignored ) {
				scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
				hasScripts = scripts.length;

				// Use the original fragment for the last item
				// instead of the first because it can end up
				// being emptied incorrectly in certain situations (#8070).
				for ( ; i < l; i++ ) {
					node = fragment;

					if ( i !== iNoClone ) {
						node = jQuery.clone( node, true, true );

						// Keep references to cloned scripts for later restoration
						if ( hasScripts ) {

							// Support: Android<4.1, PhantomJS<2
							// push.apply(_, arraylike) throws on ancient WebKit
							jQuery.merge( scripts, getAll( node, "script" ) );
						}
					}

					callback.call( collection[ i ], node, i );
				}

				if ( hasScripts ) {
					doc = scripts[ scripts.length - 1 ].ownerDocument;

					// Reenable scripts
					jQuery.map( scripts, restoreScript );

					// Evaluate executable scripts on first document insertion
					for ( i = 0; i < hasScripts; i++ ) {
						node = scripts[ i ];
						if ( rscriptType.test( node.type || "" ) &&
							!dataPriv.access( node, "globalEval" ) &&
							jQuery.contains( doc, node ) ) {

							if ( node.src ) {

								// Optional AJAX dependency, but won't run scripts if not present
								if ( jQuery._evalUrl ) {
									jQuery._evalUrl( node.src );
								}
							} else {
								jQuery.globalEval( node.textContent.replace( rcleanScript, "" ) );
							}
						}
					}
				}
			}
		}

		return collection;
	}

	function remove( elem, selector, keepData ) {
		var node,
			nodes = selector ? jQuery.filter( selector, elem ) : elem,
			i = 0;

		for ( ; ( node = nodes[ i ] ) != null; i++ ) {
			if ( !keepData && node.nodeType === 1 ) {
				jQuery.cleanData( getAll( node ) );
			}

			if ( node.parentNode ) {
				if ( keepData && jQuery.contains( node.ownerDocument, node ) ) {
					setGlobalEval( getAll( node, "script" ) );
				}
				node.parentNode.removeChild( node );
			}
		}

		return elem;
	}

	jQuery.extend( {
		htmlPrefilter: function( html ) {
			return html.replace( rxhtmlTag, "<$1></$2>" );
		},

		clone: function( elem, dataAndEvents, deepDataAndEvents ) {
			var i, l, srcElements, destElements,
				clone = elem.cloneNode( true ),
				inPage = jQuery.contains( elem.ownerDocument, elem );

			// Fix IE cloning issues
			if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
					!jQuery.isXMLDoc( elem ) ) {

				// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2
				destElements = getAll( clone );
				srcElements = getAll( elem );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					fixInput( srcElements[ i ], destElements[ i ] );
				}
			}

			// Copy the events from the original to the clone
			if ( dataAndEvents ) {
				if ( deepDataAndEvents ) {
					srcElements = srcElements || getAll( elem );
					destElements = destElements || getAll( clone );

					for ( i = 0, l = srcElements.length; i < l; i++ ) {
						cloneCopyEvent( srcElements[ i ], destElements[ i ] );
					}
				} else {
					cloneCopyEvent( elem, clone );
				}
			}

			// Preserve script evaluation history
			destElements = getAll( clone, "script" );
			if ( destElements.length > 0 ) {
				setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
			}

			// Return the cloned set
			return clone;
		},

		cleanData: function( elems ) {
			var data, elem, type,
				special = jQuery.event.special,
				i = 0;

			for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {
				if ( acceptData( elem ) ) {
					if ( ( data = elem[ dataPriv.expando ] ) ) {
						if ( data.events ) {
							for ( type in data.events ) {
								if ( special[ type ] ) {
									jQuery.event.remove( elem, type );

								// This is a shortcut to avoid jQuery.event.remove's overhead
								} else {
									jQuery.removeEvent( elem, type, data.handle );
								}
							}
						}

						// Support: Chrome <= 35-45+
						// Assign undefined instead of using delete, see Data#remove
						elem[ dataPriv.expando ] = undefined;
					}
					if ( elem[ dataUser.expando ] ) {

						// Support: Chrome <= 35-45+
						// Assign undefined instead of using delete, see Data#remove
						elem[ dataUser.expando ] = undefined;
					}
				}
			}
		}
	} );

	jQuery.fn.extend( {

		// Keep domManip exposed until 3.0 (gh-2225)
		domManip: domManip,

		detach: function( selector ) {
			return remove( this, selector, true );
		},

		remove: function( selector ) {
			return remove( this, selector );
		},

		text: function( value ) {
			return access( this, function( value ) {
				return value === undefined ?
					jQuery.text( this ) :
					this.empty().each( function() {
						if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
							this.textContent = value;
						}
					} );
			}, null, value, arguments.length );
		},

		append: function() {
			return domManip( this, arguments, function( elem ) {
				if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
					var target = manipulationTarget( this, elem );
					target.appendChild( elem );
				}
			} );
		},

		prepend: function() {
			return domManip( this, arguments, function( elem ) {
				if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
					var target = manipulationTarget( this, elem );
					target.insertBefore( elem, target.firstChild );
				}
			} );
		},

		before: function() {
			return domManip( this, arguments, function( elem ) {
				if ( this.parentNode ) {
					this.parentNode.insertBefore( elem, this );
				}
			} );
		},

		after: function() {
			return domManip( this, arguments, function( elem ) {
				if ( this.parentNode ) {
					this.parentNode.insertBefore( elem, this.nextSibling );
				}
			} );
		},

		empty: function() {
			var elem,
				i = 0;

			for ( ; ( elem = this[ i ] ) != null; i++ ) {
				if ( elem.nodeType === 1 ) {

					// Prevent memory leaks
					jQuery.cleanData( getAll( elem, false ) );

					// Remove any remaining nodes
					elem.textContent = "";
				}
			}

			return this;
		},

		clone: function( dataAndEvents, deepDataAndEvents ) {
			dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
			deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

			return this.map( function() {
				return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
			} );
		},

		html: function( value ) {
			return access( this, function( value ) {
				var elem = this[ 0 ] || {},
					i = 0,
					l = this.length;

				if ( value === undefined && elem.nodeType === 1 ) {
					return elem.innerHTML;
				}

				// See if we can take a shortcut and just use innerHTML
				if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
					!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

					value = jQuery.htmlPrefilter( value );

					try {
						for ( ; i < l; i++ ) {
							elem = this[ i ] || {};

							// Remove element nodes and prevent memory leaks
							if ( elem.nodeType === 1 ) {
								jQuery.cleanData( getAll( elem, false ) );
								elem.innerHTML = value;
							}
						}

						elem = 0;

					// If using innerHTML throws an exception, use the fallback method
					} catch ( e ) {}
				}

				if ( elem ) {
					this.empty().append( value );
				}
			}, null, value, arguments.length );
		},

		replaceWith: function() {
			var ignored = [];

			// Make the changes, replacing each non-ignored context element with the new content
			return domManip( this, arguments, function( elem ) {
				var parent = this.parentNode;

				if ( jQuery.inArray( this, ignored ) < 0 ) {
					jQuery.cleanData( getAll( this ) );
					if ( parent ) {
						parent.replaceChild( elem, this );
					}
				}

			// Force callback invocation
			}, ignored );
		}
	} );

	jQuery.each( {
		appendTo: "append",
		prependTo: "prepend",
		insertBefore: "before",
		insertAfter: "after",
		replaceAll: "replaceWith"
	}, function( name, original ) {
		jQuery.fn[ name ] = function( selector ) {
			var elems,
				ret = [],
				insert = jQuery( selector ),
				last = insert.length - 1,
				i = 0;

			for ( ; i <= last; i++ ) {
				elems = i === last ? this : this.clone( true );
				jQuery( insert[ i ] )[ original ]( elems );

				// Support: QtWebKit
				// .get() because push.apply(_, arraylike) throws
				push.apply( ret, elems.get() );
			}

			return this.pushStack( ret );
		};
	} );


	var iframe,
		elemdisplay = {

			// Support: Firefox
			// We have to pre-define these values for FF (#10227)
			HTML: "block",
			BODY: "block"
		};

	/**
	 * Retrieve the actual display of a element
	 * @param {String} name nodeName of the element
	 * @param {Object} doc Document object
	 */

	// Called only from within defaultDisplay
	function actualDisplay( name, doc ) {
		var elem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),

			display = jQuery.css( elem[ 0 ], "display" );

		// We don't have any data stored on the element,
		// so use "detach" method as fast way to get rid of the element
		elem.detach();

		return display;
	}

	/**
	 * Try to determine the default display value of an element
	 * @param {String} nodeName
	 */
	function defaultDisplay( nodeName ) {
		var doc = document,
			display = elemdisplay[ nodeName ];

		if ( !display ) {
			display = actualDisplay( nodeName, doc );

			// If the simple way fails, read from inside an iframe
			if ( display === "none" || !display ) {

				// Use the already-created iframe if possible
				iframe = ( iframe || jQuery( "<iframe frameborder='0' width='0' height='0'/>" ) )
					.appendTo( doc.documentElement );

				// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse
				doc = iframe[ 0 ].contentDocument;

				// Support: IE
				doc.write();
				doc.close();

				display = actualDisplay( nodeName, doc );
				iframe.detach();
			}

			// Store the correct default display
			elemdisplay[ nodeName ] = display;
		}

		return display;
	}
	var rmargin = ( /^margin/ );

	var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

	var getStyles = function( elem ) {

			// Support: IE<=11+, Firefox<=30+ (#15098, #14150)
			// IE throws on elements created in popups
			// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
			var view = elem.ownerDocument.defaultView;

			if ( !view || !view.opener ) {
				view = window;
			}

			return view.getComputedStyle( elem );
		};

	var swap = function( elem, options, callback, args ) {
		var ret, name,
			old = {};

		// Remember the old values, and insert the new ones
		for ( name in options ) {
			old[ name ] = elem.style[ name ];
			elem.style[ name ] = options[ name ];
		}

		ret = callback.apply( elem, args || [] );

		// Revert the old values
		for ( name in options ) {
			elem.style[ name ] = old[ name ];
		}

		return ret;
	};


	var documentElement = document.documentElement;



	( function() {
		var pixelPositionVal, boxSizingReliableVal, pixelMarginRightVal, reliableMarginLeftVal,
			container = document.createElement( "div" ),
			div = document.createElement( "div" );

		// Finish early in limited (non-browser) environments
		if ( !div.style ) {
			return;
		}

		// Support: IE9-11+
		// Style of cloned element affects source element cloned (#8908)
		div.style.backgroundClip = "content-box";
		div.cloneNode( true ).style.backgroundClip = "";
		support.clearCloneStyle = div.style.backgroundClip === "content-box";

		container.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;" +
			"padding:0;margin-top:1px;position:absolute";
		container.appendChild( div );

		// Executing both pixelPosition & boxSizingReliable tests require only one layout
		// so they're executed at the same time to save the second computation.
		function computeStyleTests() {
			div.style.cssText =

				// Support: Firefox<29, Android 2.3
				// Vendor-prefix box-sizing
				"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;" +
				"position:relative;display:block;" +
				"margin:auto;border:1px;padding:1px;" +
				"top:1%;width:50%";
			div.innerHTML = "";
			documentElement.appendChild( container );

			var divStyle = window.getComputedStyle( div );
			pixelPositionVal = divStyle.top !== "1%";
			reliableMarginLeftVal = divStyle.marginLeft === "2px";
			boxSizingReliableVal = divStyle.width === "4px";

			// Support: Android 4.0 - 4.3 only
			// Some styles come back with percentage values, even though they shouldn't
			div.style.marginRight = "50%";
			pixelMarginRightVal = divStyle.marginRight === "4px";

			documentElement.removeChild( container );
		}

		jQuery.extend( support, {
			pixelPosition: function() {

				// This test is executed only once but we still do memoizing
				// since we can use the boxSizingReliable pre-computing.
				// No need to check if the test was already performed, though.
				computeStyleTests();
				return pixelPositionVal;
			},
			boxSizingReliable: function() {
				if ( boxSizingReliableVal == null ) {
					computeStyleTests();
				}
				return boxSizingReliableVal;
			},
			pixelMarginRight: function() {

				// Support: Android 4.0-4.3
				// We're checking for boxSizingReliableVal here instead of pixelMarginRightVal
				// since that compresses better and they're computed together anyway.
				if ( boxSizingReliableVal == null ) {
					computeStyleTests();
				}
				return pixelMarginRightVal;
			},
			reliableMarginLeft: function() {

				// Support: IE <=8 only, Android 4.0 - 4.3 only, Firefox <=3 - 37
				if ( boxSizingReliableVal == null ) {
					computeStyleTests();
				}
				return reliableMarginLeftVal;
			},
			reliableMarginRight: function() {

				// Support: Android 2.3
				// Check if div with explicit width and no margin-right incorrectly
				// gets computed margin-right based on width of container. (#3333)
				// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
				// This support function is only executed once so no memoizing is needed.
				var ret,
					marginDiv = div.appendChild( document.createElement( "div" ) );

				// Reset CSS: box-sizing; display; margin; border; padding
				marginDiv.style.cssText = div.style.cssText =

					// Support: Android 2.3
					// Vendor-prefix box-sizing
					"-webkit-box-sizing:content-box;box-sizing:content-box;" +
					"display:block;margin:0;border:0;padding:0";
				marginDiv.style.marginRight = marginDiv.style.width = "0";
				div.style.width = "1px";
				documentElement.appendChild( container );

				ret = !parseFloat( window.getComputedStyle( marginDiv ).marginRight );

				documentElement.removeChild( container );
				div.removeChild( marginDiv );

				return ret;
			}
		} );
	} )();


	function curCSS( elem, name, computed ) {
		var width, minWidth, maxWidth, ret,
			style = elem.style;

		computed = computed || getStyles( elem );
		ret = computed ? computed.getPropertyValue( name ) || computed[ name ] : undefined;

		// Support: Opera 12.1x only
		// Fall back to style even without computed
		// computed is undefined for elems on document fragments
		if ( ( ret === "" || ret === undefined ) && !jQuery.contains( elem.ownerDocument, elem ) ) {
			ret = jQuery.style( elem, name );
		}

		// Support: IE9
		// getPropertyValue is only needed for .css('filter') (#12537)
		if ( computed ) {

			// A tribute to the "awesome hack by Dean Edwards"
			// Android Browser returns percentage for some values,
			// but width seems to be reliably pixels.
			// This is against the CSSOM draft spec:
			// http://dev.w3.org/csswg/cssom/#resolved-values
			if ( !support.pixelMarginRight() && rnumnonpx.test( ret ) && rmargin.test( name ) ) {

				// Remember the original values
				width = style.width;
				minWidth = style.minWidth;
				maxWidth = style.maxWidth;

				// Put in the new values to get a computed value out
				style.minWidth = style.maxWidth = style.width = ret;
				ret = computed.width;

				// Revert the changed values
				style.width = width;
				style.minWidth = minWidth;
				style.maxWidth = maxWidth;
			}
		}

		return ret !== undefined ?

			// Support: IE9-11+
			// IE returns zIndex value as an integer.
			ret + "" :
			ret;
	}


	function addGetHookIf( conditionFn, hookFn ) {

		// Define the hook, we'll check on the first run if it's really needed.
		return {
			get: function() {
				if ( conditionFn() ) {

					// Hook not needed (or it's not possible to use it due
					// to missing dependency), remove it.
					delete this.get;
					return;
				}

				// Hook needed; redefine it so that the support test is not executed again.
				return ( this.get = hookFn ).apply( this, arguments );
			}
		};
	}


	var

		// Swappable if display is none or starts with table
		// except "table", "table-cell", or "table-caption"
		// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
		rdisplayswap = /^(none|table(?!-c[ea]).+)/,

		cssShow = { position: "absolute", visibility: "hidden", display: "block" },
		cssNormalTransform = {
			letterSpacing: "0",
			fontWeight: "400"
		},

		cssPrefixes = [ "Webkit", "O", "Moz", "ms" ],
		emptyStyle = document.createElement( "div" ).style;

	// Return a css property mapped to a potentially vendor prefixed property
	function vendorPropName( name ) {

		// Shortcut for names that are not vendor prefixed
		if ( name in emptyStyle ) {
			return name;
		}

		// Check for vendor prefixed names
		var capName = name[ 0 ].toUpperCase() + name.slice( 1 ),
			i = cssPrefixes.length;

		while ( i-- ) {
			name = cssPrefixes[ i ] + capName;
			if ( name in emptyStyle ) {
				return name;
			}
		}
	}

	function setPositiveNumber( elem, value, subtract ) {

		// Any relative (+/-) values have already been
		// normalized at this point
		var matches = rcssNum.exec( value );
		return matches ?

			// Guard against undefined "subtract", e.g., when used as in cssHooks
			Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || "px" ) :
			value;
	}

	function augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {
		var i = extra === ( isBorderBox ? "border" : "content" ) ?

			// If we already have the right measurement, avoid augmentation
			4 :

			// Otherwise initialize for horizontal or vertical properties
			name === "width" ? 1 : 0,

			val = 0;

		for ( ; i < 4; i += 2 ) {

			// Both box models exclude margin, so add it if we want it
			if ( extra === "margin" ) {
				val += jQuery.css( elem, extra + cssExpand[ i ], true, styles );
			}

			if ( isBorderBox ) {

				// border-box includes padding, so remove it if we want content
				if ( extra === "content" ) {
					val -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
				}

				// At this point, extra isn't border nor margin, so remove border
				if ( extra !== "margin" ) {
					val -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
				}
			} else {

				// At this point, extra isn't content, so add padding
				val += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

				// At this point, extra isn't content nor padding, so add border
				if ( extra !== "padding" ) {
					val += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
				}
			}
		}

		return val;
	}

	function getWidthOrHeight( elem, name, extra ) {

		// Start with offset property, which is equivalent to the border-box value
		var valueIsBorderBox = true,
			val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
			styles = getStyles( elem ),
			isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

		// Support: IE11 only
		// In IE 11 fullscreen elements inside of an iframe have
		// 100x too small dimensions (gh-1764).
		if ( document.msFullscreenElement && window.top !== window ) {

			// Support: IE11 only
			// Running getBoundingClientRect on a disconnected node
			// in IE throws an error.
			if ( elem.getClientRects().length ) {
				val = Math.round( elem.getBoundingClientRect()[ name ] * 100 );
			}
		}

		// Some non-html elements return undefined for offsetWidth, so check for null/undefined
		// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285
		// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668
		if ( val <= 0 || val == null ) {

			// Fall back to computed then uncomputed css if necessary
			val = curCSS( elem, name, styles );
			if ( val < 0 || val == null ) {
				val = elem.style[ name ];
			}

			// Computed unit is not pixels. Stop here and return.
			if ( rnumnonpx.test( val ) ) {
				return val;
			}

			// Check for style in case a browser which returns unreliable values
			// for getComputedStyle silently falls back to the reliable elem.style
			valueIsBorderBox = isBorderBox &&
				( support.boxSizingReliable() || val === elem.style[ name ] );

			// Normalize "", auto, and prepare for extra
			val = parseFloat( val ) || 0;
		}

		// Use the active box-sizing model to add/subtract irrelevant styles
		return ( val +
			augmentWidthOrHeight(
				elem,
				name,
				extra || ( isBorderBox ? "border" : "content" ),
				valueIsBorderBox,
				styles
			)
		) + "px";
	}

	function showHide( elements, show ) {
		var display, elem, hidden,
			values = [],
			index = 0,
			length = elements.length;

		for ( ; index < length; index++ ) {
			elem = elements[ index ];
			if ( !elem.style ) {
				continue;
			}

			values[ index ] = dataPriv.get( elem, "olddisplay" );
			display = elem.style.display;
			if ( show ) {

				// Reset the inline display of this element to learn if it is
				// being hidden by cascaded rules or not
				if ( !values[ index ] && display === "none" ) {
					elem.style.display = "";
				}

				// Set elements which have been overridden with display: none
				// in a stylesheet to whatever the default browser style is
				// for such an element
				if ( elem.style.display === "" && isHidden( elem ) ) {
					values[ index ] = dataPriv.access(
						elem,
						"olddisplay",
						defaultDisplay( elem.nodeName )
					);
				}
			} else {
				hidden = isHidden( elem );

				if ( display !== "none" || !hidden ) {
					dataPriv.set(
						elem,
						"olddisplay",
						hidden ? display : jQuery.css( elem, "display" )
					);
				}
			}
		}

		// Set the display of most of the elements in a second loop
		// to avoid the constant reflow
		for ( index = 0; index < length; index++ ) {
			elem = elements[ index ];
			if ( !elem.style ) {
				continue;
			}
			if ( !show || elem.style.display === "none" || elem.style.display === "" ) {
				elem.style.display = show ? values[ index ] || "" : "none";
			}
		}

		return elements;
	}

	jQuery.extend( {

		// Add in style property hooks for overriding the default
		// behavior of getting and setting a style property
		cssHooks: {
			opacity: {
				get: function( elem, computed ) {
					if ( computed ) {

						// We should always get a number back from opacity
						var ret = curCSS( elem, "opacity" );
						return ret === "" ? "1" : ret;
					}
				}
			}
		},

		// Don't automatically add "px" to these possibly-unitless properties
		cssNumber: {
			"animationIterationCount": true,
			"columnCount": true,
			"fillOpacity": true,
			"flexGrow": true,
			"flexShrink": true,
			"fontWeight": true,
			"lineHeight": true,
			"opacity": true,
			"order": true,
			"orphans": true,
			"widows": true,
			"zIndex": true,
			"zoom": true
		},

		// Add in properties whose names you wish to fix before
		// setting or getting the value
		cssProps: {
			"float": "cssFloat"
		},

		// Get and set the style property on a DOM Node
		style: function( elem, name, value, extra ) {

			// Don't set styles on text and comment nodes
			if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
				return;
			}

			// Make sure that we're working with the right name
			var ret, type, hooks,
				origName = jQuery.camelCase( name ),
				style = elem.style;

			name = jQuery.cssProps[ origName ] ||
				( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );

			// Gets hook for the prefixed version, then unprefixed version
			hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

			// Check if we're setting a value
			if ( value !== undefined ) {
				type = typeof value;

				// Convert "+=" or "-=" to relative numbers (#7345)
				if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {
					value = adjustCSS( elem, name, ret );

					// Fixes bug #9237
					type = "number";
				}

				// Make sure that null and NaN values aren't set (#7116)
				if ( value == null || value !== value ) {
					return;
				}

				// If a number was passed in, add the unit (except for certain CSS properties)
				if ( type === "number" ) {
					value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );
				}

				// Support: IE9-11+
				// background-* props affect original clone's values
				if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
					style[ name ] = "inherit";
				}

				// If a hook was provided, use that value, otherwise just set the specified value
				if ( !hooks || !( "set" in hooks ) ||
					( value = hooks.set( elem, value, extra ) ) !== undefined ) {

					style[ name ] = value;
				}

			} else {

				// If a hook was provided get the non-computed value from there
				if ( hooks && "get" in hooks &&
					( ret = hooks.get( elem, false, extra ) ) !== undefined ) {

					return ret;
				}

				// Otherwise just get the value from the style object
				return style[ name ];
			}
		},

		css: function( elem, name, extra, styles ) {
			var val, num, hooks,
				origName = jQuery.camelCase( name );

			// Make sure that we're working with the right name
			name = jQuery.cssProps[ origName ] ||
				( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );

			// Try prefixed name followed by the unprefixed name
			hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

			// If a hook was provided get the computed value from there
			if ( hooks && "get" in hooks ) {
				val = hooks.get( elem, true, extra );
			}

			// Otherwise, if a way to get the computed value exists, use that
			if ( val === undefined ) {
				val = curCSS( elem, name, styles );
			}

			// Convert "normal" to computed value
			if ( val === "normal" && name in cssNormalTransform ) {
				val = cssNormalTransform[ name ];
			}

			// Make numeric if forced or a qualifier was provided and val looks numeric
			if ( extra === "" || extra ) {
				num = parseFloat( val );
				return extra === true || isFinite( num ) ? num || 0 : val;
			}
			return val;
		}
	} );

	jQuery.each( [ "height", "width" ], function( i, name ) {
		jQuery.cssHooks[ name ] = {
			get: function( elem, computed, extra ) {
				if ( computed ) {

					// Certain elements can have dimension info if we invisibly show them
					// but it must have a current display style that would benefit
					return rdisplayswap.test( jQuery.css( elem, "display" ) ) &&
						elem.offsetWidth === 0 ?
							swap( elem, cssShow, function() {
								return getWidthOrHeight( elem, name, extra );
							} ) :
							getWidthOrHeight( elem, name, extra );
				}
			},

			set: function( elem, value, extra ) {
				var matches,
					styles = extra && getStyles( elem ),
					subtract = extra && augmentWidthOrHeight(
						elem,
						name,
						extra,
						jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
						styles
					);

				// Convert to pixels if value adjustment is needed
				if ( subtract && ( matches = rcssNum.exec( value ) ) &&
					( matches[ 3 ] || "px" ) !== "px" ) {

					elem.style[ name ] = value;
					value = jQuery.css( elem, name );
				}

				return setPositiveNumber( elem, value, subtract );
			}
		};
	} );

	jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,
		function( elem, computed ) {
			if ( computed ) {
				return ( parseFloat( curCSS( elem, "marginLeft" ) ) ||
					elem.getBoundingClientRect().left -
						swap( elem, { marginLeft: 0 }, function() {
							return elem.getBoundingClientRect().left;
						} )
					) + "px";
			}
		}
	);

	// Support: Android 2.3
	jQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,
		function( elem, computed ) {
			if ( computed ) {
				return swap( elem, { "display": "inline-block" },
					curCSS, [ elem, "marginRight" ] );
			}
		}
	);

	// These hooks are used by animate to expand properties
	jQuery.each( {
		margin: "",
		padding: "",
		border: "Width"
	}, function( prefix, suffix ) {
		jQuery.cssHooks[ prefix + suffix ] = {
			expand: function( value ) {
				var i = 0,
					expanded = {},

					// Assumes a single number if not a string
					parts = typeof value === "string" ? value.split( " " ) : [ value ];

				for ( ; i < 4; i++ ) {
					expanded[ prefix + cssExpand[ i ] + suffix ] =
						parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
				}

				return expanded;
			}
		};

		if ( !rmargin.test( prefix ) ) {
			jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
		}
	} );

	jQuery.fn.extend( {
		css: function( name, value ) {
			return access( this, function( elem, name, value ) {
				var styles, len,
					map = {},
					i = 0;

				if ( jQuery.isArray( name ) ) {
					styles = getStyles( elem );
					len = name.length;

					for ( ; i < len; i++ ) {
						map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
					}

					return map;
				}

				return value !== undefined ?
					jQuery.style( elem, name, value ) :
					jQuery.css( elem, name );
			}, name, value, arguments.length > 1 );
		},
		show: function() {
			return showHide( this, true );
		},
		hide: function() {
			return showHide( this );
		},
		toggle: function( state ) {
			if ( typeof state === "boolean" ) {
				return state ? this.show() : this.hide();
			}

			return this.each( function() {
				if ( isHidden( this ) ) {
					jQuery( this ).show();
				} else {
					jQuery( this ).hide();
				}
			} );
		}
	} );


	function Tween( elem, options, prop, end, easing ) {
		return new Tween.prototype.init( elem, options, prop, end, easing );
	}
	jQuery.Tween = Tween;

	Tween.prototype = {
		constructor: Tween,
		init: function( elem, options, prop, end, easing, unit ) {
			this.elem = elem;
			this.prop = prop;
			this.easing = easing || jQuery.easing._default;
			this.options = options;
			this.start = this.now = this.cur();
			this.end = end;
			this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
		},
		cur: function() {
			var hooks = Tween.propHooks[ this.prop ];

			return hooks && hooks.get ?
				hooks.get( this ) :
				Tween.propHooks._default.get( this );
		},
		run: function( percent ) {
			var eased,
				hooks = Tween.propHooks[ this.prop ];

			if ( this.options.duration ) {
				this.pos = eased = jQuery.easing[ this.easing ](
					percent, this.options.duration * percent, 0, 1, this.options.duration
				);
			} else {
				this.pos = eased = percent;
			}
			this.now = ( this.end - this.start ) * eased + this.start;

			if ( this.options.step ) {
				this.options.step.call( this.elem, this.now, this );
			}

			if ( hooks && hooks.set ) {
				hooks.set( this );
			} else {
				Tween.propHooks._default.set( this );
			}
			return this;
		}
	};

	Tween.prototype.init.prototype = Tween.prototype;

	Tween.propHooks = {
		_default: {
			get: function( tween ) {
				var result;

				// Use a property on the element directly when it is not a DOM element,
				// or when there is no matching style property that exists.
				if ( tween.elem.nodeType !== 1 ||
					tween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {
					return tween.elem[ tween.prop ];
				}

				// Passing an empty string as a 3rd parameter to .css will automatically
				// attempt a parseFloat and fallback to a string if the parse fails.
				// Simple values such as "10px" are parsed to Float;
				// complex values such as "rotate(1rad)" are returned as-is.
				result = jQuery.css( tween.elem, tween.prop, "" );

				// Empty strings, null, undefined and "auto" are converted to 0.
				return !result || result === "auto" ? 0 : result;
			},
			set: function( tween ) {

				// Use step hook for back compat.
				// Use cssHook if its there.
				// Use .style if available and use plain properties where available.
				if ( jQuery.fx.step[ tween.prop ] ) {
					jQuery.fx.step[ tween.prop ]( tween );
				} else if ( tween.elem.nodeType === 1 &&
					( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null ||
						jQuery.cssHooks[ tween.prop ] ) ) {
					jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
				} else {
					tween.elem[ tween.prop ] = tween.now;
				}
			}
		}
	};

	// Support: IE9
	// Panic based approach to setting things on disconnected nodes
	Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
		set: function( tween ) {
			if ( tween.elem.nodeType && tween.elem.parentNode ) {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	};

	jQuery.easing = {
		linear: function( p ) {
			return p;
		},
		swing: function( p ) {
			return 0.5 - Math.cos( p * Math.PI ) / 2;
		},
		_default: "swing"
	};

	jQuery.fx = Tween.prototype.init;

	// Back Compat <1.8 extension point
	jQuery.fx.step = {};




	var
		fxNow, timerId,
		rfxtypes = /^(?:toggle|show|hide)$/,
		rrun = /queueHooks$/;

	// Animations created synchronously will run synchronously
	function createFxNow() {
		window.setTimeout( function() {
			fxNow = undefined;
		} );
		return ( fxNow = jQuery.now() );
	}

	// Generate parameters to create a standard animation
	function genFx( type, includeWidth ) {
		var which,
			i = 0,
			attrs = { height: type };

		// If we include width, step value is 1 to do all cssExpand values,
		// otherwise step value is 2 to skip over Left and Right
		includeWidth = includeWidth ? 1 : 0;
		for ( ; i < 4 ; i += 2 - includeWidth ) {
			which = cssExpand[ i ];
			attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
		}

		if ( includeWidth ) {
			attrs.opacity = attrs.width = type;
		}

		return attrs;
	}

	function createTween( value, prop, animation ) {
		var tween,
			collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ "*" ] ),
			index = 0,
			length = collection.length;
		for ( ; index < length; index++ ) {
			if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {

				// We're done with this property
				return tween;
			}
		}
	}

	function defaultPrefilter( elem, props, opts ) {
		/* jshint validthis: true */
		var prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,
			anim = this,
			orig = {},
			style = elem.style,
			hidden = elem.nodeType && isHidden( elem ),
			dataShow = dataPriv.get( elem, "fxshow" );

		// Handle queue: false promises
		if ( !opts.queue ) {
			hooks = jQuery._queueHooks( elem, "fx" );
			if ( hooks.unqueued == null ) {
				hooks.unqueued = 0;
				oldfire = hooks.empty.fire;
				hooks.empty.fire = function() {
					if ( !hooks.unqueued ) {
						oldfire();
					}
				};
			}
			hooks.unqueued++;

			anim.always( function() {

				// Ensure the complete handler is called before this completes
				anim.always( function() {
					hooks.unqueued--;
					if ( !jQuery.queue( elem, "fx" ).length ) {
						hooks.empty.fire();
					}
				} );
			} );
		}

		// Height/width overflow pass
		if ( elem.nodeType === 1 && ( "height" in props || "width" in props ) ) {

			// Make sure that nothing sneaks out
			// Record all 3 overflow attributes because IE9-10 do not
			// change the overflow attribute when overflowX and
			// overflowY are set to the same value
			opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

			// Set display property to inline-block for height/width
			// animations on inline elements that are having width/height animated
			display = jQuery.css( elem, "display" );

			// Test default display if display is currently "none"
			checkDisplay = display === "none" ?
				dataPriv.get( elem, "olddisplay" ) || defaultDisplay( elem.nodeName ) : display;

			if ( checkDisplay === "inline" && jQuery.css( elem, "float" ) === "none" ) {
				style.display = "inline-block";
			}
		}

		if ( opts.overflow ) {
			style.overflow = "hidden";
			anim.always( function() {
				style.overflow = opts.overflow[ 0 ];
				style.overflowX = opts.overflow[ 1 ];
				style.overflowY = opts.overflow[ 2 ];
			} );
		}

		// show/hide pass
		for ( prop in props ) {
			value = props[ prop ];
			if ( rfxtypes.exec( value ) ) {
				delete props[ prop ];
				toggle = toggle || value === "toggle";
				if ( value === ( hidden ? "hide" : "show" ) ) {

					// If there is dataShow left over from a stopped hide or show
					// and we are going to proceed with show, we should pretend to be hidden
					if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
						hidden = true;
					} else {
						continue;
					}
				}
				orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );

			// Any non-fx value stops us from restoring the original display value
			} else {
				display = undefined;
			}
		}

		if ( !jQuery.isEmptyObject( orig ) ) {
			if ( dataShow ) {
				if ( "hidden" in dataShow ) {
					hidden = dataShow.hidden;
				}
			} else {
				dataShow = dataPriv.access( elem, "fxshow", {} );
			}

			// Store state if its toggle - enables .stop().toggle() to "reverse"
			if ( toggle ) {
				dataShow.hidden = !hidden;
			}
			if ( hidden ) {
				jQuery( elem ).show();
			} else {
				anim.done( function() {
					jQuery( elem ).hide();
				} );
			}
			anim.done( function() {
				var prop;

				dataPriv.remove( elem, "fxshow" );
				for ( prop in orig ) {
					jQuery.style( elem, prop, orig[ prop ] );
				}
			} );
			for ( prop in orig ) {
				tween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );

				if ( !( prop in dataShow ) ) {
					dataShow[ prop ] = tween.start;
					if ( hidden ) {
						tween.end = tween.start;
						tween.start = prop === "width" || prop === "height" ? 1 : 0;
					}
				}
			}

		// If this is a noop like .hide().hide(), restore an overwritten display value
		} else if ( ( display === "none" ? defaultDisplay( elem.nodeName ) : display ) === "inline" ) {
			style.display = display;
		}
	}

	function propFilter( props, specialEasing ) {
		var index, name, easing, value, hooks;

		// camelCase, specialEasing and expand cssHook pass
		for ( index in props ) {
			name = jQuery.camelCase( index );
			easing = specialEasing[ name ];
			value = props[ index ];
			if ( jQuery.isArray( value ) ) {
				easing = value[ 1 ];
				value = props[ index ] = value[ 0 ];
			}

			if ( index !== name ) {
				props[ name ] = value;
				delete props[ index ];
			}

			hooks = jQuery.cssHooks[ name ];
			if ( hooks && "expand" in hooks ) {
				value = hooks.expand( value );
				delete props[ name ];

				// Not quite $.extend, this won't overwrite existing keys.
				// Reusing 'index' because we have the correct "name"
				for ( index in value ) {
					if ( !( index in props ) ) {
						props[ index ] = value[ index ];
						specialEasing[ index ] = easing;
					}
				}
			} else {
				specialEasing[ name ] = easing;
			}
		}
	}

	function Animation( elem, properties, options ) {
		var result,
			stopped,
			index = 0,
			length = Animation.prefilters.length,
			deferred = jQuery.Deferred().always( function() {

				// Don't match elem in the :animated selector
				delete tick.elem;
			} ),
			tick = function() {
				if ( stopped ) {
					return false;
				}
				var currentTime = fxNow || createFxNow(),
					remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),

					// Support: Android 2.3
					// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
					temp = remaining / animation.duration || 0,
					percent = 1 - temp,
					index = 0,
					length = animation.tweens.length;

				for ( ; index < length ; index++ ) {
					animation.tweens[ index ].run( percent );
				}

				deferred.notifyWith( elem, [ animation, percent, remaining ] );

				if ( percent < 1 && length ) {
					return remaining;
				} else {
					deferred.resolveWith( elem, [ animation ] );
					return false;
				}
			},
			animation = deferred.promise( {
				elem: elem,
				props: jQuery.extend( {}, properties ),
				opts: jQuery.extend( true, {
					specialEasing: {},
					easing: jQuery.easing._default
				}, options ),
				originalProperties: properties,
				originalOptions: options,
				startTime: fxNow || createFxNow(),
				duration: options.duration,
				tweens: [],
				createTween: function( prop, end ) {
					var tween = jQuery.Tween( elem, animation.opts, prop, end,
							animation.opts.specialEasing[ prop ] || animation.opts.easing );
					animation.tweens.push( tween );
					return tween;
				},
				stop: function( gotoEnd ) {
					var index = 0,

						// If we are going to the end, we want to run all the tweens
						// otherwise we skip this part
						length = gotoEnd ? animation.tweens.length : 0;
					if ( stopped ) {
						return this;
					}
					stopped = true;
					for ( ; index < length ; index++ ) {
						animation.tweens[ index ].run( 1 );
					}

					// Resolve when we played the last frame; otherwise, reject
					if ( gotoEnd ) {
						deferred.notifyWith( elem, [ animation, 1, 0 ] );
						deferred.resolveWith( elem, [ animation, gotoEnd ] );
					} else {
						deferred.rejectWith( elem, [ animation, gotoEnd ] );
					}
					return this;
				}
			} ),
			props = animation.props;

		propFilter( props, animation.opts.specialEasing );

		for ( ; index < length ; index++ ) {
			result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );
			if ( result ) {
				if ( jQuery.isFunction( result.stop ) ) {
					jQuery._queueHooks( animation.elem, animation.opts.queue ).stop =
						jQuery.proxy( result.stop, result );
				}
				return result;
			}
		}

		jQuery.map( props, createTween, animation );

		if ( jQuery.isFunction( animation.opts.start ) ) {
			animation.opts.start.call( elem, animation );
		}

		jQuery.fx.timer(
			jQuery.extend( tick, {
				elem: elem,
				anim: animation,
				queue: animation.opts.queue
			} )
		);

		// attach callbacks from options
		return animation.progress( animation.opts.progress )
			.done( animation.opts.done, animation.opts.complete )
			.fail( animation.opts.fail )
			.always( animation.opts.always );
	}

	jQuery.Animation = jQuery.extend( Animation, {
		tweeners: {
			"*": [ function( prop, value ) {
				var tween = this.createTween( prop, value );
				adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );
				return tween;
			} ]
		},

		tweener: function( props, callback ) {
			if ( jQuery.isFunction( props ) ) {
				callback = props;
				props = [ "*" ];
			} else {
				props = props.match( rnotwhite );
			}

			var prop,
				index = 0,
				length = props.length;

			for ( ; index < length ; index++ ) {
				prop = props[ index ];
				Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];
				Animation.tweeners[ prop ].unshift( callback );
			}
		},

		prefilters: [ defaultPrefilter ],

		prefilter: function( callback, prepend ) {
			if ( prepend ) {
				Animation.prefilters.unshift( callback );
			} else {
				Animation.prefilters.push( callback );
			}
		}
	} );

	jQuery.speed = function( speed, easing, fn ) {
		var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
			complete: fn || !fn && easing ||
				jQuery.isFunction( speed ) && speed,
			duration: speed,
			easing: fn && easing || easing && !jQuery.isFunction( easing ) && easing
		};

		opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ?
			opt.duration : opt.duration in jQuery.fx.speeds ?
				jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;

		// Normalize opt.queue - true/undefined/null -> "fx"
		if ( opt.queue == null || opt.queue === true ) {
			opt.queue = "fx";
		}

		// Queueing
		opt.old = opt.complete;

		opt.complete = function() {
			if ( jQuery.isFunction( opt.old ) ) {
				opt.old.call( this );
			}

			if ( opt.queue ) {
				jQuery.dequeue( this, opt.queue );
			}
		};

		return opt;
	};

	jQuery.fn.extend( {
		fadeTo: function( speed, to, easing, callback ) {

			// Show any hidden elements after setting opacity to 0
			return this.filter( isHidden ).css( "opacity", 0 ).show()

				// Animate to the value specified
				.end().animate( { opacity: to }, speed, easing, callback );
		},
		animate: function( prop, speed, easing, callback ) {
			var empty = jQuery.isEmptyObject( prop ),
				optall = jQuery.speed( speed, easing, callback ),
				doAnimation = function() {

					// Operate on a copy of prop so per-property easing won't be lost
					var anim = Animation( this, jQuery.extend( {}, prop ), optall );

					// Empty animations, or finishing resolves immediately
					if ( empty || dataPriv.get( this, "finish" ) ) {
						anim.stop( true );
					}
				};
				doAnimation.finish = doAnimation;

			return empty || optall.queue === false ?
				this.each( doAnimation ) :
				this.queue( optall.queue, doAnimation );
		},
		stop: function( type, clearQueue, gotoEnd ) {
			var stopQueue = function( hooks ) {
				var stop = hooks.stop;
				delete hooks.stop;
				stop( gotoEnd );
			};

			if ( typeof type !== "string" ) {
				gotoEnd = clearQueue;
				clearQueue = type;
				type = undefined;
			}
			if ( clearQueue && type !== false ) {
				this.queue( type || "fx", [] );
			}

			return this.each( function() {
				var dequeue = true,
					index = type != null && type + "queueHooks",
					timers = jQuery.timers,
					data = dataPriv.get( this );

				if ( index ) {
					if ( data[ index ] && data[ index ].stop ) {
						stopQueue( data[ index ] );
					}
				} else {
					for ( index in data ) {
						if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
							stopQueue( data[ index ] );
						}
					}
				}

				for ( index = timers.length; index--; ) {
					if ( timers[ index ].elem === this &&
						( type == null || timers[ index ].queue === type ) ) {

						timers[ index ].anim.stop( gotoEnd );
						dequeue = false;
						timers.splice( index, 1 );
					}
				}

				// Start the next in the queue if the last step wasn't forced.
				// Timers currently will call their complete callbacks, which
				// will dequeue but only if they were gotoEnd.
				if ( dequeue || !gotoEnd ) {
					jQuery.dequeue( this, type );
				}
			} );
		},
		finish: function( type ) {
			if ( type !== false ) {
				type = type || "fx";
			}
			return this.each( function() {
				var index,
					data = dataPriv.get( this ),
					queue = data[ type + "queue" ],
					hooks = data[ type + "queueHooks" ],
					timers = jQuery.timers,
					length = queue ? queue.length : 0;

				// Enable finishing flag on private data
				data.finish = true;

				// Empty the queue first
				jQuery.queue( this, type, [] );

				if ( hooks && hooks.stop ) {
					hooks.stop.call( this, true );
				}

				// Look for any active animations, and finish them
				for ( index = timers.length; index--; ) {
					if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
						timers[ index ].anim.stop( true );
						timers.splice( index, 1 );
					}
				}

				// Look for any animations in the old queue and finish them
				for ( index = 0; index < length; index++ ) {
					if ( queue[ index ] && queue[ index ].finish ) {
						queue[ index ].finish.call( this );
					}
				}

				// Turn off finishing flag
				delete data.finish;
			} );
		}
	} );

	jQuery.each( [ "toggle", "show", "hide" ], function( i, name ) {
		var cssFn = jQuery.fn[ name ];
		jQuery.fn[ name ] = function( speed, easing, callback ) {
			return speed == null || typeof speed === "boolean" ?
				cssFn.apply( this, arguments ) :
				this.animate( genFx( name, true ), speed, easing, callback );
		};
	} );

	// Generate shortcuts for custom animations
	jQuery.each( {
		slideDown: genFx( "show" ),
		slideUp: genFx( "hide" ),
		slideToggle: genFx( "toggle" ),
		fadeIn: { opacity: "show" },
		fadeOut: { opacity: "hide" },
		fadeToggle: { opacity: "toggle" }
	}, function( name, props ) {
		jQuery.fn[ name ] = function( speed, easing, callback ) {
			return this.animate( props, speed, easing, callback );
		};
	} );

	jQuery.timers = [];
	jQuery.fx.tick = function() {
		var timer,
			i = 0,
			timers = jQuery.timers;

		fxNow = jQuery.now();

		for ( ; i < timers.length; i++ ) {
			timer = timers[ i ];

			// Checks the timer has not already been removed
			if ( !timer() && timers[ i ] === timer ) {
				timers.splice( i--, 1 );
			}
		}

		if ( !timers.length ) {
			jQuery.fx.stop();
		}
		fxNow = undefined;
	};

	jQuery.fx.timer = function( timer ) {
		jQuery.timers.push( timer );
		if ( timer() ) {
			jQuery.fx.start();
		} else {
			jQuery.timers.pop();
		}
	};

	jQuery.fx.interval = 13;
	jQuery.fx.start = function() {
		if ( !timerId ) {
			timerId = window.setInterval( jQuery.fx.tick, jQuery.fx.interval );
		}
	};

	jQuery.fx.stop = function() {
		window.clearInterval( timerId );

		timerId = null;
	};

	jQuery.fx.speeds = {
		slow: 600,
		fast: 200,

		// Default speed
		_default: 400
	};


	// Based off of the plugin by Clint Helfers, with permission.
	// http://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/
	jQuery.fn.delay = function( time, type ) {
		time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
		type = type || "fx";

		return this.queue( type, function( next, hooks ) {
			var timeout = window.setTimeout( next, time );
			hooks.stop = function() {
				window.clearTimeout( timeout );
			};
		} );
	};


	( function() {
		var input = document.createElement( "input" ),
			select = document.createElement( "select" ),
			opt = select.appendChild( document.createElement( "option" ) );

		input.type = "checkbox";

		// Support: iOS<=5.1, Android<=4.2+
		// Default value for a checkbox should be "on"
		support.checkOn = input.value !== "";

		// Support: IE<=11+
		// Must access selectedIndex to make default options select
		support.optSelected = opt.selected;

		// Support: Android<=2.3
		// Options inside disabled selects are incorrectly marked as disabled
		select.disabled = true;
		support.optDisabled = !opt.disabled;

		// Support: IE<=11+
		// An input loses its value after becoming a radio
		input = document.createElement( "input" );
		input.value = "t";
		input.type = "radio";
		support.radioValue = input.value === "t";
	} )();


	var boolHook,
		attrHandle = jQuery.expr.attrHandle;

	jQuery.fn.extend( {
		attr: function( name, value ) {
			return access( this, jQuery.attr, name, value, arguments.length > 1 );
		},

		removeAttr: function( name ) {
			return this.each( function() {
				jQuery.removeAttr( this, name );
			} );
		}
	} );

	jQuery.extend( {
		attr: function( elem, name, value ) {
			var ret, hooks,
				nType = elem.nodeType;

			// Don't get/set attributes on text, comment and attribute nodes
			if ( nType === 3 || nType === 8 || nType === 2 ) {
				return;
			}

			// Fallback to prop when attributes are not supported
			if ( typeof elem.getAttribute === "undefined" ) {
				return jQuery.prop( elem, name, value );
			}

			// All attributes are lowercase
			// Grab necessary hook if one is defined
			if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
				name = name.toLowerCase();
				hooks = jQuery.attrHooks[ name ] ||
					( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );
			}

			if ( value !== undefined ) {
				if ( value === null ) {
					jQuery.removeAttr( elem, name );
					return;
				}

				if ( hooks && "set" in hooks &&
					( ret = hooks.set( elem, value, name ) ) !== undefined ) {
					return ret;
				}

				elem.setAttribute( name, value + "" );
				return value;
			}

			if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
				return ret;
			}

			ret = jQuery.find.attr( elem, name );

			// Non-existent attributes return null, we normalize to undefined
			return ret == null ? undefined : ret;
		},

		attrHooks: {
			type: {
				set: function( elem, value ) {
					if ( !support.radioValue && value === "radio" &&
						jQuery.nodeName( elem, "input" ) ) {
						var val = elem.value;
						elem.setAttribute( "type", value );
						if ( val ) {
							elem.value = val;
						}
						return value;
					}
				}
			}
		},

		removeAttr: function( elem, value ) {
			var name, propName,
				i = 0,
				attrNames = value && value.match( rnotwhite );

			if ( attrNames && elem.nodeType === 1 ) {
				while ( ( name = attrNames[ i++ ] ) ) {
					propName = jQuery.propFix[ name ] || name;

					// Boolean attributes get special treatment (#10870)
					if ( jQuery.expr.match.bool.test( name ) ) {

						// Set corresponding property to false
						elem[ propName ] = false;
					}

					elem.removeAttribute( name );
				}
			}
		}
	} );

	// Hooks for boolean attributes
	boolHook = {
		set: function( elem, value, name ) {
			if ( value === false ) {

				// Remove boolean attributes when set to false
				jQuery.removeAttr( elem, name );
			} else {
				elem.setAttribute( name, name );
			}
			return name;
		}
	};
	jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( i, name ) {
		var getter = attrHandle[ name ] || jQuery.find.attr;

		attrHandle[ name ] = function( elem, name, isXML ) {
			var ret, handle;
			if ( !isXML ) {

				// Avoid an infinite loop by temporarily removing this function from the getter
				handle = attrHandle[ name ];
				attrHandle[ name ] = ret;
				ret = getter( elem, name, isXML ) != null ?
					name.toLowerCase() :
					null;
				attrHandle[ name ] = handle;
			}
			return ret;
		};
	} );




	var rfocusable = /^(?:input|select|textarea|button)$/i,
		rclickable = /^(?:a|area)$/i;

	jQuery.fn.extend( {
		prop: function( name, value ) {
			return access( this, jQuery.prop, name, value, arguments.length > 1 );
		},

		removeProp: function( name ) {
			return this.each( function() {
				delete this[ jQuery.propFix[ name ] || name ];
			} );
		}
	} );

	jQuery.extend( {
		prop: function( elem, name, value ) {
			var ret, hooks,
				nType = elem.nodeType;

			// Don't get/set properties on text, comment and attribute nodes
			if ( nType === 3 || nType === 8 || nType === 2 ) {
				return;
			}

			if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {

				// Fix name and attach hooks
				name = jQuery.propFix[ name ] || name;
				hooks = jQuery.propHooks[ name ];
			}

			if ( value !== undefined ) {
				if ( hooks && "set" in hooks &&
					( ret = hooks.set( elem, value, name ) ) !== undefined ) {
					return ret;
				}

				return ( elem[ name ] = value );
			}

			if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
				return ret;
			}

			return elem[ name ];
		},

		propHooks: {
			tabIndex: {
				get: function( elem ) {

					// elem.tabIndex doesn't always return the
					// correct value when it hasn't been explicitly set
					// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
					// Use proper attribute retrieval(#12072)
					var tabindex = jQuery.find.attr( elem, "tabindex" );

					return tabindex ?
						parseInt( tabindex, 10 ) :
						rfocusable.test( elem.nodeName ) ||
							rclickable.test( elem.nodeName ) && elem.href ?
								0 :
								-1;
				}
			}
		},

		propFix: {
			"for": "htmlFor",
			"class": "className"
		}
	} );

	// Support: IE <=11 only
	// Accessing the selectedIndex property
	// forces the browser to respect setting selected
	// on the option
	// The getter ensures a default option is selected
	// when in an optgroup
	if ( !support.optSelected ) {
		jQuery.propHooks.selected = {
			get: function( elem ) {
				var parent = elem.parentNode;
				if ( parent && parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
				return null;
			},
			set: function( elem ) {
				var parent = elem.parentNode;
				if ( parent ) {
					parent.selectedIndex;

					if ( parent.parentNode ) {
						parent.parentNode.selectedIndex;
					}
				}
			}
		};
	}

	jQuery.each( [
		"tabIndex",
		"readOnly",
		"maxLength",
		"cellSpacing",
		"cellPadding",
		"rowSpan",
		"colSpan",
		"useMap",
		"frameBorder",
		"contentEditable"
	], function() {
		jQuery.propFix[ this.toLowerCase() ] = this;
	} );




	var rclass = /[\t\r\n\f]/g;

	function getClass( elem ) {
		return elem.getAttribute && elem.getAttribute( "class" ) || "";
	}

	jQuery.fn.extend( {
		addClass: function( value ) {
			var classes, elem, cur, curValue, clazz, j, finalValue,
				i = 0;

			if ( jQuery.isFunction( value ) ) {
				return this.each( function( j ) {
					jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );
				} );
			}

			if ( typeof value === "string" && value ) {
				classes = value.match( rnotwhite ) || [];

				while ( ( elem = this[ i++ ] ) ) {
					curValue = getClass( elem );
					cur = elem.nodeType === 1 &&
						( " " + curValue + " " ).replace( rclass, " " );

					if ( cur ) {
						j = 0;
						while ( ( clazz = classes[ j++ ] ) ) {
							if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
								cur += clazz + " ";
							}
						}

						// Only assign if different to avoid unneeded rendering.
						finalValue = jQuery.trim( cur );
						if ( curValue !== finalValue ) {
							elem.setAttribute( "class", finalValue );
						}
					}
				}
			}

			return this;
		},

		removeClass: function( value ) {
			var classes, elem, cur, curValue, clazz, j, finalValue,
				i = 0;

			if ( jQuery.isFunction( value ) ) {
				return this.each( function( j ) {
					jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );
				} );
			}

			if ( !arguments.length ) {
				return this.attr( "class", "" );
			}

			if ( typeof value === "string" && value ) {
				classes = value.match( rnotwhite ) || [];

				while ( ( elem = this[ i++ ] ) ) {
					curValue = getClass( elem );

					// This expression is here for better compressibility (see addClass)
					cur = elem.nodeType === 1 &&
						( " " + curValue + " " ).replace( rclass, " " );

					if ( cur ) {
						j = 0;
						while ( ( clazz = classes[ j++ ] ) ) {

							// Remove *all* instances
							while ( cur.indexOf( " " + clazz + " " ) > -1 ) {
								cur = cur.replace( " " + clazz + " ", " " );
							}
						}

						// Only assign if different to avoid unneeded rendering.
						finalValue = jQuery.trim( cur );
						if ( curValue !== finalValue ) {
							elem.setAttribute( "class", finalValue );
						}
					}
				}
			}

			return this;
		},

		toggleClass: function( value, stateVal ) {
			var type = typeof value;

			if ( typeof stateVal === "boolean" && type === "string" ) {
				return stateVal ? this.addClass( value ) : this.removeClass( value );
			}

			if ( jQuery.isFunction( value ) ) {
				return this.each( function( i ) {
					jQuery( this ).toggleClass(
						value.call( this, i, getClass( this ), stateVal ),
						stateVal
					);
				} );
			}

			return this.each( function() {
				var className, i, self, classNames;

				if ( type === "string" ) {

					// Toggle individual class names
					i = 0;
					self = jQuery( this );
					classNames = value.match( rnotwhite ) || [];

					while ( ( className = classNames[ i++ ] ) ) {

						// Check each className given, space separated list
						if ( self.hasClass( className ) ) {
							self.removeClass( className );
						} else {
							self.addClass( className );
						}
					}

				// Toggle whole class name
				} else if ( value === undefined || type === "boolean" ) {
					className = getClass( this );
					if ( className ) {

						// Store className if set
						dataPriv.set( this, "__className__", className );
					}

					// If the element has a class name or if we're passed `false`,
					// then remove the whole classname (if there was one, the above saved it).
					// Otherwise bring back whatever was previously saved (if anything),
					// falling back to the empty string if nothing was stored.
					if ( this.setAttribute ) {
						this.setAttribute( "class",
							className || value === false ?
							"" :
							dataPriv.get( this, "__className__" ) || ""
						);
					}
				}
			} );
		},

		hasClass: function( selector ) {
			var className, elem,
				i = 0;

			className = " " + selector + " ";
			while ( ( elem = this[ i++ ] ) ) {
				if ( elem.nodeType === 1 &&
					( " " + getClass( elem ) + " " ).replace( rclass, " " )
						.indexOf( className ) > -1
				) {
					return true;
				}
			}

			return false;
		}
	} );




	var rreturn = /\r/g,
		rspaces = /[\x20\t\r\n\f]+/g;

	jQuery.fn.extend( {
		val: function( value ) {
			var hooks, ret, isFunction,
				elem = this[ 0 ];

			if ( !arguments.length ) {
				if ( elem ) {
					hooks = jQuery.valHooks[ elem.type ] ||
						jQuery.valHooks[ elem.nodeName.toLowerCase() ];

					if ( hooks &&
						"get" in hooks &&
						( ret = hooks.get( elem, "value" ) ) !== undefined
					) {
						return ret;
					}

					ret = elem.value;

					return typeof ret === "string" ?

						// Handle most common string cases
						ret.replace( rreturn, "" ) :

						// Handle cases where value is null/undef or number
						ret == null ? "" : ret;
				}

				return;
			}

			isFunction = jQuery.isFunction( value );

			return this.each( function( i ) {
				var val;

				if ( this.nodeType !== 1 ) {
					return;
				}

				if ( isFunction ) {
					val = value.call( this, i, jQuery( this ).val() );
				} else {
					val = value;
				}

				// Treat null/undefined as ""; convert numbers to string
				if ( val == null ) {
					val = "";

				} else if ( typeof val === "number" ) {
					val += "";

				} else if ( jQuery.isArray( val ) ) {
					val = jQuery.map( val, function( value ) {
						return value == null ? "" : value + "";
					} );
				}

				hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

				// If set returns undefined, fall back to normal setting
				if ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {
					this.value = val;
				}
			} );
		}
	} );

	jQuery.extend( {
		valHooks: {
			option: {
				get: function( elem ) {

					var val = jQuery.find.attr( elem, "value" );
					return val != null ?
						val :

						// Support: IE10-11+
						// option.text throws exceptions (#14686, #14858)
						// Strip and collapse whitespace
						// https://html.spec.whatwg.org/#strip-and-collapse-whitespace
						jQuery.trim( jQuery.text( elem ) ).replace( rspaces, " " );
				}
			},
			select: {
				get: function( elem ) {
					var value, option,
						options = elem.options,
						index = elem.selectedIndex,
						one = elem.type === "select-one" || index < 0,
						values = one ? null : [],
						max = one ? index + 1 : options.length,
						i = index < 0 ?
							max :
							one ? index : 0;

					// Loop through all the selected options
					for ( ; i < max; i++ ) {
						option = options[ i ];

						// IE8-9 doesn't update selected after form reset (#2551)
						if ( ( option.selected || i === index ) &&

								// Don't return options that are disabled or in a disabled optgroup
								( support.optDisabled ?
									!option.disabled : option.getAttribute( "disabled" ) === null ) &&
								( !option.parentNode.disabled ||
									!jQuery.nodeName( option.parentNode, "optgroup" ) ) ) {

							// Get the specific value for the option
							value = jQuery( option ).val();

							// We don't need an array for one selects
							if ( one ) {
								return value;
							}

							// Multi-Selects return an array
							values.push( value );
						}
					}

					return values;
				},

				set: function( elem, value ) {
					var optionSet, option,
						options = elem.options,
						values = jQuery.makeArray( value ),
						i = options.length;

					while ( i-- ) {
						option = options[ i ];
						if ( option.selected =
							jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1
						) {
							optionSet = true;
						}
					}

					// Force browsers to behave consistently when non-matching value is set
					if ( !optionSet ) {
						elem.selectedIndex = -1;
					}
					return values;
				}
			}
		}
	} );

	// Radios and checkboxes getter/setter
	jQuery.each( [ "radio", "checkbox" ], function() {
		jQuery.valHooks[ this ] = {
			set: function( elem, value ) {
				if ( jQuery.isArray( value ) ) {
					return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );
				}
			}
		};
		if ( !support.checkOn ) {
			jQuery.valHooks[ this ].get = function( elem ) {
				return elem.getAttribute( "value" ) === null ? "on" : elem.value;
			};
		}
	} );




	// Return jQuery for attributes-only inclusion


	var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/;

	jQuery.extend( jQuery.event, {

		trigger: function( event, data, elem, onlyHandlers ) {

			var i, cur, tmp, bubbleType, ontype, handle, special,
				eventPath = [ elem || document ],
				type = hasOwn.call( event, "type" ) ? event.type : event,
				namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];

			cur = tmp = elem = elem || document;

			// Don't do events on text and comment nodes
			if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
				return;
			}

			// focus/blur morphs to focusin/out; ensure we're not firing them right now
			if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
				return;
			}

			if ( type.indexOf( "." ) > -1 ) {

				// Namespaced trigger; create a regexp to match event type in handle()
				namespaces = type.split( "." );
				type = namespaces.shift();
				namespaces.sort();
			}
			ontype = type.indexOf( ":" ) < 0 && "on" + type;

			// Caller can pass in a jQuery.Event object, Object, or just an event type string
			event = event[ jQuery.expando ] ?
				event :
				new jQuery.Event( type, typeof event === "object" && event );

			// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
			event.isTrigger = onlyHandlers ? 2 : 3;
			event.namespace = namespaces.join( "." );
			event.rnamespace = event.namespace ?
				new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :
				null;

			// Clean up the event in case it is being reused
			event.result = undefined;
			if ( !event.target ) {
				event.target = elem;
			}

			// Clone any incoming data and prepend the event, creating the handler arg list
			data = data == null ?
				[ event ] :
				jQuery.makeArray( data, [ event ] );

			// Allow special events to draw outside the lines
			special = jQuery.event.special[ type ] || {};
			if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
				return;
			}

			// Determine event propagation path in advance, per W3C events spec (#9951)
			// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
			if ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {

				bubbleType = special.delegateType || type;
				if ( !rfocusMorph.test( bubbleType + type ) ) {
					cur = cur.parentNode;
				}
				for ( ; cur; cur = cur.parentNode ) {
					eventPath.push( cur );
					tmp = cur;
				}

				// Only add window if we got to document (e.g., not plain obj or detached DOM)
				if ( tmp === ( elem.ownerDocument || document ) ) {
					eventPath.push( tmp.defaultView || tmp.parentWindow || window );
				}
			}

			// Fire handlers on the event path
			i = 0;
			while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {

				event.type = i > 1 ?
					bubbleType :
					special.bindType || type;

				// jQuery handler
				handle = ( dataPriv.get( cur, "events" ) || {} )[ event.type ] &&
					dataPriv.get( cur, "handle" );
				if ( handle ) {
					handle.apply( cur, data );
				}

				// Native handler
				handle = ontype && cur[ ontype ];
				if ( handle && handle.apply && acceptData( cur ) ) {
					event.result = handle.apply( cur, data );
					if ( event.result === false ) {
						event.preventDefault();
					}
				}
			}
			event.type = type;

			// If nobody prevented the default action, do it now
			if ( !onlyHandlers && !event.isDefaultPrevented() ) {

				if ( ( !special._default ||
					special._default.apply( eventPath.pop(), data ) === false ) &&
					acceptData( elem ) ) {

					// Call a native DOM method on the target with the same name name as the event.
					// Don't do default actions on window, that's where global variables be (#6170)
					if ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {

						// Don't re-trigger an onFOO event when we call its FOO() method
						tmp = elem[ ontype ];

						if ( tmp ) {
							elem[ ontype ] = null;
						}

						// Prevent re-triggering of the same event, since we already bubbled it above
						jQuery.event.triggered = type;
						elem[ type ]();
						jQuery.event.triggered = undefined;

						if ( tmp ) {
							elem[ ontype ] = tmp;
						}
					}
				}
			}

			return event.result;
		},

		// Piggyback on a donor event to simulate a different one
		simulate: function( type, elem, event ) {
			var e = jQuery.extend(
				new jQuery.Event(),
				event,
				{
					type: type,
					isSimulated: true

					// Previously, `originalEvent: {}` was set here, so stopPropagation call
					// would not be triggered on donor event, since in our own
					// jQuery.event.stopPropagation function we had a check for existence of
					// originalEvent.stopPropagation method, so, consequently it would be a noop.
					//
					// But now, this "simulate" function is used only for events
					// for which stopPropagation() is noop, so there is no need for that anymore.
					//
					// For the 1.x branch though, guard for "click" and "submit"
					// events is still used, but was moved to jQuery.event.stopPropagation function
					// because `originalEvent` should point to the original event for the constancy
					// with other events and for more focused logic
				}
			);

			jQuery.event.trigger( e, null, elem );

			if ( e.isDefaultPrevented() ) {
				event.preventDefault();
			}
		}

	} );

	jQuery.fn.extend( {

		trigger: function( type, data ) {
			return this.each( function() {
				jQuery.event.trigger( type, data, this );
			} );
		},
		triggerHandler: function( type, data ) {
			var elem = this[ 0 ];
			if ( elem ) {
				return jQuery.event.trigger( type, data, elem, true );
			}
		}
	} );


	jQuery.each( ( "blur focus focusin focusout load resize scroll unload click dblclick " +
		"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
		"change select submit keydown keypress keyup error contextmenu" ).split( " " ),
		function( i, name ) {

		// Handle event binding
		jQuery.fn[ name ] = function( data, fn ) {
			return arguments.length > 0 ?
				this.on( name, null, data, fn ) :
				this.trigger( name );
		};
	} );

	jQuery.fn.extend( {
		hover: function( fnOver, fnOut ) {
			return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
		}
	} );




	support.focusin = "onfocusin" in window;


	// Support: Firefox
	// Firefox doesn't have focus(in | out) events
	// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787
	//
	// Support: Chrome, Safari
	// focus(in | out) events fire after focus & blur events,
	// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order
	// Related ticket - https://code.google.com/p/chromium/issues/detail?id=449857
	if ( !support.focusin ) {
		jQuery.each( { focus: "focusin", blur: "focusout" }, function( orig, fix ) {

			// Attach a single capturing handler on the document while someone wants focusin/focusout
			var handler = function( event ) {
				jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );
			};

			jQuery.event.special[ fix ] = {
				setup: function() {
					var doc = this.ownerDocument || this,
						attaches = dataPriv.access( doc, fix );

					if ( !attaches ) {
						doc.addEventListener( orig, handler, true );
					}
					dataPriv.access( doc, fix, ( attaches || 0 ) + 1 );
				},
				teardown: function() {
					var doc = this.ownerDocument || this,
						attaches = dataPriv.access( doc, fix ) - 1;

					if ( !attaches ) {
						doc.removeEventListener( orig, handler, true );
						dataPriv.remove( doc, fix );

					} else {
						dataPriv.access( doc, fix, attaches );
					}
				}
			};
		} );
	}
	var location = window.location;

	var nonce = jQuery.now();

	var rquery = ( /\?/ );



	// Support: Android 2.3
	// Workaround failure to string-cast null input
	jQuery.parseJSON = function( data ) {
		return JSON.parse( data + "" );
	};


	// Cross-browser xml parsing
	jQuery.parseXML = function( data ) {
		var xml;
		if ( !data || typeof data !== "string" ) {
			return null;
		}

		// Support: IE9
		try {
			xml = ( new window.DOMParser() ).parseFromString( data, "text/xml" );
		} catch ( e ) {
			xml = undefined;
		}

		if ( !xml || xml.getElementsByTagName( "parsererror" ).length ) {
			jQuery.error( "Invalid XML: " + data );
		}
		return xml;
	};


	var
		rhash = /#.*$/,
		rts = /([?&])_=[^&]*/,
		rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,

		// #7653, #8125, #8152: local protocol detection
		rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
		rnoContent = /^(?:GET|HEAD)$/,
		rprotocol = /^\/\//,

		/* Prefilters
		 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
		 * 2) These are called:
		 *    - BEFORE asking for a transport
		 *    - AFTER param serialization (s.data is a string if s.processData is true)
		 * 3) key is the dataType
		 * 4) the catchall symbol "*" can be used
		 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
		 */
		prefilters = {},

		/* Transports bindings
		 * 1) key is the dataType
		 * 2) the catchall symbol "*" can be used
		 * 3) selection will start with transport dataType and THEN go to "*" if needed
		 */
		transports = {},

		// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
		allTypes = "*/".concat( "*" ),

		// Anchor tag for parsing the document origin
		originAnchor = document.createElement( "a" );
		originAnchor.href = location.href;

	// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
	function addToPrefiltersOrTransports( structure ) {

		// dataTypeExpression is optional and defaults to "*"
		return function( dataTypeExpression, func ) {

			if ( typeof dataTypeExpression !== "string" ) {
				func = dataTypeExpression;
				dataTypeExpression = "*";
			}

			var dataType,
				i = 0,
				dataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];

			if ( jQuery.isFunction( func ) ) {

				// For each dataType in the dataTypeExpression
				while ( ( dataType = dataTypes[ i++ ] ) ) {

					// Prepend if requested
					if ( dataType[ 0 ] === "+" ) {
						dataType = dataType.slice( 1 ) || "*";
						( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );

					// Otherwise append
					} else {
						( structure[ dataType ] = structure[ dataType ] || [] ).push( func );
					}
				}
			}
		};
	}

	// Base inspection function for prefilters and transports
	function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

		var inspected = {},
			seekingTransport = ( structure === transports );

		function inspect( dataType ) {
			var selected;
			inspected[ dataType ] = true;
			jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
				var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
				if ( typeof dataTypeOrTransport === "string" &&
					!seekingTransport && !inspected[ dataTypeOrTransport ] ) {

					options.dataTypes.unshift( dataTypeOrTransport );
					inspect( dataTypeOrTransport );
					return false;
				} else if ( seekingTransport ) {
					return !( selected = dataTypeOrTransport );
				}
			} );
			return selected;
		}

		return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
	}

	// A special extend for ajax options
	// that takes "flat" options (not to be deep extended)
	// Fixes #9887
	function ajaxExtend( target, src ) {
		var key, deep,
			flatOptions = jQuery.ajaxSettings.flatOptions || {};

		for ( key in src ) {
			if ( src[ key ] !== undefined ) {
				( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
			}
		}
		if ( deep ) {
			jQuery.extend( true, target, deep );
		}

		return target;
	}

	/* Handles responses to an ajax request:
	 * - finds the right dataType (mediates between content-type and expected dataType)
	 * - returns the corresponding response
	 */
	function ajaxHandleResponses( s, jqXHR, responses ) {

		var ct, type, finalDataType, firstDataType,
			contents = s.contents,
			dataTypes = s.dataTypes;

		// Remove auto dataType and get content-type in the process
		while ( dataTypes[ 0 ] === "*" ) {
			dataTypes.shift();
			if ( ct === undefined ) {
				ct = s.mimeType || jqXHR.getResponseHeader( "Content-Type" );
			}
		}

		// Check if we're dealing with a known content-type
		if ( ct ) {
			for ( type in contents ) {
				if ( contents[ type ] && contents[ type ].test( ct ) ) {
					dataTypes.unshift( type );
					break;
				}
			}
		}

		// Check to see if we have a response for the expected dataType
		if ( dataTypes[ 0 ] in responses ) {
			finalDataType = dataTypes[ 0 ];
		} else {

			// Try convertible dataTypes
			for ( type in responses ) {
				if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[ 0 ] ] ) {
					finalDataType = type;
					break;
				}
				if ( !firstDataType ) {
					firstDataType = type;
				}
			}

			// Or just use first one
			finalDataType = finalDataType || firstDataType;
		}

		// If we found a dataType
		// We add the dataType to the list if needed
		// and return the corresponding response
		if ( finalDataType ) {
			if ( finalDataType !== dataTypes[ 0 ] ) {
				dataTypes.unshift( finalDataType );
			}
			return responses[ finalDataType ];
		}
	}

	/* Chain conversions given the request and the original response
	 * Also sets the responseXXX fields on the jqXHR instance
	 */
	function ajaxConvert( s, response, jqXHR, isSuccess ) {
		var conv2, current, conv, tmp, prev,
			converters = {},

			// Work with a copy of dataTypes in case we need to modify it for conversion
			dataTypes = s.dataTypes.slice();

		// Create converters map with lowercased keys
		if ( dataTypes[ 1 ] ) {
			for ( conv in s.converters ) {
				converters[ conv.toLowerCase() ] = s.converters[ conv ];
			}
		}

		current = dataTypes.shift();

		// Convert to each sequential dataType
		while ( current ) {

			if ( s.responseFields[ current ] ) {
				jqXHR[ s.responseFields[ current ] ] = response;
			}

			// Apply the dataFilter if provided
			if ( !prev && isSuccess && s.dataFilter ) {
				response = s.dataFilter( response, s.dataType );
			}

			prev = current;
			current = dataTypes.shift();

			if ( current ) {

			// There's only work to do if current dataType is non-auto
				if ( current === "*" ) {

					current = prev;

				// Convert response if prev dataType is non-auto and differs from current
				} else if ( prev !== "*" && prev !== current ) {

					// Seek a direct converter
					conv = converters[ prev + " " + current ] || converters[ "* " + current ];

					// If none found, seek a pair
					if ( !conv ) {
						for ( conv2 in converters ) {

							// If conv2 outputs current
							tmp = conv2.split( " " );
							if ( tmp[ 1 ] === current ) {

								// If prev can be converted to accepted input
								conv = converters[ prev + " " + tmp[ 0 ] ] ||
									converters[ "* " + tmp[ 0 ] ];
								if ( conv ) {

									// Condense equivalence converters
									if ( conv === true ) {
										conv = converters[ conv2 ];

									// Otherwise, insert the intermediate dataType
									} else if ( converters[ conv2 ] !== true ) {
										current = tmp[ 0 ];
										dataTypes.unshift( tmp[ 1 ] );
									}
									break;
								}
							}
						}
					}

					// Apply converter (if not an equivalence)
					if ( conv !== true ) {

						// Unless errors are allowed to bubble, catch and return them
						if ( conv && s.throws ) {
							response = conv( response );
						} else {
							try {
								response = conv( response );
							} catch ( e ) {
								return {
									state: "parsererror",
									error: conv ? e : "No conversion from " + prev + " to " + current
								};
							}
						}
					}
				}
			}
		}

		return { state: "success", data: response };
	}

	jQuery.extend( {

		// Counter for holding the number of active queries
		active: 0,

		// Last-Modified header cache for next request
		lastModified: {},
		etag: {},

		ajaxSettings: {
			url: location.href,
			type: "GET",
			isLocal: rlocalProtocol.test( location.protocol ),
			global: true,
			processData: true,
			async: true,
			contentType: "application/x-www-form-urlencoded; charset=UTF-8",
			/*
			timeout: 0,
			data: null,
			dataType: null,
			username: null,
			password: null,
			cache: null,
			throws: false,
			traditional: false,
			headers: {},
			*/

			accepts: {
				"*": allTypes,
				text: "text/plain",
				html: "text/html",
				xml: "application/xml, text/xml",
				json: "application/json, text/javascript"
			},

			contents: {
				xml: /\bxml\b/,
				html: /\bhtml/,
				json: /\bjson\b/
			},

			responseFields: {
				xml: "responseXML",
				text: "responseText",
				json: "responseJSON"
			},

			// Data converters
			// Keys separate source (or catchall "*") and destination types with a single space
			converters: {

				// Convert anything to text
				"* text": String,

				// Text to html (true = no transformation)
				"text html": true,

				// Evaluate text as a json expression
				"text json": jQuery.parseJSON,

				// Parse text as xml
				"text xml": jQuery.parseXML
			},

			// For options that shouldn't be deep extended:
			// you can add your own custom options here if
			// and when you create one that shouldn't be
			// deep extended (see ajaxExtend)
			flatOptions: {
				url: true,
				context: true
			}
		},

		// Creates a full fledged settings object into target
		// with both ajaxSettings and settings fields.
		// If target is omitted, writes into ajaxSettings.
		ajaxSetup: function( target, settings ) {
			return settings ?

				// Building a settings object
				ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

				// Extending ajaxSettings
				ajaxExtend( jQuery.ajaxSettings, target );
		},

		ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
		ajaxTransport: addToPrefiltersOrTransports( transports ),

		// Main method
		ajax: function( url, options ) {

			// If url is an object, simulate pre-1.5 signature
			if ( typeof url === "object" ) {
				options = url;
				url = undefined;
			}

			// Force options to be an object
			options = options || {};

			var transport,

				// URL without anti-cache param
				cacheURL,

				// Response headers
				responseHeadersString,
				responseHeaders,

				// timeout handle
				timeoutTimer,

				// Url cleanup var
				urlAnchor,

				// To know if global events are to be dispatched
				fireGlobals,

				// Loop variable
				i,

				// Create the final options object
				s = jQuery.ajaxSetup( {}, options ),

				// Callbacks context
				callbackContext = s.context || s,

				// Context for global events is callbackContext if it is a DOM node or jQuery collection
				globalEventContext = s.context &&
					( callbackContext.nodeType || callbackContext.jquery ) ?
						jQuery( callbackContext ) :
						jQuery.event,

				// Deferreds
				deferred = jQuery.Deferred(),
				completeDeferred = jQuery.Callbacks( "once memory" ),

				// Status-dependent callbacks
				statusCode = s.statusCode || {},

				// Headers (they are sent all at once)
				requestHeaders = {},
				requestHeadersNames = {},

				// The jqXHR state
				state = 0,

				// Default abort message
				strAbort = "canceled",

				// Fake xhr
				jqXHR = {
					readyState: 0,

					// Builds headers hashtable if needed
					getResponseHeader: function( key ) {
						var match;
						if ( state === 2 ) {
							if ( !responseHeaders ) {
								responseHeaders = {};
								while ( ( match = rheaders.exec( responseHeadersString ) ) ) {
									responseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ];
								}
							}
							match = responseHeaders[ key.toLowerCase() ];
						}
						return match == null ? null : match;
					},

					// Raw string
					getAllResponseHeaders: function() {
						return state === 2 ? responseHeadersString : null;
					},

					// Caches the header
					setRequestHeader: function( name, value ) {
						var lname = name.toLowerCase();
						if ( !state ) {
							name = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;
							requestHeaders[ name ] = value;
						}
						return this;
					},

					// Overrides response content-type header
					overrideMimeType: function( type ) {
						if ( !state ) {
							s.mimeType = type;
						}
						return this;
					},

					// Status-dependent callbacks
					statusCode: function( map ) {
						var code;
						if ( map ) {
							if ( state < 2 ) {
								for ( code in map ) {

									// Lazy-add the new callback in a way that preserves old ones
									statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
								}
							} else {

								// Execute the appropriate callbacks
								jqXHR.always( map[ jqXHR.status ] );
							}
						}
						return this;
					},

					// Cancel the request
					abort: function( statusText ) {
						var finalText = statusText || strAbort;
						if ( transport ) {
							transport.abort( finalText );
						}
						done( 0, finalText );
						return this;
					}
				};

			// Attach deferreds
			deferred.promise( jqXHR ).complete = completeDeferred.add;
			jqXHR.success = jqXHR.done;
			jqXHR.error = jqXHR.fail;

			// Remove hash character (#7531: and string promotion)
			// Add protocol if not provided (prefilters might expect it)
			// Handle falsy url in the settings object (#10093: consistency with old signature)
			// We also use the url parameter if available
			s.url = ( ( url || s.url || location.href ) + "" ).replace( rhash, "" )
				.replace( rprotocol, location.protocol + "//" );

			// Alias method option to type as per ticket #12004
			s.type = options.method || options.type || s.method || s.type;

			// Extract dataTypes list
			s.dataTypes = jQuery.trim( s.dataType || "*" ).toLowerCase().match( rnotwhite ) || [ "" ];

			// A cross-domain request is in order when the origin doesn't match the current origin.
			if ( s.crossDomain == null ) {
				urlAnchor = document.createElement( "a" );

				// Support: IE8-11+
				// IE throws exception if url is malformed, e.g. http://example.com:80x/
				try {
					urlAnchor.href = s.url;

					// Support: IE8-11+
					// Anchor's host property isn't correctly set when s.url is relative
					urlAnchor.href = urlAnchor.href;
					s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !==
						urlAnchor.protocol + "//" + urlAnchor.host;
				} catch ( e ) {

					// If there is an error parsing the URL, assume it is crossDomain,
					// it can be rejected by the transport if it is invalid
					s.crossDomain = true;
				}
			}

			// Convert data if not already a string
			if ( s.data && s.processData && typeof s.data !== "string" ) {
				s.data = jQuery.param( s.data, s.traditional );
			}

			// Apply prefilters
			inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

			// If request was aborted inside a prefilter, stop there
			if ( state === 2 ) {
				return jqXHR;
			}

			// We can fire global events as of now if asked to
			// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
			fireGlobals = jQuery.event && s.global;

			// Watch for a new set of requests
			if ( fireGlobals && jQuery.active++ === 0 ) {
				jQuery.event.trigger( "ajaxStart" );
			}

			// Uppercase the type
			s.type = s.type.toUpperCase();

			// Determine if request has content
			s.hasContent = !rnoContent.test( s.type );

			// Save the URL in case we're toying with the If-Modified-Since
			// and/or If-None-Match header later on
			cacheURL = s.url;

			// More options handling for requests with no content
			if ( !s.hasContent ) {

				// If data is available, append data to url
				if ( s.data ) {
					cacheURL = ( s.url += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data );

					// #9682: remove data so that it's not used in an eventual retry
					delete s.data;
				}

				// Add anti-cache in url if needed
				if ( s.cache === false ) {
					s.url = rts.test( cacheURL ) ?

						// If there is already a '_' parameter, set its value
						cacheURL.replace( rts, "$1_=" + nonce++ ) :

						// Otherwise add one to the end
						cacheURL + ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + nonce++;
				}
			}

			// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
			if ( s.ifModified ) {
				if ( jQuery.lastModified[ cacheURL ] ) {
					jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
				}
				if ( jQuery.etag[ cacheURL ] ) {
					jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
				}
			}

			// Set the correct header, if data is being sent
			if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
				jqXHR.setRequestHeader( "Content-Type", s.contentType );
			}

			// Set the Accepts header for the server, depending on the dataType
			jqXHR.setRequestHeader(
				"Accept",
				s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?
					s.accepts[ s.dataTypes[ 0 ] ] +
						( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
					s.accepts[ "*" ]
			);

			// Check for headers option
			for ( i in s.headers ) {
				jqXHR.setRequestHeader( i, s.headers[ i ] );
			}

			// Allow custom headers/mimetypes and early abort
			if ( s.beforeSend &&
				( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {

				// Abort if not done already and return
				return jqXHR.abort();
			}

			// Aborting is no longer a cancellation
			strAbort = "abort";

			// Install callbacks on deferreds
			for ( i in { success: 1, error: 1, complete: 1 } ) {
				jqXHR[ i ]( s[ i ] );
			}

			// Get transport
			transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

			// If no transport, we auto-abort
			if ( !transport ) {
				done( -1, "No Transport" );
			} else {
				jqXHR.readyState = 1;

				// Send global event
				if ( fireGlobals ) {
					globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
				}

				// If request was aborted inside ajaxSend, stop there
				if ( state === 2 ) {
					return jqXHR;
				}

				// Timeout
				if ( s.async && s.timeout > 0 ) {
					timeoutTimer = window.setTimeout( function() {
						jqXHR.abort( "timeout" );
					}, s.timeout );
				}

				try {
					state = 1;
					transport.send( requestHeaders, done );
				} catch ( e ) {

					// Propagate exception as error if not done
					if ( state < 2 ) {
						done( -1, e );

					// Simply rethrow otherwise
					} else {
						throw e;
					}
				}
			}

			// Callback for when everything is done
			function done( status, nativeStatusText, responses, headers ) {
				var isSuccess, success, error, response, modified,
					statusText = nativeStatusText;

				// Called once
				if ( state === 2 ) {
					return;
				}

				// State is "done" now
				state = 2;

				// Clear timeout if it exists
				if ( timeoutTimer ) {
					window.clearTimeout( timeoutTimer );
				}

				// Dereference transport for early garbage collection
				// (no matter how long the jqXHR object will be used)
				transport = undefined;

				// Cache response headers
				responseHeadersString = headers || "";

				// Set readyState
				jqXHR.readyState = status > 0 ? 4 : 0;

				// Determine if successful
				isSuccess = status >= 200 && status < 300 || status === 304;

				// Get response data
				if ( responses ) {
					response = ajaxHandleResponses( s, jqXHR, responses );
				}

				// Convert no matter what (that way responseXXX fields are always set)
				response = ajaxConvert( s, response, jqXHR, isSuccess );

				// If successful, handle type chaining
				if ( isSuccess ) {

					// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
					if ( s.ifModified ) {
						modified = jqXHR.getResponseHeader( "Last-Modified" );
						if ( modified ) {
							jQuery.lastModified[ cacheURL ] = modified;
						}
						modified = jqXHR.getResponseHeader( "etag" );
						if ( modified ) {
							jQuery.etag[ cacheURL ] = modified;
						}
					}

					// if no content
					if ( status === 204 || s.type === "HEAD" ) {
						statusText = "nocontent";

					// if not modified
					} else if ( status === 304 ) {
						statusText = "notmodified";

					// If we have data, let's convert it
					} else {
						statusText = response.state;
						success = response.data;
						error = response.error;
						isSuccess = !error;
					}
				} else {

					// Extract error from statusText and normalize for non-aborts
					error = statusText;
					if ( status || !statusText ) {
						statusText = "error";
						if ( status < 0 ) {
							status = 0;
						}
					}
				}

				// Set data for the fake xhr object
				jqXHR.status = status;
				jqXHR.statusText = ( nativeStatusText || statusText ) + "";

				// Success/Error
				if ( isSuccess ) {
					deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
				} else {
					deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
				}

				// Status-dependent callbacks
				jqXHR.statusCode( statusCode );
				statusCode = undefined;

				if ( fireGlobals ) {
					globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
						[ jqXHR, s, isSuccess ? success : error ] );
				}

				// Complete
				completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

				if ( fireGlobals ) {
					globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );

					// Handle the global AJAX counter
					if ( !( --jQuery.active ) ) {
						jQuery.event.trigger( "ajaxStop" );
					}
				}
			}

			return jqXHR;
		},

		getJSON: function( url, data, callback ) {
			return jQuery.get( url, data, callback, "json" );
		},

		getScript: function( url, callback ) {
			return jQuery.get( url, undefined, callback, "script" );
		}
	} );

	jQuery.each( [ "get", "post" ], function( i, method ) {
		jQuery[ method ] = function( url, data, callback, type ) {

			// Shift arguments if data argument was omitted
			if ( jQuery.isFunction( data ) ) {
				type = type || callback;
				callback = data;
				data = undefined;
			}

			// The url can be an options object (which then must have .url)
			return jQuery.ajax( jQuery.extend( {
				url: url,
				type: method,
				dataType: type,
				data: data,
				success: callback
			}, jQuery.isPlainObject( url ) && url ) );
		};
	} );


	jQuery._evalUrl = function( url ) {
		return jQuery.ajax( {
			url: url,

			// Make this explicit, since user can override this through ajaxSetup (#11264)
			type: "GET",
			dataType: "script",
			async: false,
			global: false,
			"throws": true
		} );
	};


	jQuery.fn.extend( {
		wrapAll: function( html ) {
			var wrap;

			if ( jQuery.isFunction( html ) ) {
				return this.each( function( i ) {
					jQuery( this ).wrapAll( html.call( this, i ) );
				} );
			}

			if ( this[ 0 ] ) {

				// The elements to wrap the target around
				wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

				if ( this[ 0 ].parentNode ) {
					wrap.insertBefore( this[ 0 ] );
				}

				wrap.map( function() {
					var elem = this;

					while ( elem.firstElementChild ) {
						elem = elem.firstElementChild;
					}

					return elem;
				} ).append( this );
			}

			return this;
		},

		wrapInner: function( html ) {
			if ( jQuery.isFunction( html ) ) {
				return this.each( function( i ) {
					jQuery( this ).wrapInner( html.call( this, i ) );
				} );
			}

			return this.each( function() {
				var self = jQuery( this ),
					contents = self.contents();

				if ( contents.length ) {
					contents.wrapAll( html );

				} else {
					self.append( html );
				}
			} );
		},

		wrap: function( html ) {
			var isFunction = jQuery.isFunction( html );

			return this.each( function( i ) {
				jQuery( this ).wrapAll( isFunction ? html.call( this, i ) : html );
			} );
		},

		unwrap: function() {
			return this.parent().each( function() {
				if ( !jQuery.nodeName( this, "body" ) ) {
					jQuery( this ).replaceWith( this.childNodes );
				}
			} ).end();
		}
	} );


	jQuery.expr.filters.hidden = function( elem ) {
		return !jQuery.expr.filters.visible( elem );
	};
	jQuery.expr.filters.visible = function( elem ) {

		// Support: Opera <= 12.12
		// Opera reports offsetWidths and offsetHeights less than zero on some elements
		// Use OR instead of AND as the element is not visible if either is true
		// See tickets #10406 and #13132
		return elem.offsetWidth > 0 || elem.offsetHeight > 0 || elem.getClientRects().length > 0;
	};




	var r20 = /%20/g,
		rbracket = /\[\]$/,
		rCRLF = /\r?\n/g,
		rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
		rsubmittable = /^(?:input|select|textarea|keygen)/i;

	function buildParams( prefix, obj, traditional, add ) {
		var name;

		if ( jQuery.isArray( obj ) ) {

			// Serialize array item.
			jQuery.each( obj, function( i, v ) {
				if ( traditional || rbracket.test( prefix ) ) {

					// Treat each array item as a scalar.
					add( prefix, v );

				} else {

					// Item is non-scalar (array or object), encode its numeric index.
					buildParams(
						prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",
						v,
						traditional,
						add
					);
				}
			} );

		} else if ( !traditional && jQuery.type( obj ) === "object" ) {

			// Serialize object item.
			for ( name in obj ) {
				buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
			}

		} else {

			// Serialize scalar item.
			add( prefix, obj );
		}
	}

	// Serialize an array of form elements or a set of
	// key/values into a query string
	jQuery.param = function( a, traditional ) {
		var prefix,
			s = [],
			add = function( key, value ) {

				// If value is a function, invoke it and return its value
				value = jQuery.isFunction( value ) ? value() : ( value == null ? "" : value );
				s[ s.length ] = encodeURIComponent( key ) + "=" + encodeURIComponent( value );
			};

		// Set traditional to true for jQuery <= 1.3.2 behavior.
		if ( traditional === undefined ) {
			traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;
		}

		// If an array was passed in, assume that it is an array of form elements.
		if ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {

			// Serialize the form elements
			jQuery.each( a, function() {
				add( this.name, this.value );
			} );

		} else {

			// If traditional, encode the "old" way (the way 1.3.2 or older
			// did it), otherwise encode params recursively.
			for ( prefix in a ) {
				buildParams( prefix, a[ prefix ], traditional, add );
			}
		}

		// Return the resulting serialization
		return s.join( "&" ).replace( r20, "+" );
	};

	jQuery.fn.extend( {
		serialize: function() {
			return jQuery.param( this.serializeArray() );
		},
		serializeArray: function() {
			return this.map( function() {

				// Can add propHook for "elements" to filter or add form elements
				var elements = jQuery.prop( this, "elements" );
				return elements ? jQuery.makeArray( elements ) : this;
			} )
			.filter( function() {
				var type = this.type;

				// Use .is( ":disabled" ) so that fieldset[disabled] works
				return this.name && !jQuery( this ).is( ":disabled" ) &&
					rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
					( this.checked || !rcheckableType.test( type ) );
			} )
			.map( function( i, elem ) {
				var val = jQuery( this ).val();

				return val == null ?
					null :
					jQuery.isArray( val ) ?
						jQuery.map( val, function( val ) {
							return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
						} ) :
						{ name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
			} ).get();
		}
	} );


	jQuery.ajaxSettings.xhr = function() {
		try {
			return new window.XMLHttpRequest();
		} catch ( e ) {}
	};

	var xhrSuccessStatus = {

			// File protocol always yields status code 0, assume 200
			0: 200,

			// Support: IE9
			// #1450: sometimes IE returns 1223 when it should be 204
			1223: 204
		},
		xhrSupported = jQuery.ajaxSettings.xhr();

	support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
	support.ajax = xhrSupported = !!xhrSupported;

	jQuery.ajaxTransport( function( options ) {
		var callback, errorCallback;

		// Cross domain only allowed if supported through XMLHttpRequest
		if ( support.cors || xhrSupported && !options.crossDomain ) {
			return {
				send: function( headers, complete ) {
					var i,
						xhr = options.xhr();

					xhr.open(
						options.type,
						options.url,
						options.async,
						options.username,
						options.password
					);

					// Apply custom fields if provided
					if ( options.xhrFields ) {
						for ( i in options.xhrFields ) {
							xhr[ i ] = options.xhrFields[ i ];
						}
					}

					// Override mime type if needed
					if ( options.mimeType && xhr.overrideMimeType ) {
						xhr.overrideMimeType( options.mimeType );
					}

					// X-Requested-With header
					// For cross-domain requests, seeing as conditions for a preflight are
					// akin to a jigsaw puzzle, we simply never set it to be sure.
					// (it can always be set on a per-request basis or even using ajaxSetup)
					// For same-domain requests, won't change header if already provided.
					if ( !options.crossDomain && !headers[ "X-Requested-With" ] ) {
						headers[ "X-Requested-With" ] = "XMLHttpRequest";
					}

					// Set headers
					for ( i in headers ) {
						xhr.setRequestHeader( i, headers[ i ] );
					}

					// Callback
					callback = function( type ) {
						return function() {
							if ( callback ) {
								callback = errorCallback = xhr.onload =
									xhr.onerror = xhr.onabort = xhr.onreadystatechange = null;

								if ( type === "abort" ) {
									xhr.abort();
								} else if ( type === "error" ) {

									// Support: IE9
									// On a manual native abort, IE9 throws
									// errors on any property access that is not readyState
									if ( typeof xhr.status !== "number" ) {
										complete( 0, "error" );
									} else {
										complete(

											// File: protocol always yields status 0; see #8605, #14207
											xhr.status,
											xhr.statusText
										);
									}
								} else {
									complete(
										xhrSuccessStatus[ xhr.status ] || xhr.status,
										xhr.statusText,

										// Support: IE9 only
										// IE9 has no XHR2 but throws on binary (trac-11426)
										// For XHR2 non-text, let the caller handle it (gh-2498)
										( xhr.responseType || "text" ) !== "text"  ||
										typeof xhr.responseText !== "string" ?
											{ binary: xhr.response } :
											{ text: xhr.responseText },
										xhr.getAllResponseHeaders()
									);
								}
							}
						};
					};

					// Listen to events
					xhr.onload = callback();
					errorCallback = xhr.onerror = callback( "error" );

					// Support: IE9
					// Use onreadystatechange to replace onabort
					// to handle uncaught aborts
					if ( xhr.onabort !== undefined ) {
						xhr.onabort = errorCallback;
					} else {
						xhr.onreadystatechange = function() {

							// Check readyState before timeout as it changes
							if ( xhr.readyState === 4 ) {

								// Allow onerror to be called first,
								// but that will not handle a native abort
								// Also, save errorCallback to a variable
								// as xhr.onerror cannot be accessed
								window.setTimeout( function() {
									if ( callback ) {
										errorCallback();
									}
								} );
							}
						};
					}

					// Create the abort callback
					callback = callback( "abort" );

					try {

						// Do send the request (this may raise an exception)
						xhr.send( options.hasContent && options.data || null );
					} catch ( e ) {

						// #14683: Only rethrow if this hasn't been notified as an error yet
						if ( callback ) {
							throw e;
						}
					}
				},

				abort: function() {
					if ( callback ) {
						callback();
					}
				}
			};
		}
	} );




	// Install script dataType
	jQuery.ajaxSetup( {
		accepts: {
			script: "text/javascript, application/javascript, " +
				"application/ecmascript, application/x-ecmascript"
		},
		contents: {
			script: /\b(?:java|ecma)script\b/
		},
		converters: {
			"text script": function( text ) {
				jQuery.globalEval( text );
				return text;
			}
		}
	} );

	// Handle cache's special case and crossDomain
	jQuery.ajaxPrefilter( "script", function( s ) {
		if ( s.cache === undefined ) {
			s.cache = false;
		}
		if ( s.crossDomain ) {
			s.type = "GET";
		}
	} );

	// Bind script tag hack transport
	jQuery.ajaxTransport( "script", function( s ) {

		// This transport only deals with cross domain requests
		if ( s.crossDomain ) {
			var script, callback;
			return {
				send: function( _, complete ) {
					script = jQuery( "<script>" ).prop( {
						charset: s.scriptCharset,
						src: s.url
					} ).on(
						"load error",
						callback = function( evt ) {
							script.remove();
							callback = null;
							if ( evt ) {
								complete( evt.type === "error" ? 404 : 200, evt.type );
							}
						}
					);

					// Use native DOM manipulation to avoid our domManip AJAX trickery
					document.head.appendChild( script[ 0 ] );
				},
				abort: function() {
					if ( callback ) {
						callback();
					}
				}
			};
		}
	} );




	var oldCallbacks = [],
		rjsonp = /(=)\?(?=&|$)|\?\?/;

	// Default jsonp settings
	jQuery.ajaxSetup( {
		jsonp: "callback",
		jsonpCallback: function() {
			var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce++ ) );
			this[ callback ] = true;
			return callback;
		}
	} );

	// Detect, normalize options and install callbacks for jsonp requests
	jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

		var callbackName, overwritten, responseContainer,
			jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
				"url" :
				typeof s.data === "string" &&
					( s.contentType || "" )
						.indexOf( "application/x-www-form-urlencoded" ) === 0 &&
					rjsonp.test( s.data ) && "data"
			);

		// Handle iff the expected data type is "jsonp" or we have a parameter to set
		if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

			// Get callback name, remembering preexisting value associated with it
			callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?
				s.jsonpCallback() :
				s.jsonpCallback;

			// Insert callback into url or form data
			if ( jsonProp ) {
				s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
			} else if ( s.jsonp !== false ) {
				s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
			}

			// Use data converter to retrieve json after script execution
			s.converters[ "script json" ] = function() {
				if ( !responseContainer ) {
					jQuery.error( callbackName + " was not called" );
				}
				return responseContainer[ 0 ];
			};

			// Force json dataType
			s.dataTypes[ 0 ] = "json";

			// Install callback
			overwritten = window[ callbackName ];
			window[ callbackName ] = function() {
				responseContainer = arguments;
			};

			// Clean-up function (fires after converters)
			jqXHR.always( function() {

				// If previous value didn't exist - remove it
				if ( overwritten === undefined ) {
					jQuery( window ).removeProp( callbackName );

				// Otherwise restore preexisting value
				} else {
					window[ callbackName ] = overwritten;
				}

				// Save back as free
				if ( s[ callbackName ] ) {

					// Make sure that re-using the options doesn't screw things around
					s.jsonpCallback = originalSettings.jsonpCallback;

					// Save the callback name for future use
					oldCallbacks.push( callbackName );
				}

				// Call if it was a function and we have a response
				if ( responseContainer && jQuery.isFunction( overwritten ) ) {
					overwritten( responseContainer[ 0 ] );
				}

				responseContainer = overwritten = undefined;
			} );

			// Delegate to script
			return "script";
		}
	} );




	// Argument "data" should be string of html
	// context (optional): If specified, the fragment will be created in this context,
	// defaults to document
	// keepScripts (optional): If true, will include scripts passed in the html string
	jQuery.parseHTML = function( data, context, keepScripts ) {
		if ( !data || typeof data !== "string" ) {
			return null;
		}
		if ( typeof context === "boolean" ) {
			keepScripts = context;
			context = false;
		}
		context = context || document;

		var parsed = rsingleTag.exec( data ),
			scripts = !keepScripts && [];

		// Single tag
		if ( parsed ) {
			return [ context.createElement( parsed[ 1 ] ) ];
		}

		parsed = buildFragment( [ data ], context, scripts );

		if ( scripts && scripts.length ) {
			jQuery( scripts ).remove();
		}

		return jQuery.merge( [], parsed.childNodes );
	};


	// Keep a copy of the old load method
	var _load = jQuery.fn.load;

	/**
	 * Load a url into a page
	 */
	jQuery.fn.load = function( url, params, callback ) {
		if ( typeof url !== "string" && _load ) {
			return _load.apply( this, arguments );
		}

		var selector, type, response,
			self = this,
			off = url.indexOf( " " );

		if ( off > -1 ) {
			selector = jQuery.trim( url.slice( off ) );
			url = url.slice( 0, off );
		}

		// If it's a function
		if ( jQuery.isFunction( params ) ) {

			// We assume that it's the callback
			callback = params;
			params = undefined;

		// Otherwise, build a param string
		} else if ( params && typeof params === "object" ) {
			type = "POST";
		}

		// If we have elements to modify, make the request
		if ( self.length > 0 ) {
			jQuery.ajax( {
				url: url,

				// If "type" variable is undefined, then "GET" method will be used.
				// Make value of this field explicit since
				// user can override it through ajaxSetup method
				type: type || "GET",
				dataType: "html",
				data: params
			} ).done( function( responseText ) {

				// Save response for use in complete callback
				response = arguments;

				self.html( selector ?

					// If a selector was specified, locate the right elements in a dummy div
					// Exclude scripts to avoid IE 'Permission Denied' errors
					jQuery( "<div>" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :

					// Otherwise use the full result
					responseText );

			// If the request succeeds, this function gets "data", "status", "jqXHR"
			// but they are ignored because response was set above.
			// If it fails, this function gets "jqXHR", "status", "error"
			} ).always( callback && function( jqXHR, status ) {
				self.each( function() {
					callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );
				} );
			} );
		}

		return this;
	};




	// Attach a bunch of functions for handling common AJAX events
	jQuery.each( [
		"ajaxStart",
		"ajaxStop",
		"ajaxComplete",
		"ajaxError",
		"ajaxSuccess",
		"ajaxSend"
	], function( i, type ) {
		jQuery.fn[ type ] = function( fn ) {
			return this.on( type, fn );
		};
	} );




	jQuery.expr.filters.animated = function( elem ) {
		return jQuery.grep( jQuery.timers, function( fn ) {
			return elem === fn.elem;
		} ).length;
	};




	/**
	 * Gets a window from an element
	 */
	function getWindow( elem ) {
		return jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;
	}

	jQuery.offset = {
		setOffset: function( elem, options, i ) {
			var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
				position = jQuery.css( elem, "position" ),
				curElem = jQuery( elem ),
				props = {};

			// Set position first, in-case top/left are set even on static elem
			if ( position === "static" ) {
				elem.style.position = "relative";
			}

			curOffset = curElem.offset();
			curCSSTop = jQuery.css( elem, "top" );
			curCSSLeft = jQuery.css( elem, "left" );
			calculatePosition = ( position === "absolute" || position === "fixed" ) &&
				( curCSSTop + curCSSLeft ).indexOf( "auto" ) > -1;

			// Need to be able to calculate position if either
			// top or left is auto and position is either absolute or fixed
			if ( calculatePosition ) {
				curPosition = curElem.position();
				curTop = curPosition.top;
				curLeft = curPosition.left;

			} else {
				curTop = parseFloat( curCSSTop ) || 0;
				curLeft = parseFloat( curCSSLeft ) || 0;
			}

			if ( jQuery.isFunction( options ) ) {

				// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
				options = options.call( elem, i, jQuery.extend( {}, curOffset ) );
			}

			if ( options.top != null ) {
				props.top = ( options.top - curOffset.top ) + curTop;
			}
			if ( options.left != null ) {
				props.left = ( options.left - curOffset.left ) + curLeft;
			}

			if ( "using" in options ) {
				options.using.call( elem, props );

			} else {
				curElem.css( props );
			}
		}
	};

	jQuery.fn.extend( {
		offset: function( options ) {
			if ( arguments.length ) {
				return options === undefined ?
					this :
					this.each( function( i ) {
						jQuery.offset.setOffset( this, options, i );
					} );
			}

			var docElem, win,
				elem = this[ 0 ],
				box = { top: 0, left: 0 },
				doc = elem && elem.ownerDocument;

			if ( !doc ) {
				return;
			}

			docElem = doc.documentElement;

			// Make sure it's not a disconnected DOM node
			if ( !jQuery.contains( docElem, elem ) ) {
				return box;
			}

			box = elem.getBoundingClientRect();
			win = getWindow( doc );
			return {
				top: box.top + win.pageYOffset - docElem.clientTop,
				left: box.left + win.pageXOffset - docElem.clientLeft
			};
		},

		position: function() {
			if ( !this[ 0 ] ) {
				return;
			}

			var offsetParent, offset,
				elem = this[ 0 ],
				parentOffset = { top: 0, left: 0 };

			// Fixed elements are offset from window (parentOffset = {top:0, left: 0},
			// because it is its only offset parent
			if ( jQuery.css( elem, "position" ) === "fixed" ) {

				// Assume getBoundingClientRect is there when computed position is fixed
				offset = elem.getBoundingClientRect();

			} else {

				// Get *real* offsetParent
				offsetParent = this.offsetParent();

				// Get correct offsets
				offset = this.offset();
				if ( !jQuery.nodeName( offsetParent[ 0 ], "html" ) ) {
					parentOffset = offsetParent.offset();
				}

				// Add offsetParent borders
				parentOffset.top += jQuery.css( offsetParent[ 0 ], "borderTopWidth", true );
				parentOffset.left += jQuery.css( offsetParent[ 0 ], "borderLeftWidth", true );
			}

			// Subtract parent offsets and element margins
			return {
				top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
				left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
			};
		},

		// This method will return documentElement in the following cases:
		// 1) For the element inside the iframe without offsetParent, this method will return
		//    documentElement of the parent window
		// 2) For the hidden or detached element
		// 3) For body or html element, i.e. in case of the html node - it will return itself
		//
		// but those exceptions were never presented as a real life use-cases
		// and might be considered as more preferable results.
		//
		// This logic, however, is not guaranteed and can change at any point in the future
		offsetParent: function() {
			return this.map( function() {
				var offsetParent = this.offsetParent;

				while ( offsetParent && jQuery.css( offsetParent, "position" ) === "static" ) {
					offsetParent = offsetParent.offsetParent;
				}

				return offsetParent || documentElement;
			} );
		}
	} );

	// Create scrollLeft and scrollTop methods
	jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
		var top = "pageYOffset" === prop;

		jQuery.fn[ method ] = function( val ) {
			return access( this, function( elem, method, val ) {
				var win = getWindow( elem );

				if ( val === undefined ) {
					return win ? win[ prop ] : elem[ method ];
				}

				if ( win ) {
					win.scrollTo(
						!top ? val : win.pageXOffset,
						top ? val : win.pageYOffset
					);

				} else {
					elem[ method ] = val;
				}
			}, method, val, arguments.length );
		};
	} );

	// Support: Safari<7-8+, Chrome<37-44+
	// Add the top/left cssHooks using jQuery.fn.position
	// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
	// Blink bug: https://code.google.com/p/chromium/issues/detail?id=229280
	// getComputedStyle returns percent when specified for top/left/bottom/right;
	// rather than make the css module depend on the offset module, just check for it here
	jQuery.each( [ "top", "left" ], function( i, prop ) {
		jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
			function( elem, computed ) {
				if ( computed ) {
					computed = curCSS( elem, prop );

					// If curCSS returns percentage, fallback to offset
					return rnumnonpx.test( computed ) ?
						jQuery( elem ).position()[ prop ] + "px" :
						computed;
				}
			}
		);
	} );


	// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
	jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
		jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name },
			function( defaultExtra, funcName ) {

			// Margin is only for outerHeight, outerWidth
			jQuery.fn[ funcName ] = function( margin, value ) {
				var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
					extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

				return access( this, function( elem, type, value ) {
					var doc;

					if ( jQuery.isWindow( elem ) ) {

						// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there
						// isn't a whole lot we can do. See pull request at this URL for discussion:
						// https://github.com/jquery/jquery/pull/764
						return elem.document.documentElement[ "client" + name ];
					}

					// Get document width or height
					if ( elem.nodeType === 9 ) {
						doc = elem.documentElement;

						// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
						// whichever is greatest
						return Math.max(
							elem.body[ "scroll" + name ], doc[ "scroll" + name ],
							elem.body[ "offset" + name ], doc[ "offset" + name ],
							doc[ "client" + name ]
						);
					}

					return value === undefined ?

						// Get width or height on the element, requesting but not forcing parseFloat
						jQuery.css( elem, type, extra ) :

						// Set width or height on the element
						jQuery.style( elem, type, value, extra );
				}, type, chainable ? margin : undefined, chainable, null );
			};
		} );
	} );


	jQuery.fn.extend( {

		bind: function( types, data, fn ) {
			return this.on( types, null, data, fn );
		},
		unbind: function( types, fn ) {
			return this.off( types, null, fn );
		},

		delegate: function( selector, types, data, fn ) {
			return this.on( types, selector, data, fn );
		},
		undelegate: function( selector, types, fn ) {

			// ( namespace ) or ( selector, types [, fn] )
			return arguments.length === 1 ?
				this.off( selector, "**" ) :
				this.off( types, selector || "**", fn );
		},
		size: function() {
			return this.length;
		}
	} );

	jQuery.fn.andSelf = jQuery.fn.addBack;




	// Register as a named AMD module, since jQuery can be concatenated with other
	// files that may use define, but not via a proper concatenation script that
	// understands anonymous AMD modules. A named AMD is safest and most robust
	// way to register. Lowercase jquery is used because AMD module names are
	// derived from file names, and jQuery is normally delivered in a lowercase
	// file name. Do this after creating the global so that if an AMD module wants
	// to call noConflict to hide this version of jQuery, it will work.

	// Note that for maximum portability, libraries that are not jQuery should
	// declare themselves as anonymous modules, and avoid setting a global if an
	// AMD loader is present. jQuery is a special case. For more information, see
	// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

	if ( true ) {
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {
			return jQuery;
		}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	}



	var

		// Map over jQuery in case of overwrite
		_jQuery = window.jQuery,

		// Map over the $ in case of overwrite
		_$ = window.$;

	jQuery.noConflict = function( deep ) {
		if ( window.$ === jQuery ) {
			window.$ = _$;
		}

		if ( deep && window.jQuery === jQuery ) {
			window.jQuery = _jQuery;
		}

		return jQuery;
	};

	// Expose jQuery and $ identifiers, even in AMD
	// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
	// and CommonJS for browser emulators (#13566)
	if ( !noGlobal ) {
		window.jQuery = window.$ = jQuery;
	}

	return jQuery;
	}));


/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//     Underscore.js 1.8.3
	//     http://underscorejs.org
	//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	//     Underscore may be freely distributed under the MIT license.

	(function() {

	  // Baseline setup
	  // --------------

	  // Establish the root object, `window` in the browser, or `exports` on the server.
	  var root = this;

	  // Save the previous value of the `_` variable.
	  var previousUnderscore = root._;

	  // Save bytes in the minified (but not gzipped) version:
	  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;

	  // Create quick reference variables for speed access to core prototypes.
	  var
	    push             = ArrayProto.push,
	    slice            = ArrayProto.slice,
	    toString         = ObjProto.toString,
	    hasOwnProperty   = ObjProto.hasOwnProperty;

	  // All **ECMAScript 5** native function implementations that we hope to use
	  // are declared here.
	  var
	    nativeIsArray      = Array.isArray,
	    nativeKeys         = Object.keys,
	    nativeBind         = FuncProto.bind,
	    nativeCreate       = Object.create;

	  // Naked function reference for surrogate-prototype-swapping.
	  var Ctor = function(){};

	  // Create a safe reference to the Underscore object for use below.
	  var _ = function(obj) {
	    if (obj instanceof _) return obj;
	    if (!(this instanceof _)) return new _(obj);
	    this._wrapped = obj;
	  };

	  // Export the Underscore object for **Node.js**, with
	  // backwards-compatibility for the old `require()` API. If we're in
	  // the browser, add `_` as a global object.
	  if (true) {
	    if (typeof module !== 'undefined' && module.exports) {
	      exports = module.exports = _;
	    }
	    exports._ = _;
	  } else {
	    root._ = _;
	  }

	  // Current version.
	  _.VERSION = '1.8.3';

	  // Internal function that returns an efficient (for current engines) version
	  // of the passed-in callback, to be repeatedly applied in other Underscore
	  // functions.
	  var optimizeCb = function(func, context, argCount) {
	    if (context === void 0) return func;
	    switch (argCount == null ? 3 : argCount) {
	      case 1: return function(value) {
	        return func.call(context, value);
	      };
	      case 2: return function(value, other) {
	        return func.call(context, value, other);
	      };
	      case 3: return function(value, index, collection) {
	        return func.call(context, value, index, collection);
	      };
	      case 4: return function(accumulator, value, index, collection) {
	        return func.call(context, accumulator, value, index, collection);
	      };
	    }
	    return function() {
	      return func.apply(context, arguments);
	    };
	  };

	  // A mostly-internal function to generate callbacks that can be applied
	  // to each element in a collection, returning the desired result — either
	  // identity, an arbitrary callback, a property matcher, or a property accessor.
	  var cb = function(value, context, argCount) {
	    if (value == null) return _.identity;
	    if (_.isFunction(value)) return optimizeCb(value, context, argCount);
	    if (_.isObject(value)) return _.matcher(value);
	    return _.property(value);
	  };
	  _.iteratee = function(value, context) {
	    return cb(value, context, Infinity);
	  };

	  // An internal function for creating assigner functions.
	  var createAssigner = function(keysFunc, undefinedOnly) {
	    return function(obj) {
	      var length = arguments.length;
	      if (length < 2 || obj == null) return obj;
	      for (var index = 1; index < length; index++) {
	        var source = arguments[index],
	            keys = keysFunc(source),
	            l = keys.length;
	        for (var i = 0; i < l; i++) {
	          var key = keys[i];
	          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];
	        }
	      }
	      return obj;
	    };
	  };

	  // An internal function for creating a new object that inherits from another.
	  var baseCreate = function(prototype) {
	    if (!_.isObject(prototype)) return {};
	    if (nativeCreate) return nativeCreate(prototype);
	    Ctor.prototype = prototype;
	    var result = new Ctor;
	    Ctor.prototype = null;
	    return result;
	  };

	  var property = function(key) {
	    return function(obj) {
	      return obj == null ? void 0 : obj[key];
	    };
	  };

	  // Helper for collection methods to determine whether a collection
	  // should be iterated as an array or as an object
	  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength
	  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094
	  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;
	  var getLength = property('length');
	  var isArrayLike = function(collection) {
	    var length = getLength(collection);
	    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;
	  };

	  // Collection Functions
	  // --------------------

	  // The cornerstone, an `each` implementation, aka `forEach`.
	  // Handles raw objects in addition to array-likes. Treats all
	  // sparse array-likes as if they were dense.
	  _.each = _.forEach = function(obj, iteratee, context) {
	    iteratee = optimizeCb(iteratee, context);
	    var i, length;
	    if (isArrayLike(obj)) {
	      for (i = 0, length = obj.length; i < length; i++) {
	        iteratee(obj[i], i, obj);
	      }
	    } else {
	      var keys = _.keys(obj);
	      for (i = 0, length = keys.length; i < length; i++) {
	        iteratee(obj[keys[i]], keys[i], obj);
	      }
	    }
	    return obj;
	  };

	  // Return the results of applying the iteratee to each element.
	  _.map = _.collect = function(obj, iteratee, context) {
	    iteratee = cb(iteratee, context);
	    var keys = !isArrayLike(obj) && _.keys(obj),
	        length = (keys || obj).length,
	        results = Array(length);
	    for (var index = 0; index < length; index++) {
	      var currentKey = keys ? keys[index] : index;
	      results[index] = iteratee(obj[currentKey], currentKey, obj);
	    }
	    return results;
	  };

	  // Create a reducing function iterating left or right.
	  function createReduce(dir) {
	    // Optimized iterator function as using arguments.length
	    // in the main function will deoptimize the, see #1991.
	    function iterator(obj, iteratee, memo, keys, index, length) {
	      for (; index >= 0 && index < length; index += dir) {
	        var currentKey = keys ? keys[index] : index;
	        memo = iteratee(memo, obj[currentKey], currentKey, obj);
	      }
	      return memo;
	    }

	    return function(obj, iteratee, memo, context) {
	      iteratee = optimizeCb(iteratee, context, 4);
	      var keys = !isArrayLike(obj) && _.keys(obj),
	          length = (keys || obj).length,
	          index = dir > 0 ? 0 : length - 1;
	      // Determine the initial value if none is provided.
	      if (arguments.length < 3) {
	        memo = obj[keys ? keys[index] : index];
	        index += dir;
	      }
	      return iterator(obj, iteratee, memo, keys, index, length);
	    };
	  }

	  // **Reduce** builds up a single result from a list of values, aka `inject`,
	  // or `foldl`.
	  _.reduce = _.foldl = _.inject = createReduce(1);

	  // The right-associative version of reduce, also known as `foldr`.
	  _.reduceRight = _.foldr = createReduce(-1);

	  // Return the first value which passes a truth test. Aliased as `detect`.
	  _.find = _.detect = function(obj, predicate, context) {
	    var key;
	    if (isArrayLike(obj)) {
	      key = _.findIndex(obj, predicate, context);
	    } else {
	      key = _.findKey(obj, predicate, context);
	    }
	    if (key !== void 0 && key !== -1) return obj[key];
	  };

	  // Return all the elements that pass a truth test.
	  // Aliased as `select`.
	  _.filter = _.select = function(obj, predicate, context) {
	    var results = [];
	    predicate = cb(predicate, context);
	    _.each(obj, function(value, index, list) {
	      if (predicate(value, index, list)) results.push(value);
	    });
	    return results;
	  };

	  // Return all the elements for which a truth test fails.
	  _.reject = function(obj, predicate, context) {
	    return _.filter(obj, _.negate(cb(predicate)), context);
	  };

	  // Determine whether all of the elements match a truth test.
	  // Aliased as `all`.
	  _.every = _.all = function(obj, predicate, context) {
	    predicate = cb(predicate, context);
	    var keys = !isArrayLike(obj) && _.keys(obj),
	        length = (keys || obj).length;
	    for (var index = 0; index < length; index++) {
	      var currentKey = keys ? keys[index] : index;
	      if (!predicate(obj[currentKey], currentKey, obj)) return false;
	    }
	    return true;
	  };

	  // Determine if at least one element in the object matches a truth test.
	  // Aliased as `any`.
	  _.some = _.any = function(obj, predicate, context) {
	    predicate = cb(predicate, context);
	    var keys = !isArrayLike(obj) && _.keys(obj),
	        length = (keys || obj).length;
	    for (var index = 0; index < length; index++) {
	      var currentKey = keys ? keys[index] : index;
	      if (predicate(obj[currentKey], currentKey, obj)) return true;
	    }
	    return false;
	  };

	  // Determine if the array or object contains a given item (using `===`).
	  // Aliased as `includes` and `include`.
	  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {
	    if (!isArrayLike(obj)) obj = _.values(obj);
	    if (typeof fromIndex != 'number' || guard) fromIndex = 0;
	    return _.indexOf(obj, item, fromIndex) >= 0;
	  };

	  // Invoke a method (with arguments) on every item in a collection.
	  _.invoke = function(obj, method) {
	    var args = slice.call(arguments, 2);
	    var isFunc = _.isFunction(method);
	    return _.map(obj, function(value) {
	      var func = isFunc ? method : value[method];
	      return func == null ? func : func.apply(value, args);
	    });
	  };

	  // Convenience version of a common use case of `map`: fetching a property.
	  _.pluck = function(obj, key) {
	    return _.map(obj, _.property(key));
	  };

	  // Convenience version of a common use case of `filter`: selecting only objects
	  // containing specific `key:value` pairs.
	  _.where = function(obj, attrs) {
	    return _.filter(obj, _.matcher(attrs));
	  };

	  // Convenience version of a common use case of `find`: getting the first object
	  // containing specific `key:value` pairs.
	  _.findWhere = function(obj, attrs) {
	    return _.find(obj, _.matcher(attrs));
	  };

	  // Return the maximum element (or element-based computation).
	  _.max = function(obj, iteratee, context) {
	    var result = -Infinity, lastComputed = -Infinity,
	        value, computed;
	    if (iteratee == null && obj != null) {
	      obj = isArrayLike(obj) ? obj : _.values(obj);
	      for (var i = 0, length = obj.length; i < length; i++) {
	        value = obj[i];
	        if (value > result) {
	          result = value;
	        }
	      }
	    } else {
	      iteratee = cb(iteratee, context);
	      _.each(obj, function(value, index, list) {
	        computed = iteratee(value, index, list);
	        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {
	          result = value;
	          lastComputed = computed;
	        }
	      });
	    }
	    return result;
	  };

	  // Return the minimum element (or element-based computation).
	  _.min = function(obj, iteratee, context) {
	    var result = Infinity, lastComputed = Infinity,
	        value, computed;
	    if (iteratee == null && obj != null) {
	      obj = isArrayLike(obj) ? obj : _.values(obj);
	      for (var i = 0, length = obj.length; i < length; i++) {
	        value = obj[i];
	        if (value < result) {
	          result = value;
	        }
	      }
	    } else {
	      iteratee = cb(iteratee, context);
	      _.each(obj, function(value, index, list) {
	        computed = iteratee(value, index, list);
	        if (computed < lastComputed || computed === Infinity && result === Infinity) {
	          result = value;
	          lastComputed = computed;
	        }
	      });
	    }
	    return result;
	  };

	  // Shuffle a collection, using the modern version of the
	  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).
	  _.shuffle = function(obj) {
	    var set = isArrayLike(obj) ? obj : _.values(obj);
	    var length = set.length;
	    var shuffled = Array(length);
	    for (var index = 0, rand; index < length; index++) {
	      rand = _.random(0, index);
	      if (rand !== index) shuffled[index] = shuffled[rand];
	      shuffled[rand] = set[index];
	    }
	    return shuffled;
	  };

	  // Sample **n** random values from a collection.
	  // If **n** is not specified, returns a single random element.
	  // The internal `guard` argument allows it to work with `map`.
	  _.sample = function(obj, n, guard) {
	    if (n == null || guard) {
	      if (!isArrayLike(obj)) obj = _.values(obj);
	      return obj[_.random(obj.length - 1)];
	    }
	    return _.shuffle(obj).slice(0, Math.max(0, n));
	  };

	  // Sort the object's values by a criterion produced by an iteratee.
	  _.sortBy = function(obj, iteratee, context) {
	    iteratee = cb(iteratee, context);
	    return _.pluck(_.map(obj, function(value, index, list) {
	      return {
	        value: value,
	        index: index,
	        criteria: iteratee(value, index, list)
	      };
	    }).sort(function(left, right) {
	      var a = left.criteria;
	      var b = right.criteria;
	      if (a !== b) {
	        if (a > b || a === void 0) return 1;
	        if (a < b || b === void 0) return -1;
	      }
	      return left.index - right.index;
	    }), 'value');
	  };

	  // An internal function used for aggregate "group by" operations.
	  var group = function(behavior) {
	    return function(obj, iteratee, context) {
	      var result = {};
	      iteratee = cb(iteratee, context);
	      _.each(obj, function(value, index) {
	        var key = iteratee(value, index, obj);
	        behavior(result, value, key);
	      });
	      return result;
	    };
	  };

	  // Groups the object's values by a criterion. Pass either a string attribute
	  // to group by, or a function that returns the criterion.
	  _.groupBy = group(function(result, value, key) {
	    if (_.has(result, key)) result[key].push(value); else result[key] = [value];
	  });

	  // Indexes the object's values by a criterion, similar to `groupBy`, but for
	  // when you know that your index values will be unique.
	  _.indexBy = group(function(result, value, key) {
	    result[key] = value;
	  });

	  // Counts instances of an object that group by a certain criterion. Pass
	  // either a string attribute to count by, or a function that returns the
	  // criterion.
	  _.countBy = group(function(result, value, key) {
	    if (_.has(result, key)) result[key]++; else result[key] = 1;
	  });

	  // Safely create a real, live array from anything iterable.
	  _.toArray = function(obj) {
	    if (!obj) return [];
	    if (_.isArray(obj)) return slice.call(obj);
	    if (isArrayLike(obj)) return _.map(obj, _.identity);
	    return _.values(obj);
	  };

	  // Return the number of elements in an object.
	  _.size = function(obj) {
	    if (obj == null) return 0;
	    return isArrayLike(obj) ? obj.length : _.keys(obj).length;
	  };

	  // Split a collection into two arrays: one whose elements all satisfy the given
	  // predicate, and one whose elements all do not satisfy the predicate.
	  _.partition = function(obj, predicate, context) {
	    predicate = cb(predicate, context);
	    var pass = [], fail = [];
	    _.each(obj, function(value, key, obj) {
	      (predicate(value, key, obj) ? pass : fail).push(value);
	    });
	    return [pass, fail];
	  };

	  // Array Functions
	  // ---------------

	  // Get the first element of an array. Passing **n** will return the first N
	  // values in the array. Aliased as `head` and `take`. The **guard** check
	  // allows it to work with `_.map`.
	  _.first = _.head = _.take = function(array, n, guard) {
	    if (array == null) return void 0;
	    if (n == null || guard) return array[0];
	    return _.initial(array, array.length - n);
	  };

	  // Returns everything but the last entry of the array. Especially useful on
	  // the arguments object. Passing **n** will return all the values in
	  // the array, excluding the last N.
	  _.initial = function(array, n, guard) {
	    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
	  };

	  // Get the last element of an array. Passing **n** will return the last N
	  // values in the array.
	  _.last = function(array, n, guard) {
	    if (array == null) return void 0;
	    if (n == null || guard) return array[array.length - 1];
	    return _.rest(array, Math.max(0, array.length - n));
	  };

	  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.
	  // Especially useful on the arguments object. Passing an **n** will return
	  // the rest N values in the array.
	  _.rest = _.tail = _.drop = function(array, n, guard) {
	    return slice.call(array, n == null || guard ? 1 : n);
	  };

	  // Trim out all falsy values from an array.
	  _.compact = function(array) {
	    return _.filter(array, _.identity);
	  };

	  // Internal implementation of a recursive `flatten` function.
	  var flatten = function(input, shallow, strict, startIndex) {
	    var output = [], idx = 0;
	    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {
	      var value = input[i];
	      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {
	        //flatten current level of array or arguments object
	        if (!shallow) value = flatten(value, shallow, strict);
	        var j = 0, len = value.length;
	        output.length += len;
	        while (j < len) {
	          output[idx++] = value[j++];
	        }
	      } else if (!strict) {
	        output[idx++] = value;
	      }
	    }
	    return output;
	  };

	  // Flatten out an array, either recursively (by default), or just one level.
	  _.flatten = function(array, shallow) {
	    return flatten(array, shallow, false);
	  };

	  // Return a version of the array that does not contain the specified value(s).
	  _.without = function(array) {
	    return _.difference(array, slice.call(arguments, 1));
	  };

	  // Produce a duplicate-free version of the array. If the array has already
	  // been sorted, you have the option of using a faster algorithm.
	  // Aliased as `unique`.
	  _.uniq = _.unique = function(array, isSorted, iteratee, context) {
	    if (!_.isBoolean(isSorted)) {
	      context = iteratee;
	      iteratee = isSorted;
	      isSorted = false;
	    }
	    if (iteratee != null) iteratee = cb(iteratee, context);
	    var result = [];
	    var seen = [];
	    for (var i = 0, length = getLength(array); i < length; i++) {
	      var value = array[i],
	          computed = iteratee ? iteratee(value, i, array) : value;
	      if (isSorted) {
	        if (!i || seen !== computed) result.push(value);
	        seen = computed;
	      } else if (iteratee) {
	        if (!_.contains(seen, computed)) {
	          seen.push(computed);
	          result.push(value);
	        }
	      } else if (!_.contains(result, value)) {
	        result.push(value);
	      }
	    }
	    return result;
	  };

	  // Produce an array that contains the union: each distinct element from all of
	  // the passed-in arrays.
	  _.union = function() {
	    return _.uniq(flatten(arguments, true, true));
	  };

	  // Produce an array that contains every item shared between all the
	  // passed-in arrays.
	  _.intersection = function(array) {
	    var result = [];
	    var argsLength = arguments.length;
	    for (var i = 0, length = getLength(array); i < length; i++) {
	      var item = array[i];
	      if (_.contains(result, item)) continue;
	      for (var j = 1; j < argsLength; j++) {
	        if (!_.contains(arguments[j], item)) break;
	      }
	      if (j === argsLength) result.push(item);
	    }
	    return result;
	  };

	  // Take the difference between one array and a number of other arrays.
	  // Only the elements present in just the first array will remain.
	  _.difference = function(array) {
	    var rest = flatten(arguments, true, true, 1);
	    return _.filter(array, function(value){
	      return !_.contains(rest, value);
	    });
	  };

	  // Zip together multiple lists into a single array -- elements that share
	  // an index go together.
	  _.zip = function() {
	    return _.unzip(arguments);
	  };

	  // Complement of _.zip. Unzip accepts an array of arrays and groups
	  // each array's elements on shared indices
	  _.unzip = function(array) {
	    var length = array && _.max(array, getLength).length || 0;
	    var result = Array(length);

	    for (var index = 0; index < length; index++) {
	      result[index] = _.pluck(array, index);
	    }
	    return result;
	  };

	  // Converts lists into objects. Pass either a single array of `[key, value]`
	  // pairs, or two parallel arrays of the same length -- one of keys, and one of
	  // the corresponding values.
	  _.object = function(list, values) {
	    var result = {};
	    for (var i = 0, length = getLength(list); i < length; i++) {
	      if (values) {
	        result[list[i]] = values[i];
	      } else {
	        result[list[i][0]] = list[i][1];
	      }
	    }
	    return result;
	  };

	  // Generator function to create the findIndex and findLastIndex functions
	  function createPredicateIndexFinder(dir) {
	    return function(array, predicate, context) {
	      predicate = cb(predicate, context);
	      var length = getLength(array);
	      var index = dir > 0 ? 0 : length - 1;
	      for (; index >= 0 && index < length; index += dir) {
	        if (predicate(array[index], index, array)) return index;
	      }
	      return -1;
	    };
	  }

	  // Returns the first index on an array-like that passes a predicate test
	  _.findIndex = createPredicateIndexFinder(1);
	  _.findLastIndex = createPredicateIndexFinder(-1);

	  // Use a comparator function to figure out the smallest index at which
	  // an object should be inserted so as to maintain order. Uses binary search.
	  _.sortedIndex = function(array, obj, iteratee, context) {
	    iteratee = cb(iteratee, context, 1);
	    var value = iteratee(obj);
	    var low = 0, high = getLength(array);
	    while (low < high) {
	      var mid = Math.floor((low + high) / 2);
	      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;
	    }
	    return low;
	  };

	  // Generator function to create the indexOf and lastIndexOf functions
	  function createIndexFinder(dir, predicateFind, sortedIndex) {
	    return function(array, item, idx) {
	      var i = 0, length = getLength(array);
	      if (typeof idx == 'number') {
	        if (dir > 0) {
	            i = idx >= 0 ? idx : Math.max(idx + length, i);
	        } else {
	            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;
	        }
	      } else if (sortedIndex && idx && length) {
	        idx = sortedIndex(array, item);
	        return array[idx] === item ? idx : -1;
	      }
	      if (item !== item) {
	        idx = predicateFind(slice.call(array, i, length), _.isNaN);
	        return idx >= 0 ? idx + i : -1;
	      }
	      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {
	        if (array[idx] === item) return idx;
	      }
	      return -1;
	    };
	  }

	  // Return the position of the first occurrence of an item in an array,
	  // or -1 if the item is not included in the array.
	  // If the array is large and already in sort order, pass `true`
	  // for **isSorted** to use binary search.
	  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);
	  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);

	  // Generate an integer Array containing an arithmetic progression. A port of
	  // the native Python `range()` function. See
	  // [the Python documentation](http://docs.python.org/library/functions.html#range).
	  _.range = function(start, stop, step) {
	    if (stop == null) {
	      stop = start || 0;
	      start = 0;
	    }
	    step = step || 1;

	    var length = Math.max(Math.ceil((stop - start) / step), 0);
	    var range = Array(length);

	    for (var idx = 0; idx < length; idx++, start += step) {
	      range[idx] = start;
	    }

	    return range;
	  };

	  // Function (ahem) Functions
	  // ------------------

	  // Determines whether to execute a function as a constructor
	  // or a normal function with the provided arguments
	  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {
	    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);
	    var self = baseCreate(sourceFunc.prototype);
	    var result = sourceFunc.apply(self, args);
	    if (_.isObject(result)) return result;
	    return self;
	  };

	  // Create a function bound to a given object (assigning `this`, and arguments,
	  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if
	  // available.
	  _.bind = function(func, context) {
	    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));
	    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');
	    var args = slice.call(arguments, 2);
	    var bound = function() {
	      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));
	    };
	    return bound;
	  };

	  // Partially apply a function by creating a version that has had some of its
	  // arguments pre-filled, without changing its dynamic `this` context. _ acts
	  // as a placeholder, allowing any combination of arguments to be pre-filled.
	  _.partial = function(func) {
	    var boundArgs = slice.call(arguments, 1);
	    var bound = function() {
	      var position = 0, length = boundArgs.length;
	      var args = Array(length);
	      for (var i = 0; i < length; i++) {
	        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];
	      }
	      while (position < arguments.length) args.push(arguments[position++]);
	      return executeBound(func, bound, this, this, args);
	    };
	    return bound;
	  };

	  // Bind a number of an object's methods to that object. Remaining arguments
	  // are the method names to be bound. Useful for ensuring that all callbacks
	  // defined on an object belong to it.
	  _.bindAll = function(obj) {
	    var i, length = arguments.length, key;
	    if (length <= 1) throw new Error('bindAll must be passed function names');
	    for (i = 1; i < length; i++) {
	      key = arguments[i];
	      obj[key] = _.bind(obj[key], obj);
	    }
	    return obj;
	  };

	  // Memoize an expensive function by storing its results.
	  _.memoize = function(func, hasher) {
	    var memoize = function(key) {
	      var cache = memoize.cache;
	      var address = '' + (hasher ? hasher.apply(this, arguments) : key);
	      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);
	      return cache[address];
	    };
	    memoize.cache = {};
	    return memoize;
	  };

	  // Delays a function for the given number of milliseconds, and then calls
	  // it with the arguments supplied.
	  _.delay = function(func, wait) {
	    var args = slice.call(arguments, 2);
	    return setTimeout(function(){
	      return func.apply(null, args);
	    }, wait);
	  };

	  // Defers a function, scheduling it to run after the current call stack has
	  // cleared.
	  _.defer = _.partial(_.delay, _, 1);

	  // Returns a function, that, when invoked, will only be triggered at most once
	  // during a given window of time. Normally, the throttled function will run
	  // as much as it can, without ever going more than once per `wait` duration;
	  // but if you'd like to disable the execution on the leading edge, pass
	  // `{leading: false}`. To disable execution on the trailing edge, ditto.
	  _.throttle = function(func, wait, options) {
	    var context, args, result;
	    var timeout = null;
	    var previous = 0;
	    if (!options) options = {};
	    var later = function() {
	      previous = options.leading === false ? 0 : _.now();
	      timeout = null;
	      result = func.apply(context, args);
	      if (!timeout) context = args = null;
	    };
	    return function() {
	      var now = _.now();
	      if (!previous && options.leading === false) previous = now;
	      var remaining = wait - (now - previous);
	      context = this;
	      args = arguments;
	      if (remaining <= 0 || remaining > wait) {
	        if (timeout) {
	          clearTimeout(timeout);
	          timeout = null;
	        }
	        previous = now;
	        result = func.apply(context, args);
	        if (!timeout) context = args = null;
	      } else if (!timeout && options.trailing !== false) {
	        timeout = setTimeout(later, remaining);
	      }
	      return result;
	    };
	  };

	  // Returns a function, that, as long as it continues to be invoked, will not
	  // be triggered. The function will be called after it stops being called for
	  // N milliseconds. If `immediate` is passed, trigger the function on the
	  // leading edge, instead of the trailing.
	  _.debounce = function(func, wait, immediate) {
	    var timeout, args, context, timestamp, result;

	    var later = function() {
	      var last = _.now() - timestamp;

	      if (last < wait && last >= 0) {
	        timeout = setTimeout(later, wait - last);
	      } else {
	        timeout = null;
	        if (!immediate) {
	          result = func.apply(context, args);
	          if (!timeout) context = args = null;
	        }
	      }
	    };

	    return function() {
	      context = this;
	      args = arguments;
	      timestamp = _.now();
	      var callNow = immediate && !timeout;
	      if (!timeout) timeout = setTimeout(later, wait);
	      if (callNow) {
	        result = func.apply(context, args);
	        context = args = null;
	      }

	      return result;
	    };
	  };

	  // Returns the first function passed as an argument to the second,
	  // allowing you to adjust arguments, run code before and after, and
	  // conditionally execute the original function.
	  _.wrap = function(func, wrapper) {
	    return _.partial(wrapper, func);
	  };

	  // Returns a negated version of the passed-in predicate.
	  _.negate = function(predicate) {
	    return function() {
	      return !predicate.apply(this, arguments);
	    };
	  };

	  // Returns a function that is the composition of a list of functions, each
	  // consuming the return value of the function that follows.
	  _.compose = function() {
	    var args = arguments;
	    var start = args.length - 1;
	    return function() {
	      var i = start;
	      var result = args[start].apply(this, arguments);
	      while (i--) result = args[i].call(this, result);
	      return result;
	    };
	  };

	  // Returns a function that will only be executed on and after the Nth call.
	  _.after = function(times, func) {
	    return function() {
	      if (--times < 1) {
	        return func.apply(this, arguments);
	      }
	    };
	  };

	  // Returns a function that will only be executed up to (but not including) the Nth call.
	  _.before = function(times, func) {
	    var memo;
	    return function() {
	      if (--times > 0) {
	        memo = func.apply(this, arguments);
	      }
	      if (times <= 1) func = null;
	      return memo;
	    };
	  };

	  // Returns a function that will be executed at most one time, no matter how
	  // often you call it. Useful for lazy initialization.
	  _.once = _.partial(_.before, 2);

	  // Object Functions
	  // ----------------

	  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.
	  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');
	  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',
	                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];

	  function collectNonEnumProps(obj, keys) {
	    var nonEnumIdx = nonEnumerableProps.length;
	    var constructor = obj.constructor;
	    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;

	    // Constructor is a special case.
	    var prop = 'constructor';
	    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);

	    while (nonEnumIdx--) {
	      prop = nonEnumerableProps[nonEnumIdx];
	      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {
	        keys.push(prop);
	      }
	    }
	  }

	  // Retrieve the names of an object's own properties.
	  // Delegates to **ECMAScript 5**'s native `Object.keys`
	  _.keys = function(obj) {
	    if (!_.isObject(obj)) return [];
	    if (nativeKeys) return nativeKeys(obj);
	    var keys = [];
	    for (var key in obj) if (_.has(obj, key)) keys.push(key);
	    // Ahem, IE < 9.
	    if (hasEnumBug) collectNonEnumProps(obj, keys);
	    return keys;
	  };

	  // Retrieve all the property names of an object.
	  _.allKeys = function(obj) {
	    if (!_.isObject(obj)) return [];
	    var keys = [];
	    for (var key in obj) keys.push(key);
	    // Ahem, IE < 9.
	    if (hasEnumBug) collectNonEnumProps(obj, keys);
	    return keys;
	  };

	  // Retrieve the values of an object's properties.
	  _.values = function(obj) {
	    var keys = _.keys(obj);
	    var length = keys.length;
	    var values = Array(length);
	    for (var i = 0; i < length; i++) {
	      values[i] = obj[keys[i]];
	    }
	    return values;
	  };

	  // Returns the results of applying the iteratee to each element of the object
	  // In contrast to _.map it returns an object
	  _.mapObject = function(obj, iteratee, context) {
	    iteratee = cb(iteratee, context);
	    var keys =  _.keys(obj),
	          length = keys.length,
	          results = {},
	          currentKey;
	      for (var index = 0; index < length; index++) {
	        currentKey = keys[index];
	        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);
	      }
	      return results;
	  };

	  // Convert an object into a list of `[key, value]` pairs.
	  _.pairs = function(obj) {
	    var keys = _.keys(obj);
	    var length = keys.length;
	    var pairs = Array(length);
	    for (var i = 0; i < length; i++) {
	      pairs[i] = [keys[i], obj[keys[i]]];
	    }
	    return pairs;
	  };

	  // Invert the keys and values of an object. The values must be serializable.
	  _.invert = function(obj) {
	    var result = {};
	    var keys = _.keys(obj);
	    for (var i = 0, length = keys.length; i < length; i++) {
	      result[obj[keys[i]]] = keys[i];
	    }
	    return result;
	  };

	  // Return a sorted list of the function names available on the object.
	  // Aliased as `methods`
	  _.functions = _.methods = function(obj) {
	    var names = [];
	    for (var key in obj) {
	      if (_.isFunction(obj[key])) names.push(key);
	    }
	    return names.sort();
	  };

	  // Extend a given object with all the properties in passed-in object(s).
	  _.extend = createAssigner(_.allKeys);

	  // Assigns a given object with all the own properties in the passed-in object(s)
	  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)
	  _.extendOwn = _.assign = createAssigner(_.keys);

	  // Returns the first key on an object that passes a predicate test
	  _.findKey = function(obj, predicate, context) {
	    predicate = cb(predicate, context);
	    var keys = _.keys(obj), key;
	    for (var i = 0, length = keys.length; i < length; i++) {
	      key = keys[i];
	      if (predicate(obj[key], key, obj)) return key;
	    }
	  };

	  // Return a copy of the object only containing the whitelisted properties.
	  _.pick = function(object, oiteratee, context) {
	    var result = {}, obj = object, iteratee, keys;
	    if (obj == null) return result;
	    if (_.isFunction(oiteratee)) {
	      keys = _.allKeys(obj);
	      iteratee = optimizeCb(oiteratee, context);
	    } else {
	      keys = flatten(arguments, false, false, 1);
	      iteratee = function(value, key, obj) { return key in obj; };
	      obj = Object(obj);
	    }
	    for (var i = 0, length = keys.length; i < length; i++) {
	      var key = keys[i];
	      var value = obj[key];
	      if (iteratee(value, key, obj)) result[key] = value;
	    }
	    return result;
	  };

	   // Return a copy of the object without the blacklisted properties.
	  _.omit = function(obj, iteratee, context) {
	    if (_.isFunction(iteratee)) {
	      iteratee = _.negate(iteratee);
	    } else {
	      var keys = _.map(flatten(arguments, false, false, 1), String);
	      iteratee = function(value, key) {
	        return !_.contains(keys, key);
	      };
	    }
	    return _.pick(obj, iteratee, context);
	  };

	  // Fill in a given object with default properties.
	  _.defaults = createAssigner(_.allKeys, true);

	  // Creates an object that inherits from the given prototype object.
	  // If additional properties are provided then they will be added to the
	  // created object.
	  _.create = function(prototype, props) {
	    var result = baseCreate(prototype);
	    if (props) _.extendOwn(result, props);
	    return result;
	  };

	  // Create a (shallow-cloned) duplicate of an object.
	  _.clone = function(obj) {
	    if (!_.isObject(obj)) return obj;
	    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);
	  };

	  // Invokes interceptor with the obj, and then returns obj.
	  // The primary purpose of this method is to "tap into" a method chain, in
	  // order to perform operations on intermediate results within the chain.
	  _.tap = function(obj, interceptor) {
	    interceptor(obj);
	    return obj;
	  };

	  // Returns whether an object has a given set of `key:value` pairs.
	  _.isMatch = function(object, attrs) {
	    var keys = _.keys(attrs), length = keys.length;
	    if (object == null) return !length;
	    var obj = Object(object);
	    for (var i = 0; i < length; i++) {
	      var key = keys[i];
	      if (attrs[key] !== obj[key] || !(key in obj)) return false;
	    }
	    return true;
	  };


	  // Internal recursive comparison function for `isEqual`.
	  var eq = function(a, b, aStack, bStack) {
	    // Identical objects are equal. `0 === -0`, but they aren't identical.
	    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
	    if (a === b) return a !== 0 || 1 / a === 1 / b;
	    // A strict comparison is necessary because `null == undefined`.
	    if (a == null || b == null) return a === b;
	    // Unwrap any wrapped objects.
	    if (a instanceof _) a = a._wrapped;
	    if (b instanceof _) b = b._wrapped;
	    // Compare `[[Class]]` names.
	    var className = toString.call(a);
	    if (className !== toString.call(b)) return false;
	    switch (className) {
	      // Strings, numbers, regular expressions, dates, and booleans are compared by value.
	      case '[object RegExp]':
	      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')
	      case '[object String]':
	        // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
	        // equivalent to `new String("5")`.
	        return '' + a === '' + b;
	      case '[object Number]':
	        // `NaN`s are equivalent, but non-reflexive.
	        // Object(NaN) is equivalent to NaN
	        if (+a !== +a) return +b !== +b;
	        // An `egal` comparison is performed for other numeric values.
	        return +a === 0 ? 1 / +a === 1 / b : +a === +b;
	      case '[object Date]':
	      case '[object Boolean]':
	        // Coerce dates and booleans to numeric primitive values. Dates are compared by their
	        // millisecond representations. Note that invalid dates with millisecond representations
	        // of `NaN` are not equivalent.
	        return +a === +b;
	    }

	    var areArrays = className === '[object Array]';
	    if (!areArrays) {
	      if (typeof a != 'object' || typeof b != 'object') return false;

	      // Objects with different constructors are not equivalent, but `Object`s or `Array`s
	      // from different frames are.
	      var aCtor = a.constructor, bCtor = b.constructor;
	      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&
	                               _.isFunction(bCtor) && bCtor instanceof bCtor)
	                          && ('constructor' in a && 'constructor' in b)) {
	        return false;
	      }
	    }
	    // Assume equality for cyclic structures. The algorithm for detecting cyclic
	    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.

	    // Initializing stack of traversed objects.
	    // It's done here since we only need them for objects and arrays comparison.
	    aStack = aStack || [];
	    bStack = bStack || [];
	    var length = aStack.length;
	    while (length--) {
	      // Linear search. Performance is inversely proportional to the number of
	      // unique nested structures.
	      if (aStack[length] === a) return bStack[length] === b;
	    }

	    // Add the first object to the stack of traversed objects.
	    aStack.push(a);
	    bStack.push(b);

	    // Recursively compare objects and arrays.
	    if (areArrays) {
	      // Compare array lengths to determine if a deep comparison is necessary.
	      length = a.length;
	      if (length !== b.length) return false;
	      // Deep compare the contents, ignoring non-numeric properties.
	      while (length--) {
	        if (!eq(a[length], b[length], aStack, bStack)) return false;
	      }
	    } else {
	      // Deep compare objects.
	      var keys = _.keys(a), key;
	      length = keys.length;
	      // Ensure that both objects contain the same number of properties before comparing deep equality.
	      if (_.keys(b).length !== length) return false;
	      while (length--) {
	        // Deep compare each member
	        key = keys[length];
	        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;
	      }
	    }
	    // Remove the first object from the stack of traversed objects.
	    aStack.pop();
	    bStack.pop();
	    return true;
	  };

	  // Perform a deep comparison to check if two objects are equal.
	  _.isEqual = function(a, b) {
	    return eq(a, b);
	  };

	  // Is a given array, string, or object empty?
	  // An "empty" object has no enumerable own-properties.
	  _.isEmpty = function(obj) {
	    if (obj == null) return true;
	    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;
	    return _.keys(obj).length === 0;
	  };

	  // Is a given value a DOM element?
	  _.isElement = function(obj) {
	    return !!(obj && obj.nodeType === 1);
	  };

	  // Is a given value an array?
	  // Delegates to ECMA5's native Array.isArray
	  _.isArray = nativeIsArray || function(obj) {
	    return toString.call(obj) === '[object Array]';
	  };

	  // Is a given variable an object?
	  _.isObject = function(obj) {
	    var type = typeof obj;
	    return type === 'function' || type === 'object' && !!obj;
	  };

	  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.
	  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {
	    _['is' + name] = function(obj) {
	      return toString.call(obj) === '[object ' + name + ']';
	    };
	  });

	  // Define a fallback version of the method in browsers (ahem, IE < 9), where
	  // there isn't any inspectable "Arguments" type.
	  if (!_.isArguments(arguments)) {
	    _.isArguments = function(obj) {
	      return _.has(obj, 'callee');
	    };
	  }

	  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,
	  // IE 11 (#1621), and in Safari 8 (#1929).
	  if (typeof /./ != 'function' && typeof Int8Array != 'object') {
	    _.isFunction = function(obj) {
	      return typeof obj == 'function' || false;
	    };
	  }

	  // Is a given object a finite number?
	  _.isFinite = function(obj) {
	    return isFinite(obj) && !isNaN(parseFloat(obj));
	  };

	  // Is the given value `NaN`? (NaN is the only number which does not equal itself).
	  _.isNaN = function(obj) {
	    return _.isNumber(obj) && obj !== +obj;
	  };

	  // Is a given value a boolean?
	  _.isBoolean = function(obj) {
	    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';
	  };

	  // Is a given value equal to null?
	  _.isNull = function(obj) {
	    return obj === null;
	  };

	  // Is a given variable undefined?
	  _.isUndefined = function(obj) {
	    return obj === void 0;
	  };

	  // Shortcut function for checking if an object has a given property directly
	  // on itself (in other words, not on a prototype).
	  _.has = function(obj, key) {
	    return obj != null && hasOwnProperty.call(obj, key);
	  };

	  // Utility Functions
	  // -----------------

	  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its
	  // previous owner. Returns a reference to the Underscore object.
	  _.noConflict = function() {
	    root._ = previousUnderscore;
	    return this;
	  };

	  // Keep the identity function around for default iteratees.
	  _.identity = function(value) {
	    return value;
	  };

	  // Predicate-generating functions. Often useful outside of Underscore.
	  _.constant = function(value) {
	    return function() {
	      return value;
	    };
	  };

	  _.noop = function(){};

	  _.property = property;

	  // Generates a function for a given object that returns a given property.
	  _.propertyOf = function(obj) {
	    return obj == null ? function(){} : function(key) {
	      return obj[key];
	    };
	  };

	  // Returns a predicate for checking whether an object has a given set of
	  // `key:value` pairs.
	  _.matcher = _.matches = function(attrs) {
	    attrs = _.extendOwn({}, attrs);
	    return function(obj) {
	      return _.isMatch(obj, attrs);
	    };
	  };

	  // Run a function **n** times.
	  _.times = function(n, iteratee, context) {
	    var accum = Array(Math.max(0, n));
	    iteratee = optimizeCb(iteratee, context, 1);
	    for (var i = 0; i < n; i++) accum[i] = iteratee(i);
	    return accum;
	  };

	  // Return a random integer between min and max (inclusive).
	  _.random = function(min, max) {
	    if (max == null) {
	      max = min;
	      min = 0;
	    }
	    return min + Math.floor(Math.random() * (max - min + 1));
	  };

	  // A (possibly faster) way to get the current timestamp as an integer.
	  _.now = Date.now || function() {
	    return new Date().getTime();
	  };

	   // List of HTML entities for escaping.
	  var escapeMap = {
	    '&': '&amp;',
	    '<': '&lt;',
	    '>': '&gt;',
	    '"': '&quot;',
	    "'": '&#x27;',
	    '`': '&#x60;'
	  };
	  var unescapeMap = _.invert(escapeMap);

	  // Functions for escaping and unescaping strings to/from HTML interpolation.
	  var createEscaper = function(map) {
	    var escaper = function(match) {
	      return map[match];
	    };
	    // Regexes for identifying a key that needs to be escaped
	    var source = '(?:' + _.keys(map).join('|') + ')';
	    var testRegexp = RegExp(source);
	    var replaceRegexp = RegExp(source, 'g');
	    return function(string) {
	      string = string == null ? '' : '' + string;
	      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;
	    };
	  };
	  _.escape = createEscaper(escapeMap);
	  _.unescape = createEscaper(unescapeMap);

	  // If the value of the named `property` is a function then invoke it with the
	  // `object` as context; otherwise, return it.
	  _.result = function(object, property, fallback) {
	    var value = object == null ? void 0 : object[property];
	    if (value === void 0) {
	      value = fallback;
	    }
	    return _.isFunction(value) ? value.call(object) : value;
	  };

	  // Generate a unique integer id (unique within the entire client session).
	  // Useful for temporary DOM ids.
	  var idCounter = 0;
	  _.uniqueId = function(prefix) {
	    var id = ++idCounter + '';
	    return prefix ? prefix + id : id;
	  };

	  // By default, Underscore uses ERB-style template delimiters, change the
	  // following template settings to use alternative delimiters.
	  _.templateSettings = {
	    evaluate    : /<%([\s\S]+?)%>/g,
	    interpolate : /<%=([\s\S]+?)%>/g,
	    escape      : /<%-([\s\S]+?)%>/g
	  };

	  // When customizing `templateSettings`, if you don't want to define an
	  // interpolation, evaluation or escaping regex, we need one that is
	  // guaranteed not to match.
	  var noMatch = /(.)^/;

	  // Certain characters need to be escaped so that they can be put into a
	  // string literal.
	  var escapes = {
	    "'":      "'",
	    '\\':     '\\',
	    '\r':     'r',
	    '\n':     'n',
	    '\u2028': 'u2028',
	    '\u2029': 'u2029'
	  };

	  var escaper = /\\|'|\r|\n|\u2028|\u2029/g;

	  var escapeChar = function(match) {
	    return '\\' + escapes[match];
	  };

	  // JavaScript micro-templating, similar to John Resig's implementation.
	  // Underscore templating handles arbitrary delimiters, preserves whitespace,
	  // and correctly escapes quotes within interpolated code.
	  // NB: `oldSettings` only exists for backwards compatibility.
	  _.template = function(text, settings, oldSettings) {
	    if (!settings && oldSettings) settings = oldSettings;
	    settings = _.defaults({}, settings, _.templateSettings);

	    // Combine delimiters into one regular expression via alternation.
	    var matcher = RegExp([
	      (settings.escape || noMatch).source,
	      (settings.interpolate || noMatch).source,
	      (settings.evaluate || noMatch).source
	    ].join('|') + '|$', 'g');

	    // Compile the template source, escaping string literals appropriately.
	    var index = 0;
	    var source = "__p+='";
	    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {
	      source += text.slice(index, offset).replace(escaper, escapeChar);
	      index = offset + match.length;

	      if (escape) {
	        source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";
	      } else if (interpolate) {
	        source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";
	      } else if (evaluate) {
	        source += "';\n" + evaluate + "\n__p+='";
	      }

	      // Adobe VMs need the match returned to produce the correct offest.
	      return match;
	    });
	    source += "';\n";

	    // If a variable is not specified, place data values in local scope.
	    if (!settings.variable) source = 'with(obj||{}){\n' + source + '}\n';

	    source = "var __t,__p='',__j=Array.prototype.join," +
	      "print=function(){__p+=__j.call(arguments,'');};\n" +
	      source + 'return __p;\n';

	    try {
	      var render = new Function(settings.variable || 'obj', '_', source);
	    } catch (e) {
	      e.source = source;
	      throw e;
	    }

	    var template = function(data) {
	      return render.call(this, data, _);
	    };

	    // Provide the compiled source as a convenience for precompilation.
	    var argument = settings.variable || 'obj';
	    template.source = 'function(' + argument + '){\n' + source + '}';

	    return template;
	  };

	  // Add a "chain" function. Start chaining a wrapped Underscore object.
	  _.chain = function(obj) {
	    var instance = _(obj);
	    instance._chain = true;
	    return instance;
	  };

	  // OOP
	  // ---------------
	  // If Underscore is called as a function, it returns a wrapped object that
	  // can be used OO-style. This wrapper holds altered versions of all the
	  // underscore functions. Wrapped objects may be chained.

	  // Helper function to continue chaining intermediate results.
	  var result = function(instance, obj) {
	    return instance._chain ? _(obj).chain() : obj;
	  };

	  // Add your own custom functions to the Underscore object.
	  _.mixin = function(obj) {
	    _.each(_.functions(obj), function(name) {
	      var func = _[name] = obj[name];
	      _.prototype[name] = function() {
	        var args = [this._wrapped];
	        push.apply(args, arguments);
	        return result(this, func.apply(_, args));
	      };
	    });
	  };

	  // Add all of the Underscore functions to the wrapper object.
	  _.mixin(_);

	  // Add all mutator Array functions to the wrapper.
	  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {
	    var method = ArrayProto[name];
	    _.prototype[name] = function() {
	      var obj = this._wrapped;
	      method.apply(obj, arguments);
	      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];
	      return result(this, obj);
	    };
	  });

	  // Add all accessor Array functions to the wrapper.
	  _.each(['concat', 'join', 'slice'], function(name) {
	    var method = ArrayProto[name];
	    _.prototype[name] = function() {
	      return result(this, method.apply(this._wrapped, arguments));
	    };
	  });

	  // Extracts the result from a wrapped and chained object.
	  _.prototype.value = function() {
	    return this._wrapped;
	  };

	  // Provide unwrapping proxy for some methods used in engine operations
	  // such as arithmetic and JSON stringification.
	  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;

	  _.prototype.toString = function() {
	    return '' + this._wrapped;
	  };

	  // AMD registration happens at the end for compatibility with AMD loaders
	  // that may not enforce next-turn semantics on modules. Even though general
	  // practice for AMD registration is to be anonymous, underscore registers
	  // as a named module because, like jQuery, it is a base library that is
	  // popular enough to be bundled in a third party lib, but not be part of
	  // an AMD load request. Those cases could generate an error when an
	  // anonymous define() is called outside of a loader request.
	  if (true) {
	    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {
	      return _;
	    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	  }
	}.call(this));


/***/ },
/* 3 */
/***/ function(module, exports) {

	module.exports = __WEBPACK_EXTERNAL_MODULE_3__;

/***/ },
/* 4 */
/***/ function(module, exports) {

	module.exports = __WEBPACK_EXTERNAL_MODULE_4__;

/***/ },
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	// super simple module for the most common nodejs use case.
	exports.markdown = __webpack_require__(6);
	exports.parse = exports.markdown.toHTML;


/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	// Released under MIT license
	// Copyright (c) 2009-2010 Dominic Baggott
	// Copyright (c) 2009-2010 Ash Berlin
	// Copyright (c) 2011 Christoph Dorn <christoph@christophdorn.com> (http://www.christophdorn.com)

	/*jshint browser:true, devel:true */

	(function( expose ) {

	/**
	 *  class Markdown
	 *
	 *  Markdown processing in Javascript done right. We have very particular views
	 *  on what constitutes 'right' which include:
	 *
	 *  - produces well-formed HTML (this means that em and strong nesting is
	 *    important)
	 *
	 *  - has an intermediate representation to allow processing of parsed data (We
	 *    in fact have two, both as [JsonML]: a markdown tree and an HTML tree).
	 *
	 *  - is easily extensible to add new dialects without having to rewrite the
	 *    entire parsing mechanics
	 *
	 *  - has a good test suite
	 *
	 *  This implementation fulfills all of these (except that the test suite could
	 *  do with expanding to automatically run all the fixtures from other Markdown
	 *  implementations.)
	 *
	 *  ##### Intermediate Representation
	 *
	 *  *TODO* Talk about this :) Its JsonML, but document the node names we use.
	 *
	 *  [JsonML]: http://jsonml.org/ "JSON Markup Language"
	 **/
	var Markdown = expose.Markdown = function(dialect) {
	  switch (typeof dialect) {
	    case "undefined":
	      this.dialect = Markdown.dialects.Gruber;
	      break;
	    case "object":
	      this.dialect = dialect;
	      break;
	    default:
	      if ( dialect in Markdown.dialects ) {
	        this.dialect = Markdown.dialects[dialect];
	      }
	      else {
	        throw new Error("Unknown Markdown dialect '" + String(dialect) + "'");
	      }
	      break;
	  }
	  this.em_state = [];
	  this.strong_state = [];
	  this.debug_indent = "";
	};

	/**
	 *  parse( markdown, [dialect] ) -> JsonML
	 *  - markdown (String): markdown string to parse
	 *  - dialect (String | Dialect): the dialect to use, defaults to gruber
	 *
	 *  Parse `markdown` and return a markdown document as a Markdown.JsonML tree.
	 **/
	expose.parse = function( source, dialect ) {
	  // dialect will default if undefined
	  var md = new Markdown( dialect );
	  return md.toTree( source );
	};

	/**
	 *  toHTML( markdown, [dialect]  ) -> String
	 *  toHTML( md_tree ) -> String
	 *  - markdown (String): markdown string to parse
	 *  - md_tree (Markdown.JsonML): parsed markdown tree
	 *
	 *  Take markdown (either as a string or as a JsonML tree) and run it through
	 *  [[toHTMLTree]] then turn it into a well-formated HTML fragment.
	 **/
	expose.toHTML = function toHTML( source , dialect , options ) {
	  var input = expose.toHTMLTree( source , dialect , options );

	  return expose.renderJsonML( input );
	};

	/**
	 *  toHTMLTree( markdown, [dialect] ) -> JsonML
	 *  toHTMLTree( md_tree ) -> JsonML
	 *  - markdown (String): markdown string to parse
	 *  - dialect (String | Dialect): the dialect to use, defaults to gruber
	 *  - md_tree (Markdown.JsonML): parsed markdown tree
	 *
	 *  Turn markdown into HTML, represented as a JsonML tree. If a string is given
	 *  to this function, it is first parsed into a markdown tree by calling
	 *  [[parse]].
	 **/
	expose.toHTMLTree = function toHTMLTree( input, dialect , options ) {
	  // convert string input to an MD tree
	  if ( typeof input ==="string" ) input = this.parse( input, dialect );

	  // Now convert the MD tree to an HTML tree

	  // remove references from the tree
	  var attrs = extract_attr( input ),
	      refs = {};

	  if ( attrs && attrs.references ) {
	    refs = attrs.references;
	  }

	  var html = convert_tree_to_html( input, refs , options );
	  merge_text_nodes( html );
	  return html;
	};

	// For Spidermonkey based engines
	function mk_block_toSource() {
	  return "Markdown.mk_block( " +
	          uneval(this.toString()) +
	          ", " +
	          uneval(this.trailing) +
	          ", " +
	          uneval(this.lineNumber) +
	          " )";
	}

	// node
	function mk_block_inspect() {
	  var util = __webpack_require__(7);
	  return "Markdown.mk_block( " +
	          util.inspect(this.toString()) +
	          ", " +
	          util.inspect(this.trailing) +
	          ", " +
	          util.inspect(this.lineNumber) +
	          " )";

	}

	var mk_block = Markdown.mk_block = function(block, trail, line) {
	  // Be helpful for default case in tests.
	  if ( arguments.length == 1 ) trail = "\n\n";

	  var s = new String(block);
	  s.trailing = trail;
	  // To make it clear its not just a string
	  s.inspect = mk_block_inspect;
	  s.toSource = mk_block_toSource;

	  if ( line != undefined )
	    s.lineNumber = line;

	  return s;
	};

	function count_lines( str ) {
	  var n = 0, i = -1;
	  while ( ( i = str.indexOf("\n", i + 1) ) !== -1 ) n++;
	  return n;
	}

	// Internal - split source into rough blocks
	Markdown.prototype.split_blocks = function splitBlocks( input, startLine ) {
	  input = input.replace(/(\r\n|\n|\r)/g, "\n");
	  // [\s\S] matches _anything_ (newline or space)
	  // [^] is equivalent but doesn't work in IEs.
	  var re = /([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,
	      blocks = [],
	      m;

	  var line_no = 1;

	  if ( ( m = /^(\s*\n)/.exec(input) ) != null ) {
	    // skip (but count) leading blank lines
	    line_no += count_lines( m[0] );
	    re.lastIndex = m[0].length;
	  }

	  while ( ( m = re.exec(input) ) !== null ) {
	    if (m[2] == "\n#") {
	      m[2] = "\n";
	      re.lastIndex--;
	    }
	    blocks.push( mk_block( m[1], m[2], line_no ) );
	    line_no += count_lines( m[0] );
	  }

	  return blocks;
	};

	/**
	 *  Markdown#processBlock( block, next ) -> undefined | [ JsonML, ... ]
	 *  - block (String): the block to process
	 *  - next (Array): the following blocks
	 *
	 * Process `block` and return an array of JsonML nodes representing `block`.
	 *
	 * It does this by asking each block level function in the dialect to process
	 * the block until one can. Succesful handling is indicated by returning an
	 * array (with zero or more JsonML nodes), failure by a false value.
	 *
	 * Blocks handlers are responsible for calling [[Markdown#processInline]]
	 * themselves as appropriate.
	 *
	 * If the blocks were split incorrectly or adjacent blocks need collapsing you
	 * can adjust `next` in place using shift/splice etc.
	 *
	 * If any of this default behaviour is not right for the dialect, you can
	 * define a `__call__` method on the dialect that will get invoked to handle
	 * the block processing.
	 */
	Markdown.prototype.processBlock = function processBlock( block, next ) {
	  var cbs = this.dialect.block,
	      ord = cbs.__order__;

	  if ( "__call__" in cbs ) {
	    return cbs.__call__.call(this, block, next);
	  }

	  for ( var i = 0; i < ord.length; i++ ) {
	    //D:this.debug( "Testing", ord[i] );
	    var res = cbs[ ord[i] ].call( this, block, next );
	    if ( res ) {
	      //D:this.debug("  matched");
	      if ( !isArray(res) || ( res.length > 0 && !( isArray(res[0]) ) ) )
	        this.debug(ord[i], "didn't return a proper array");
	      //D:this.debug( "" );
	      return res;
	    }
	  }

	  // Uhoh! no match! Should we throw an error?
	  return [];
	};

	Markdown.prototype.processInline = function processInline( block ) {
	  return this.dialect.inline.__call__.call( this, String( block ) );
	};

	/**
	 *  Markdown#toTree( source ) -> JsonML
	 *  - source (String): markdown source to parse
	 *
	 *  Parse `source` into a JsonML tree representing the markdown document.
	 **/
	// custom_tree means set this.tree to `custom_tree` and restore old value on return
	Markdown.prototype.toTree = function toTree( source, custom_root ) {
	  var blocks = source instanceof Array ? source : this.split_blocks( source );

	  // Make tree a member variable so its easier to mess with in extensions
	  var old_tree = this.tree;
	  try {
	    this.tree = custom_root || this.tree || [ "markdown" ];

	    blocks:
	    while ( blocks.length ) {
	      var b = this.processBlock( blocks.shift(), blocks );

	      // Reference blocks and the like won't return any content
	      if ( !b.length ) continue blocks;

	      this.tree.push.apply( this.tree, b );
	    }
	    return this.tree;
	  }
	  finally {
	    if ( custom_root ) {
	      this.tree = old_tree;
	    }
	  }
	};

	// Noop by default
	Markdown.prototype.debug = function () {
	  var args = Array.prototype.slice.call( arguments);
	  args.unshift(this.debug_indent);
	  if ( typeof print !== "undefined" )
	      print.apply( print, args );
	  if ( typeof console !== "undefined" && typeof console.log !== "undefined" )
	      console.log.apply( null, args );
	}

	Markdown.prototype.loop_re_over_block = function( re, block, cb ) {
	  // Dont use /g regexps with this
	  var m,
	      b = block.valueOf();

	  while ( b.length && (m = re.exec(b) ) != null ) {
	    b = b.substr( m[0].length );
	    cb.call(this, m);
	  }
	  return b;
	};

	/**
	 * Markdown.dialects
	 *
	 * Namespace of built-in dialects.
	 **/
	Markdown.dialects = {};

	/**
	 * Markdown.dialects.Gruber
	 *
	 * The default dialect that follows the rules set out by John Gruber's
	 * markdown.pl as closely as possible. Well actually we follow the behaviour of
	 * that script which in some places is not exactly what the syntax web page
	 * says.
	 **/
	Markdown.dialects.Gruber = {
	  block: {
	    atxHeader: function atxHeader( block, next ) {
	      var m = block.match( /^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/ );

	      if ( !m ) return undefined;

	      var header = [ "header", { level: m[ 1 ].length } ];
	      Array.prototype.push.apply(header, this.processInline(m[ 2 ]));

	      if ( m[0].length < block.length )
	        next.unshift( mk_block( block.substr( m[0].length ), block.trailing, block.lineNumber + 2 ) );

	      return [ header ];
	    },

	    setextHeader: function setextHeader( block, next ) {
	      var m = block.match( /^(.*)\n([-=])\2\2+(?:\n|$)/ );

	      if ( !m ) return undefined;

	      var level = ( m[ 2 ] === "=" ) ? 1 : 2;
	      var header = [ "header", { level : level }, m[ 1 ] ];

	      if ( m[0].length < block.length )
	        next.unshift( mk_block( block.substr( m[0].length ), block.trailing, block.lineNumber + 2 ) );

	      return [ header ];
	    },

	    code: function code( block, next ) {
	      // |    Foo
	      // |bar
	      // should be a code block followed by a paragraph. Fun
	      //
	      // There might also be adjacent code block to merge.

	      var ret = [],
	          re = /^(?: {0,3}\t| {4})(.*)\n?/,
	          lines;

	      // 4 spaces + content
	      if ( !block.match( re ) ) return undefined;

	      block_search:
	      do {
	        // Now pull out the rest of the lines
	        var b = this.loop_re_over_block(
	                  re, block.valueOf(), function( m ) { ret.push( m[1] ); } );

	        if ( b.length ) {
	          // Case alluded to in first comment. push it back on as a new block
	          next.unshift( mk_block(b, block.trailing) );
	          break block_search;
	        }
	        else if ( next.length ) {
	          // Check the next block - it might be code too
	          if ( !next[0].match( re ) ) break block_search;

	          // Pull how how many blanks lines follow - minus two to account for .join
	          ret.push ( block.trailing.replace(/[^\n]/g, "").substring(2) );

	          block = next.shift();
	        }
	        else {
	          break block_search;
	        }
	      } while ( true );

	      return [ [ "code_block", ret.join("\n") ] ];
	    },

	    horizRule: function horizRule( block, next ) {
	      // this needs to find any hr in the block to handle abutting blocks
	      var m = block.match( /^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/ );

	      if ( !m ) {
	        return undefined;
	      }

	      var jsonml = [ [ "hr" ] ];

	      // if there's a leading abutting block, process it
	      if ( m[ 1 ] ) {
	        jsonml.unshift.apply( jsonml, this.processBlock( m[ 1 ], [] ) );
	      }

	      // if there's a trailing abutting block, stick it into next
	      if ( m[ 3 ] ) {
	        next.unshift( mk_block( m[ 3 ] ) );
	      }

	      return jsonml;
	    },

	    // There are two types of lists. Tight and loose. Tight lists have no whitespace
	    // between the items (and result in text just in the <li>) and loose lists,
	    // which have an empty line between list items, resulting in (one or more)
	    // paragraphs inside the <li>.
	    //
	    // There are all sorts weird edge cases about the original markdown.pl's
	    // handling of lists:
	    //
	    // * Nested lists are supposed to be indented by four chars per level. But
	    //   if they aren't, you can get a nested list by indenting by less than
	    //   four so long as the indent doesn't match an indent of an existing list
	    //   item in the 'nest stack'.
	    //
	    // * The type of the list (bullet or number) is controlled just by the
	    //    first item at the indent. Subsequent changes are ignored unless they
	    //    are for nested lists
	    //
	    lists: (function( ) {
	      // Use a closure to hide a few variables.
	      var any_list = "[*+-]|\\d+\\.",
	          bullet_list = /[*+-]/,
	          number_list = /\d+\./,
	          // Capture leading indent as it matters for determining nested lists.
	          is_list_re = new RegExp( "^( {0,3})(" + any_list + ")[ \t]+" ),
	          indent_re = "(?: {0,3}\\t| {4})";

	      // TODO: Cache this regexp for certain depths.
	      // Create a regexp suitable for matching an li for a given stack depth
	      function regex_for_depth( depth ) {

	        return new RegExp(
	          // m[1] = indent, m[2] = list_type
	          "(?:^(" + indent_re + "{0," + depth + "} {0,3})(" + any_list + ")\\s+)|" +
	          // m[3] = cont
	          "(^" + indent_re + "{0," + (depth-1) + "}[ ]{0,4})"
	        );
	      }
	      function expand_tab( input ) {
	        return input.replace( / {0,3}\t/g, "    " );
	      }

	      // Add inline content `inline` to `li`. inline comes from processInline
	      // so is an array of content
	      function add(li, loose, inline, nl) {
	        if ( loose ) {
	          li.push( [ "para" ].concat(inline) );
	          return;
	        }
	        // Hmmm, should this be any block level element or just paras?
	        var add_to = li[li.length -1] instanceof Array && li[li.length - 1][0] == "para"
	                   ? li[li.length -1]
	                   : li;

	        // If there is already some content in this list, add the new line in
	        if ( nl && li.length > 1 ) inline.unshift(nl);

	        for ( var i = 0; i < inline.length; i++ ) {
	          var what = inline[i],
	              is_str = typeof what == "string";
	          if ( is_str && add_to.length > 1 && typeof add_to[add_to.length-1] == "string" ) {
	            add_to[ add_to.length-1 ] += what;
	          }
	          else {
	            add_to.push( what );
	          }
	        }
	      }

	      // contained means have an indent greater than the current one. On
	      // *every* line in the block
	      function get_contained_blocks( depth, blocks ) {

	        var re = new RegExp( "^(" + indent_re + "{" + depth + "}.*?\\n?)*$" ),
	            replace = new RegExp("^" + indent_re + "{" + depth + "}", "gm"),
	            ret = [];

	        while ( blocks.length > 0 ) {
	          if ( re.exec( blocks[0] ) ) {
	            var b = blocks.shift(),
	                // Now remove that indent
	                x = b.replace( replace, "");

	            ret.push( mk_block( x, b.trailing, b.lineNumber ) );
	          }
	          else {
	            break;
	          }
	        }
	        return ret;
	      }

	      // passed to stack.forEach to turn list items up the stack into paras
	      function paragraphify(s, i, stack) {
	        var list = s.list;
	        var last_li = list[list.length-1];

	        if ( last_li[1] instanceof Array && last_li[1][0] == "para" ) {
	          return;
	        }
	        if ( i + 1 == stack.length ) {
	          // Last stack frame
	          // Keep the same array, but replace the contents
	          last_li.push( ["para"].concat( last_li.splice(1, last_li.length - 1) ) );
	        }
	        else {
	          var sublist = last_li.pop();
	          last_li.push( ["para"].concat( last_li.splice(1, last_li.length - 1) ), sublist );
	        }
	      }

	      // The matcher function
	      return function( block, next ) {
	        var m = block.match( is_list_re );
	        if ( !m ) return undefined;

	        function make_list( m ) {
	          var list = bullet_list.exec( m[2] )
	                   ? ["bulletlist"]
	                   : ["numberlist"];

	          stack.push( { list: list, indent: m[1] } );
	          return list;
	        }


	        var stack = [], // Stack of lists for nesting.
	            list = make_list( m ),
	            last_li,
	            loose = false,
	            ret = [ stack[0].list ],
	            i;

	        // Loop to search over block looking for inner block elements and loose lists
	        loose_search:
	        while ( true ) {
	          // Split into lines preserving new lines at end of line
	          var lines = block.split( /(?=\n)/ );

	          // We have to grab all lines for a li and call processInline on them
	          // once as there are some inline things that can span lines.
	          var li_accumulate = "";

	          // Loop over the lines in this block looking for tight lists.
	          tight_search:
	          for ( var line_no = 0; line_no < lines.length; line_no++ ) {
	            var nl = "",
	                l = lines[line_no].replace(/^\n/, function(n) { nl = n; return ""; });

	            // TODO: really should cache this
	            var line_re = regex_for_depth( stack.length );

	            m = l.match( line_re );
	            //print( "line:", uneval(l), "\nline match:", uneval(m) );

	            // We have a list item
	            if ( m[1] !== undefined ) {
	              // Process the previous list item, if any
	              if ( li_accumulate.length ) {
	                add( last_li, loose, this.processInline( li_accumulate ), nl );
	                // Loose mode will have been dealt with. Reset it
	                loose = false;
	                li_accumulate = "";
	              }

	              m[1] = expand_tab( m[1] );
	              var wanted_depth = Math.floor(m[1].length/4)+1;
	              //print( "want:", wanted_depth, "stack:", stack.length);
	              if ( wanted_depth > stack.length ) {
	                // Deep enough for a nested list outright
	                //print ( "new nested list" );
	                list = make_list( m );
	                last_li.push( list );
	                last_li = list[1] = [ "listitem" ];
	              }
	              else {
	                // We aren't deep enough to be strictly a new level. This is
	                // where Md.pl goes nuts. If the indent matches a level in the
	                // stack, put it there, else put it one deeper then the
	                // wanted_depth deserves.
	                var found = false;
	                for ( i = 0; i < stack.length; i++ ) {
	                  if ( stack[ i ].indent != m[1] ) continue;
	                  list = stack[ i ].list;
	                  stack.splice( i+1, stack.length - (i+1) );
	                  found = true;
	                  break;
	                }

	                if (!found) {
	                  //print("not found. l:", uneval(l));
	                  wanted_depth++;
	                  if ( wanted_depth <= stack.length ) {
	                    stack.splice(wanted_depth, stack.length - wanted_depth);
	                    //print("Desired depth now", wanted_depth, "stack:", stack.length);
	                    list = stack[wanted_depth-1].list;
	                    //print("list:", uneval(list) );
	                  }
	                  else {
	                    //print ("made new stack for messy indent");
	                    list = make_list(m);
	                    last_li.push(list);
	                  }
	                }

	                //print( uneval(list), "last", list === stack[stack.length-1].list );
	                last_li = [ "listitem" ];
	                list.push(last_li);
	              } // end depth of shenegains
	              nl = "";
	            }

	            // Add content
	            if ( l.length > m[0].length ) {
	              li_accumulate += nl + l.substr( m[0].length );
	            }
	          } // tight_search

	          if ( li_accumulate.length ) {
	            add( last_li, loose, this.processInline( li_accumulate ), nl );
	            // Loose mode will have been dealt with. Reset it
	            loose = false;
	            li_accumulate = "";
	          }

	          // Look at the next block - we might have a loose list. Or an extra
	          // paragraph for the current li
	          var contained = get_contained_blocks( stack.length, next );

	          // Deal with code blocks or properly nested lists
	          if ( contained.length > 0 ) {
	            // Make sure all listitems up the stack are paragraphs
	            forEach( stack, paragraphify, this);

	            last_li.push.apply( last_li, this.toTree( contained, [] ) );
	          }

	          var next_block = next[0] && next[0].valueOf() || "";

	          if ( next_block.match(is_list_re) || next_block.match( /^ / ) ) {
	            block = next.shift();

	            // Check for an HR following a list: features/lists/hr_abutting
	            var hr = this.dialect.block.horizRule( block, next );

	            if ( hr ) {
	              ret.push.apply(ret, hr);
	              break;
	            }

	            // Make sure all listitems up the stack are paragraphs
	            forEach( stack, paragraphify, this);

	            loose = true;
	            continue loose_search;
	          }
	          break;
	        } // loose_search

	        return ret;
	      };
	    })(),

	    blockquote: function blockquote( block, next ) {
	      if ( !block.match( /^>/m ) )
	        return undefined;

	      var jsonml = [];

	      // separate out the leading abutting block, if any. I.e. in this case:
	      //
	      //  a
	      //  > b
	      //
	      if ( block[ 0 ] != ">" ) {
	        var lines = block.split( /\n/ ),
	            prev = [],
	            line_no = block.lineNumber;

	        // keep shifting lines until you find a crotchet
	        while ( lines.length && lines[ 0 ][ 0 ] != ">" ) {
	            prev.push( lines.shift() );
	            line_no++;
	        }

	        var abutting = mk_block( prev.join( "\n" ), "\n", block.lineNumber );
	        jsonml.push.apply( jsonml, this.processBlock( abutting, [] ) );
	        // reassemble new block of just block quotes!
	        block = mk_block( lines.join( "\n" ), block.trailing, line_no );
	      }


	      // if the next block is also a blockquote merge it in
	      while ( next.length && next[ 0 ][ 0 ] == ">" ) {
	        var b = next.shift();
	        block = mk_block( block + block.trailing + b, b.trailing, block.lineNumber );
	      }

	      // Strip off the leading "> " and re-process as a block.
	      var input = block.replace( /^> ?/gm, "" ),
	          old_tree = this.tree,
	          processedBlock = this.toTree( input, [ "blockquote" ] ),
	          attr = extract_attr( processedBlock );

	      // If any link references were found get rid of them
	      if ( attr && attr.references ) {
	        delete attr.references;
	        // And then remove the attribute object if it's empty
	        if ( isEmpty( attr ) ) {
	          processedBlock.splice( 1, 1 );
	        }
	      }

	      jsonml.push( processedBlock );
	      return jsonml;
	    },

	    referenceDefn: function referenceDefn( block, next) {
	      var re = /^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;
	      // interesting matches are [ , ref_id, url, , title, title ]

	      if ( !block.match(re) )
	        return undefined;

	      // make an attribute node if it doesn't exist
	      if ( !extract_attr( this.tree ) ) {
	        this.tree.splice( 1, 0, {} );
	      }

	      var attrs = extract_attr( this.tree );

	      // make a references hash if it doesn't exist
	      if ( attrs.references === undefined ) {
	        attrs.references = {};
	      }

	      var b = this.loop_re_over_block(re, block, function( m ) {

	        if ( m[2] && m[2][0] == "<" && m[2][m[2].length-1] == ">" )
	          m[2] = m[2].substring( 1, m[2].length - 1 );

	        var ref = attrs.references[ m[1].toLowerCase() ] = {
	          href: m[2]
	        };

	        if ( m[4] !== undefined )
	          ref.title = m[4];
	        else if ( m[5] !== undefined )
	          ref.title = m[5];

	      } );

	      if ( b.length )
	        next.unshift( mk_block( b, block.trailing ) );

	      return [];
	    },

	    para: function para( block, next ) {
	      // everything's a para!
	      return [ ["para"].concat( this.processInline( block ) ) ];
	    }
	  }
	};

	Markdown.dialects.Gruber.inline = {

	    __oneElement__: function oneElement( text, patterns_or_re, previous_nodes ) {
	      var m,
	          res,
	          lastIndex = 0;

	      patterns_or_re = patterns_or_re || this.dialect.inline.__patterns__;
	      var re = new RegExp( "([\\s\\S]*?)(" + (patterns_or_re.source || patterns_or_re) + ")" );

	      m = re.exec( text );
	      if (!m) {
	        // Just boring text
	        return [ text.length, text ];
	      }
	      else if ( m[1] ) {
	        // Some un-interesting text matched. Return that first
	        return [ m[1].length, m[1] ];
	      }

	      var res;
	      if ( m[2] in this.dialect.inline ) {
	        res = this.dialect.inline[ m[2] ].call(
	                  this,
	                  text.substr( m.index ), m, previous_nodes || [] );
	      }
	      // Default for now to make dev easier. just slurp special and output it.
	      res = res || [ m[2].length, m[2] ];
	      return res;
	    },

	    __call__: function inline( text, patterns ) {

	      var out = [],
	          res;

	      function add(x) {
	        //D:self.debug("  adding output", uneval(x));
	        if ( typeof x == "string" && typeof out[out.length-1] == "string" )
	          out[ out.length-1 ] += x;
	        else
	          out.push(x);
	      }

	      while ( text.length > 0 ) {
	        res = this.dialect.inline.__oneElement__.call(this, text, patterns, out );
	        text = text.substr( res.shift() );
	        forEach(res, add )
	      }

	      return out;
	    },

	    // These characters are intersting elsewhere, so have rules for them so that
	    // chunks of plain text blocks don't include them
	    "]": function () {},
	    "}": function () {},

	    __escape__ : /^\\[\\`\*_{}\[\]()#\+.!\-]/,

	    "\\": function escaped( text ) {
	      // [ length of input processed, node/children to add... ]
	      // Only esacape: \ ` * _ { } [ ] ( ) # * + - . !
	      if ( this.dialect.inline.__escape__.exec( text ) )
	        return [ 2, text.charAt( 1 ) ];
	      else
	        // Not an esacpe
	        return [ 1, "\\" ];
	    },

	    "![": function image( text ) {

	      // Unlike images, alt text is plain text only. no other elements are
	      // allowed in there

	      // ![Alt text](/path/to/img.jpg "Optional title")
	      //      1          2            3       4         <--- captures
	      var m = text.match( /^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/ );

	      if ( m ) {
	        if ( m[2] && m[2][0] == "<" && m[2][m[2].length-1] == ">" )
	          m[2] = m[2].substring( 1, m[2].length - 1 );

	        m[2] = this.dialect.inline.__call__.call( this, m[2], /\\/ )[0];

	        var attrs = { alt: m[1], href: m[2] || "" };
	        if ( m[4] !== undefined)
	          attrs.title = m[4];

	        return [ m[0].length, [ "img", attrs ] ];
	      }

	      // ![Alt text][id]
	      m = text.match( /^!\[(.*?)\][ \t]*\[(.*?)\]/ );

	      if ( m ) {
	        // We can't check if the reference is known here as it likely wont be
	        // found till after. Check it in md tree->hmtl tree conversion
	        return [ m[0].length, [ "img_ref", { alt: m[1], ref: m[2].toLowerCase(), original: m[0] } ] ];
	      }

	      // Just consume the '!['
	      return [ 2, "![" ];
	    },

	    "[": function link( text ) {

	      var orig = String(text);
	      // Inline content is possible inside `link text`
	      var res = Markdown.DialectHelpers.inline_until_char.call( this, text.substr(1), "]" );

	      // No closing ']' found. Just consume the [
	      if ( !res ) return [ 1, "[" ];

	      var consumed = 1 + res[ 0 ],
	          children = res[ 1 ],
	          link,
	          attrs;

	      // At this point the first [...] has been parsed. See what follows to find
	      // out which kind of link we are (reference or direct url)
	      text = text.substr( consumed );

	      // [link text](/path/to/img.jpg "Optional title")
	      //                 1            2       3         <--- captures
	      // This will capture up to the last paren in the block. We then pull
	      // back based on if there a matching ones in the url
	      //    ([here](/url/(test))
	      // The parens have to be balanced
	      var m = text.match( /^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/ );
	      if ( m ) {
	        var url = m[1];
	        consumed += m[0].length;

	        if ( url && url[0] == "<" && url[url.length-1] == ">" )
	          url = url.substring( 1, url.length - 1 );

	        // If there is a title we don't have to worry about parens in the url
	        if ( !m[3] ) {
	          var open_parens = 1; // One open that isn't in the capture
	          for ( var len = 0; len < url.length; len++ ) {
	            switch ( url[len] ) {
	            case "(":
	              open_parens++;
	              break;
	            case ")":
	              if ( --open_parens == 0) {
	                consumed -= url.length - len;
	                url = url.substring(0, len);
	              }
	              break;
	            }
	          }
	        }

	        // Process escapes only
	        url = this.dialect.inline.__call__.call( this, url, /\\/ )[0];

	        attrs = { href: url || "" };
	        if ( m[3] !== undefined)
	          attrs.title = m[3];

	        link = [ "link", attrs ].concat( children );
	        return [ consumed, link ];
	      }

	      // [Alt text][id]
	      // [Alt text] [id]
	      m = text.match( /^\s*\[(.*?)\]/ );

	      if ( m ) {

	        consumed += m[ 0 ].length;

	        // [links][] uses links as its reference
	        attrs = { ref: ( m[ 1 ] || String(children) ).toLowerCase(),  original: orig.substr( 0, consumed ) };

	        link = [ "link_ref", attrs ].concat( children );

	        // We can't check if the reference is known here as it likely wont be
	        // found till after. Check it in md tree->hmtl tree conversion.
	        // Store the original so that conversion can revert if the ref isn't found.
	        return [ consumed, link ];
	      }

	      // [id]
	      // Only if id is plain (no formatting.)
	      if ( children.length == 1 && typeof children[0] == "string" ) {

	        attrs = { ref: children[0].toLowerCase(),  original: orig.substr( 0, consumed ) };
	        link = [ "link_ref", attrs, children[0] ];
	        return [ consumed, link ];
	      }

	      // Just consume the "["
	      return [ 1, "[" ];
	    },


	    "<": function autoLink( text ) {
	      var m;

	      if ( ( m = text.match( /^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/ ) ) != null ) {
	        if ( m[3] ) {
	          return [ m[0].length, [ "link", { href: "mailto:" + m[3] }, m[3] ] ];

	        }
	        else if ( m[2] == "mailto" ) {
	          return [ m[0].length, [ "link", { href: m[1] }, m[1].substr("mailto:".length ) ] ];
	        }
	        else
	          return [ m[0].length, [ "link", { href: m[1] }, m[1] ] ];
	      }

	      return [ 1, "<" ];
	    },

	    "`": function inlineCode( text ) {
	      // Inline code block. as many backticks as you like to start it
	      // Always skip over the opening ticks.
	      var m = text.match( /(`+)(([\s\S]*?)\1)/ );

	      if ( m && m[2] )
	        return [ m[1].length + m[2].length, [ "inlinecode", m[3] ] ];
	      else {
	        // TODO: No matching end code found - warn!
	        return [ 1, "`" ];
	      }
	    },

	    "  \n": function lineBreak( text ) {
	      return [ 3, [ "linebreak" ] ];
	    }

	};

	// Meta Helper/generator method for em and strong handling
	function strong_em( tag, md ) {

	  var state_slot = tag + "_state",
	      other_slot = tag == "strong" ? "em_state" : "strong_state";

	  function CloseTag(len) {
	    this.len_after = len;
	    this.name = "close_" + md;
	  }

	  return function ( text, orig_match ) {

	    if ( this[state_slot][0] == md ) {
	      // Most recent em is of this type
	      //D:this.debug("closing", md);
	      this[state_slot].shift();

	      // "Consume" everything to go back to the recrusion in the else-block below
	      return[ text.length, new CloseTag(text.length-md.length) ];
	    }
	    else {
	      // Store a clone of the em/strong states
	      var other = this[other_slot].slice(),
	          state = this[state_slot].slice();

	      this[state_slot].unshift(md);

	      //D:this.debug_indent += "  ";

	      // Recurse
	      var res = this.processInline( text.substr( md.length ) );
	      //D:this.debug_indent = this.debug_indent.substr(2);

	      var last = res[res.length - 1];

	      //D:this.debug("processInline from", tag + ": ", uneval( res ) );

	      var check = this[state_slot].shift();
	      if ( last instanceof CloseTag ) {
	        res.pop();
	        // We matched! Huzzah.
	        var consumed = text.length - last.len_after;
	        return [ consumed, [ tag ].concat(res) ];
	      }
	      else {
	        // Restore the state of the other kind. We might have mistakenly closed it.
	        this[other_slot] = other;
	        this[state_slot] = state;

	        // We can't reuse the processed result as it could have wrong parsing contexts in it.
	        return [ md.length, md ];
	      }
	    }
	  }; // End returned function
	}

	Markdown.dialects.Gruber.inline["**"] = strong_em("strong", "**");
	Markdown.dialects.Gruber.inline["__"] = strong_em("strong", "__");
	Markdown.dialects.Gruber.inline["*"]  = strong_em("em", "*");
	Markdown.dialects.Gruber.inline["_"]  = strong_em("em", "_");


	// Build default order from insertion order.
	Markdown.buildBlockOrder = function(d) {
	  var ord = [];
	  for ( var i in d ) {
	    if ( i == "__order__" || i == "__call__" ) continue;
	    ord.push( i );
	  }
	  d.__order__ = ord;
	};

	// Build patterns for inline matcher
	Markdown.buildInlinePatterns = function(d) {
	  var patterns = [];

	  for ( var i in d ) {
	    // __foo__ is reserved and not a pattern
	    if ( i.match( /^__.*__$/) ) continue;
	    var l = i.replace( /([\\.*+?|()\[\]{}])/g, "\\$1" )
	             .replace( /\n/, "\\n" );
	    patterns.push( i.length == 1 ? l : "(?:" + l + ")" );
	  }

	  patterns = patterns.join("|");
	  d.__patterns__ = patterns;
	  //print("patterns:", uneval( patterns ) );

	  var fn = d.__call__;
	  d.__call__ = function(text, pattern) {
	    if ( pattern != undefined ) {
	      return fn.call(this, text, pattern);
	    }
	    else
	    {
	      return fn.call(this, text, patterns);
	    }
	  };
	};

	Markdown.DialectHelpers = {};
	Markdown.DialectHelpers.inline_until_char = function( text, want ) {
	  var consumed = 0,
	      nodes = [];

	  while ( true ) {
	    if ( text.charAt( consumed ) == want ) {
	      // Found the character we were looking for
	      consumed++;
	      return [ consumed, nodes ];
	    }

	    if ( consumed >= text.length ) {
	      // No closing char found. Abort.
	      return null;
	    }

	    var res = this.dialect.inline.__oneElement__.call(this, text.substr( consumed ) );
	    consumed += res[ 0 ];
	    // Add any returned nodes.
	    nodes.push.apply( nodes, res.slice( 1 ) );
	  }
	}

	// Helper function to make sub-classing a dialect easier
	Markdown.subclassDialect = function( d ) {
	  function Block() {}
	  Block.prototype = d.block;
	  function Inline() {}
	  Inline.prototype = d.inline;

	  return { block: new Block(), inline: new Inline() };
	};

	Markdown.buildBlockOrder ( Markdown.dialects.Gruber.block );
	Markdown.buildInlinePatterns( Markdown.dialects.Gruber.inline );

	Markdown.dialects.Maruku = Markdown.subclassDialect( Markdown.dialects.Gruber );

	Markdown.dialects.Maruku.processMetaHash = function processMetaHash( meta_string ) {
	  var meta = split_meta_hash( meta_string ),
	      attr = {};

	  for ( var i = 0; i < meta.length; ++i ) {
	    // id: #foo
	    if ( /^#/.test( meta[ i ] ) ) {
	      attr.id = meta[ i ].substring( 1 );
	    }
	    // class: .foo
	    else if ( /^\./.test( meta[ i ] ) ) {
	      // if class already exists, append the new one
	      if ( attr["class"] ) {
	        attr["class"] = attr["class"] + meta[ i ].replace( /./, " " );
	      }
	      else {
	        attr["class"] = meta[ i ].substring( 1 );
	      }
	    }
	    // attribute: foo=bar
	    else if ( /\=/.test( meta[ i ] ) ) {
	      var s = meta[ i ].split( /\=/ );
	      attr[ s[ 0 ] ] = s[ 1 ];
	    }
	  }

	  return attr;
	}

	function split_meta_hash( meta_string ) {
	  var meta = meta_string.split( "" ),
	      parts = [ "" ],
	      in_quotes = false;

	  while ( meta.length ) {
	    var letter = meta.shift();
	    switch ( letter ) {
	      case " " :
	        // if we're in a quoted section, keep it
	        if ( in_quotes ) {
	          parts[ parts.length - 1 ] += letter;
	        }
	        // otherwise make a new part
	        else {
	          parts.push( "" );
	        }
	        break;
	      case "'" :
	      case '"' :
	        // reverse the quotes and move straight on
	        in_quotes = !in_quotes;
	        break;
	      case "\\" :
	        // shift off the next letter to be used straight away.
	        // it was escaped so we'll keep it whatever it is
	        letter = meta.shift();
	      default :
	        parts[ parts.length - 1 ] += letter;
	        break;
	    }
	  }

	  return parts;
	}

	Markdown.dialects.Maruku.block.document_meta = function document_meta( block, next ) {
	  // we're only interested in the first block
	  if ( block.lineNumber > 1 ) return undefined;

	  // document_meta blocks consist of one or more lines of `Key: Value\n`
	  if ( ! block.match( /^(?:\w+:.*\n)*\w+:.*$/ ) ) return undefined;

	  // make an attribute node if it doesn't exist
	  if ( !extract_attr( this.tree ) ) {
	    this.tree.splice( 1, 0, {} );
	  }

	  var pairs = block.split( /\n/ );
	  for ( p in pairs ) {
	    var m = pairs[ p ].match( /(\w+):\s*(.*)$/ ),
	        key = m[ 1 ].toLowerCase(),
	        value = m[ 2 ];

	    this.tree[ 1 ][ key ] = value;
	  }

	  // document_meta produces no content!
	  return [];
	};

	Markdown.dialects.Maruku.block.block_meta = function block_meta( block, next ) {
	  // check if the last line of the block is an meta hash
	  var m = block.match( /(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/ );
	  if ( !m ) return undefined;

	  // process the meta hash
	  var attr = this.dialect.processMetaHash( m[ 2 ] );

	  var hash;

	  // if we matched ^ then we need to apply meta to the previous block
	  if ( m[ 1 ] === "" ) {
	    var node = this.tree[ this.tree.length - 1 ];
	    hash = extract_attr( node );

	    // if the node is a string (rather than JsonML), bail
	    if ( typeof node === "string" ) return undefined;

	    // create the attribute hash if it doesn't exist
	    if ( !hash ) {
	      hash = {};
	      node.splice( 1, 0, hash );
	    }

	    // add the attributes in
	    for ( a in attr ) {
	      hash[ a ] = attr[ a ];
	    }

	    // return nothing so the meta hash is removed
	    return [];
	  }

	  // pull the meta hash off the block and process what's left
	  var b = block.replace( /\n.*$/, "" ),
	      result = this.processBlock( b, [] );

	  // get or make the attributes hash
	  hash = extract_attr( result[ 0 ] );
	  if ( !hash ) {
	    hash = {};
	    result[ 0 ].splice( 1, 0, hash );
	  }

	  // attach the attributes to the block
	  for ( a in attr ) {
	    hash[ a ] = attr[ a ];
	  }

	  return result;
	};

	Markdown.dialects.Maruku.block.definition_list = function definition_list( block, next ) {
	  // one or more terms followed by one or more definitions, in a single block
	  var tight = /^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,
	      list = [ "dl" ],
	      i, m;

	  // see if we're dealing with a tight or loose block
	  if ( ( m = block.match( tight ) ) ) {
	    // pull subsequent tight DL blocks out of `next`
	    var blocks = [ block ];
	    while ( next.length && tight.exec( next[ 0 ] ) ) {
	      blocks.push( next.shift() );
	    }

	    for ( var b = 0; b < blocks.length; ++b ) {
	      var m = blocks[ b ].match( tight ),
	          terms = m[ 1 ].replace( /\n$/, "" ).split( /\n/ ),
	          defns = m[ 2 ].split( /\n:\s+/ );

	      // print( uneval( m ) );

	      for ( i = 0; i < terms.length; ++i ) {
	        list.push( [ "dt", terms[ i ] ] );
	      }

	      for ( i = 0; i < defns.length; ++i ) {
	        // run inline processing over the definition
	        list.push( [ "dd" ].concat( this.processInline( defns[ i ].replace( /(\n)\s+/, "$1" ) ) ) );
	      }
	    }
	  }
	  else {
	    return undefined;
	  }

	  return [ list ];
	};

	// splits on unescaped instances of @ch. If @ch is not a character the result
	// can be unpredictable

	Markdown.dialects.Maruku.block.table = function table (block, next) {

	    var _split_on_unescaped = function(s, ch) {
	        ch = ch || '\\s';
	        if (ch.match(/^[\\|\[\]{}?*.+^$]$/)) { ch = '\\' + ch; }
	        var res = [ ],
	            r = new RegExp('^((?:\\\\.|[^\\\\' + ch + '])*)' + ch + '(.*)'),
	            m;
	        while(m = s.match(r)) {
	            res.push(m[1]);
	            s = m[2];
	        }
	        res.push(s);
	        return res;
	    }

	    var leading_pipe = /^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,
	        // find at least an unescaped pipe in each line
	        no_leading_pipe = /^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/,
	        i, m;
	    if (m = block.match(leading_pipe)) {
	        // remove leading pipes in contents
	        // (header and horizontal rule already have the leading pipe left out)
	        m[3] = m[3].replace(/^\s*\|/gm, '');
	    } else if (! ( m = block.match(no_leading_pipe))) {
	        return undefined;
	    }

	    var table = [ "table", [ "thead", [ "tr" ] ], [ "tbody" ] ];

	    // remove trailing pipes, then split on pipes
	    // (no escaped pipes are allowed in horizontal rule)
	    m[2] = m[2].replace(/\|\s*$/, '').split('|');

	    // process alignment
	    var html_attrs = [ ];
	    forEach (m[2], function (s) {
	        if (s.match(/^\s*-+:\s*$/))       html_attrs.push({align: "right"});
	        else if (s.match(/^\s*:-+\s*$/))  html_attrs.push({align: "left"});
	        else if (s.match(/^\s*:-+:\s*$/)) html_attrs.push({align: "center"});
	        else                              html_attrs.push({});
	    });

	    // now for the header, avoid escaped pipes
	    m[1] = _split_on_unescaped(m[1].replace(/\|\s*$/, ''), '|');
	    for (i = 0; i < m[1].length; i++) {
	        table[1][1].push(['th', html_attrs[i] || {}].concat(
	            this.processInline(m[1][i].trim())));
	    }

	    // now for body contents
	    forEach (m[3].replace(/\|\s*$/mg, '').split('\n'), function (row) {
	        var html_row = ['tr'];
	        row = _split_on_unescaped(row, '|');
	        for (i = 0; i < row.length; i++) {
	            html_row.push(['td', html_attrs[i] || {}].concat(this.processInline(row[i].trim())));
	        }
	        table[2].push(html_row);
	    }, this);

	    return [table];
	}

	Markdown.dialects.Maruku.inline[ "{:" ] = function inline_meta( text, matches, out ) {
	  if ( !out.length ) {
	    return [ 2, "{:" ];
	  }

	  // get the preceeding element
	  var before = out[ out.length - 1 ];

	  if ( typeof before === "string" ) {
	    return [ 2, "{:" ];
	  }

	  // match a meta hash
	  var m = text.match( /^\{:\s*((?:\\\}|[^\}])*)\s*\}/ );

	  // no match, false alarm
	  if ( !m ) {
	    return [ 2, "{:" ];
	  }

	  // attach the attributes to the preceeding element
	  var meta = this.dialect.processMetaHash( m[ 1 ] ),
	      attr = extract_attr( before );

	  if ( !attr ) {
	    attr = {};
	    before.splice( 1, 0, attr );
	  }

	  for ( var k in meta ) {
	    attr[ k ] = meta[ k ];
	  }

	  // cut out the string and replace it with nothing
	  return [ m[ 0 ].length, "" ];
	};

	Markdown.dialects.Maruku.inline.__escape__ = /^\\[\\`\*_{}\[\]()#\+.!\-|:]/;

	Markdown.buildBlockOrder ( Markdown.dialects.Maruku.block );
	Markdown.buildInlinePatterns( Markdown.dialects.Maruku.inline );

	var isArray = Array.isArray || function(obj) {
	  return Object.prototype.toString.call(obj) == "[object Array]";
	};

	var forEach;
	// Don't mess with Array.prototype. Its not friendly
	if ( Array.prototype.forEach ) {
	  forEach = function( arr, cb, thisp ) {
	    return arr.forEach( cb, thisp );
	  };
	}
	else {
	  forEach = function(arr, cb, thisp) {
	    for (var i = 0; i < arr.length; i++) {
	      cb.call(thisp || arr, arr[i], i, arr);
	    }
	  }
	}

	var isEmpty = function( obj ) {
	  for ( var key in obj ) {
	    if ( hasOwnProperty.call( obj, key ) ) {
	      return false;
	    }
	  }

	  return true;
	}

	function extract_attr( jsonml ) {
	  return isArray(jsonml)
	      && jsonml.length > 1
	      && typeof jsonml[ 1 ] === "object"
	      && !( isArray(jsonml[ 1 ]) )
	      ? jsonml[ 1 ]
	      : undefined;
	}



	/**
	 *  renderJsonML( jsonml[, options] ) -> String
	 *  - jsonml (Array): JsonML array to render to XML
	 *  - options (Object): options
	 *
	 *  Converts the given JsonML into well-formed XML.
	 *
	 *  The options currently understood are:
	 *
	 *  - root (Boolean): wether or not the root node should be included in the
	 *    output, or just its children. The default `false` is to not include the
	 *    root itself.
	 */
	expose.renderJsonML = function( jsonml, options ) {
	  options = options || {};
	  // include the root element in the rendered output?
	  options.root = options.root || false;

	  var content = [];

	  if ( options.root ) {
	    content.push( render_tree( jsonml ) );
	  }
	  else {
	    jsonml.shift(); // get rid of the tag
	    if ( jsonml.length && typeof jsonml[ 0 ] === "object" && !( jsonml[ 0 ] instanceof Array ) ) {
	      jsonml.shift(); // get rid of the attributes
	    }

	    while ( jsonml.length ) {
	      content.push( render_tree( jsonml.shift() ) );
	    }
	  }

	  return content.join( "\n\n" );
	};

	function escapeHTML( text ) {
	  return text.replace( /&/g, "&amp;" )
	             .replace( /</g, "&lt;" )
	             .replace( />/g, "&gt;" )
	             .replace( /"/g, "&quot;" )
	             .replace( /'/g, "&#39;" );
	}

	function render_tree( jsonml ) {
	  // basic case
	  if ( typeof jsonml === "string" ) {
	    return escapeHTML( jsonml );
	  }

	  var tag = jsonml.shift(),
	      attributes = {},
	      content = [];

	  if ( jsonml.length && typeof jsonml[ 0 ] === "object" && !( jsonml[ 0 ] instanceof Array ) ) {
	    attributes = jsonml.shift();
	  }

	  while ( jsonml.length ) {
	    content.push( render_tree( jsonml.shift() ) );
	  }

	  var tag_attrs = "";
	  for ( var a in attributes ) {
	    tag_attrs += " " + a + '="' + escapeHTML( attributes[ a ] ) + '"';
	  }

	  // be careful about adding whitespace here for inline elements
	  if ( tag == "img" || tag == "br" || tag == "hr" ) {
	    return "<"+ tag + tag_attrs + "/>";
	  }
	  else {
	    return "<"+ tag + tag_attrs + ">" + content.join( "" ) + "</" + tag + ">";
	  }
	}

	function convert_tree_to_html( tree, references, options ) {
	  var i;
	  options = options || {};

	  // shallow clone
	  var jsonml = tree.slice( 0 );

	  if ( typeof options.preprocessTreeNode === "function" ) {
	      jsonml = options.preprocessTreeNode(jsonml, references);
	  }

	  // Clone attributes if they exist
	  var attrs = extract_attr( jsonml );
	  if ( attrs ) {
	    jsonml[ 1 ] = {};
	    for ( i in attrs ) {
	      jsonml[ 1 ][ i ] = attrs[ i ];
	    }
	    attrs = jsonml[ 1 ];
	  }

	  // basic case
	  if ( typeof jsonml === "string" ) {
	    return jsonml;
	  }

	  // convert this node
	  switch ( jsonml[ 0 ] ) {
	    case "header":
	      jsonml[ 0 ] = "h" + jsonml[ 1 ].level;
	      delete jsonml[ 1 ].level;
	      break;
	    case "bulletlist":
	      jsonml[ 0 ] = "ul";
	      break;
	    case "numberlist":
	      jsonml[ 0 ] = "ol";
	      break;
	    case "listitem":
	      jsonml[ 0 ] = "li";
	      break;
	    case "para":
	      jsonml[ 0 ] = "p";
	      break;
	    case "markdown":
	      jsonml[ 0 ] = "html";
	      if ( attrs ) delete attrs.references;
	      break;
	    case "code_block":
	      jsonml[ 0 ] = "pre";
	      i = attrs ? 2 : 1;
	      var code = [ "code" ];
	      code.push.apply( code, jsonml.splice( i, jsonml.length - i ) );
	      jsonml[ i ] = code;
	      break;
	    case "inlinecode":
	      jsonml[ 0 ] = "code";
	      break;
	    case "img":
	      jsonml[ 1 ].src = jsonml[ 1 ].href;
	      delete jsonml[ 1 ].href;
	      break;
	    case "linebreak":
	      jsonml[ 0 ] = "br";
	    break;
	    case "link":
	      jsonml[ 0 ] = "a";
	      break;
	    case "link_ref":
	      jsonml[ 0 ] = "a";

	      // grab this ref and clean up the attribute node
	      var ref = references[ attrs.ref ];

	      // if the reference exists, make the link
	      if ( ref ) {
	        delete attrs.ref;

	        // add in the href and title, if present
	        attrs.href = ref.href;
	        if ( ref.title ) {
	          attrs.title = ref.title;
	        }

	        // get rid of the unneeded original text
	        delete attrs.original;
	      }
	      // the reference doesn't exist, so revert to plain text
	      else {
	        return attrs.original;
	      }
	      break;
	    case "img_ref":
	      jsonml[ 0 ] = "img";

	      // grab this ref and clean up the attribute node
	      var ref = references[ attrs.ref ];

	      // if the reference exists, make the link
	      if ( ref ) {
	        delete attrs.ref;

	        // add in the href and title, if present
	        attrs.src = ref.href;
	        if ( ref.title ) {
	          attrs.title = ref.title;
	        }

	        // get rid of the unneeded original text
	        delete attrs.original;
	      }
	      // the reference doesn't exist, so revert to plain text
	      else {
	        return attrs.original;
	      }
	      break;
	  }

	  // convert all the children
	  i = 1;

	  // deal with the attribute node, if it exists
	  if ( attrs ) {
	    // if there are keys, skip over it
	    for ( var key in jsonml[ 1 ] ) {
	        i = 2;
	        break;
	    }
	    // if there aren't, remove it
	    if ( i === 1 ) {
	      jsonml.splice( i, 1 );
	    }
	  }

	  for ( ; i < jsonml.length; ++i ) {
	    jsonml[ i ] = convert_tree_to_html( jsonml[ i ], references, options );
	  }

	  return jsonml;
	}


	// merges adjacent text nodes into a single node
	function merge_text_nodes( jsonml ) {
	  // skip the tag name and attribute hash
	  var i = extract_attr( jsonml ) ? 2 : 1;

	  while ( i < jsonml.length ) {
	    // if it's a string check the next item too
	    if ( typeof jsonml[ i ] === "string" ) {
	      if ( i + 1 < jsonml.length && typeof jsonml[ i + 1 ] === "string" ) {
	        // merge the second string into the first and remove it
	        jsonml[ i ] += jsonml.splice( i + 1, 1 )[ 0 ];
	      }
	      else {
	        ++i;
	      }
	    }
	    // if it's not a string recurse
	    else {
	      merge_text_nodes( jsonml[ i ] );
	      ++i;
	    }
	  }
	}

	} )( (function() {
	  if ( false ) {
	    window.markdown = {};
	    return window.markdown;
	  }
	  else {
	    return exports;
	  }
	} )() );


/***/ },
/* 7 */
/***/ function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(global, process) {// Copyright Joyent, Inc. and other Node contributors.
	//
	// Permission is hereby granted, free of charge, to any person obtaining a
	// copy of this software and associated documentation files (the
	// "Software"), to deal in the Software without restriction, including
	// without limitation the rights to use, copy, modify, merge, publish,
	// distribute, sublicense, and/or sell copies of the Software, and to permit
	// persons to whom the Software is furnished to do so, subject to the
	// following conditions:
	//
	// The above copyright notice and this permission notice shall be included
	// in all copies or substantial portions of the Software.
	//
	// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
	// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
	// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
	// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
	// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
	// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
	// USE OR OTHER DEALINGS IN THE SOFTWARE.

	var formatRegExp = /%[sdj%]/g;
	exports.format = function(f) {
	  if (!isString(f)) {
	    var objects = [];
	    for (var i = 0; i < arguments.length; i++) {
	      objects.push(inspect(arguments[i]));
	    }
	    return objects.join(' ');
	  }

	  var i = 1;
	  var args = arguments;
	  var len = args.length;
	  var str = String(f).replace(formatRegExp, function(x) {
	    if (x === '%%') return '%';
	    if (i >= len) return x;
	    switch (x) {
	      case '%s': return String(args[i++]);
	      case '%d': return Number(args[i++]);
	      case '%j':
	        try {
	          return JSON.stringify(args[i++]);
	        } catch (_) {
	          return '[Circular]';
	        }
	      default:
	        return x;
	    }
	  });
	  for (var x = args[i]; i < len; x = args[++i]) {
	    if (isNull(x) || !isObject(x)) {
	      str += ' ' + x;
	    } else {
	      str += ' ' + inspect(x);
	    }
	  }
	  return str;
	};


	// Mark that a method should not be used.
	// Returns a modified function which warns once by default.
	// If --no-deprecation is set, then it is a no-op.
	exports.deprecate = function(fn, msg) {
	  // Allow for deprecating things in the process of starting up.
	  if (isUndefined(global.process)) {
	    return function() {
	      return exports.deprecate(fn, msg).apply(this, arguments);
	    };
	  }

	  if (process.noDeprecation === true) {
	    return fn;
	  }

	  var warned = false;
	  function deprecated() {
	    if (!warned) {
	      if (process.throwDeprecation) {
	        throw new Error(msg);
	      } else if (process.traceDeprecation) {
	        console.trace(msg);
	      } else {
	        console.error(msg);
	      }
	      warned = true;
	    }
	    return fn.apply(this, arguments);
	  }

	  return deprecated;
	};


	var debugs = {};
	var debugEnviron;
	exports.debuglog = function(set) {
	  if (isUndefined(debugEnviron))
	    debugEnviron = process.env.NODE_DEBUG || '';
	  set = set.toUpperCase();
	  if (!debugs[set]) {
	    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
	      var pid = process.pid;
	      debugs[set] = function() {
	        var msg = exports.format.apply(exports, arguments);
	        console.error('%s %d: %s', set, pid, msg);
	      };
	    } else {
	      debugs[set] = function() {};
	    }
	  }
	  return debugs[set];
	};


	/**
	 * Echos the value of a value. Trys to print the value out
	 * in the best way possible given the different types.
	 *
	 * @param {Object} obj The object to print out.
	 * @param {Object} opts Optional options object that alters the output.
	 */
	/* legacy: obj, showHidden, depth, colors*/
	function inspect(obj, opts) {
	  // default options
	  var ctx = {
	    seen: [],
	    stylize: stylizeNoColor
	  };
	  // legacy...
	  if (arguments.length >= 3) ctx.depth = arguments[2];
	  if (arguments.length >= 4) ctx.colors = arguments[3];
	  if (isBoolean(opts)) {
	    // legacy...
	    ctx.showHidden = opts;
	  } else if (opts) {
	    // got an "options" object
	    exports._extend(ctx, opts);
	  }
	  // set default options
	  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
	  if (isUndefined(ctx.depth)) ctx.depth = 2;
	  if (isUndefined(ctx.colors)) ctx.colors = false;
	  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
	  if (ctx.colors) ctx.stylize = stylizeWithColor;
	  return formatValue(ctx, obj, ctx.depth);
	}
	exports.inspect = inspect;


	// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
	inspect.colors = {
	  'bold' : [1, 22],
	  'italic' : [3, 23],
	  'underline' : [4, 24],
	  'inverse' : [7, 27],
	  'white' : [37, 39],
	  'grey' : [90, 39],
	  'black' : [30, 39],
	  'blue' : [34, 39],
	  'cyan' : [36, 39],
	  'green' : [32, 39],
	  'magenta' : [35, 39],
	  'red' : [31, 39],
	  'yellow' : [33, 39]
	};

	// Don't use 'blue' not visible on cmd.exe
	inspect.styles = {
	  'special': 'cyan',
	  'number': 'yellow',
	  'boolean': 'yellow',
	  'undefined': 'grey',
	  'null': 'bold',
	  'string': 'green',
	  'date': 'magenta',
	  // "name": intentionally not styling
	  'regexp': 'red'
	};


	function stylizeWithColor(str, styleType) {
	  var style = inspect.styles[styleType];

	  if (style) {
	    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
	           '\u001b[' + inspect.colors[style][1] + 'm';
	  } else {
	    return str;
	  }
	}


	function stylizeNoColor(str, styleType) {
	  return str;
	}


	function arrayToHash(array) {
	  var hash = {};

	  array.forEach(function(val, idx) {
	    hash[val] = true;
	  });

	  return hash;
	}


	function formatValue(ctx, value, recurseTimes) {
	  // Provide a hook for user-specified inspect functions.
	  // Check that value is an object with an inspect function on it
	  if (ctx.customInspect &&
	      value &&
	      isFunction(value.inspect) &&
	      // Filter out the util module, it's inspect function is special
	      value.inspect !== exports.inspect &&
	      // Also filter out any prototype objects using the circular check.
	      !(value.constructor && value.constructor.prototype === value)) {
	    var ret = value.inspect(recurseTimes, ctx);
	    if (!isString(ret)) {
	      ret = formatValue(ctx, ret, recurseTimes);
	    }
	    return ret;
	  }

	  // Primitive types cannot have properties
	  var primitive = formatPrimitive(ctx, value);
	  if (primitive) {
	    return primitive;
	  }

	  // Look up the keys of the object.
	  var keys = Object.keys(value);
	  var visibleKeys = arrayToHash(keys);

	  if (ctx.showHidden) {
	    keys = Object.getOwnPropertyNames(value);
	  }

	  // IE doesn't make error fields non-enumerable
	  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
	  if (isError(value)
	      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
	    return formatError(value);
	  }

	  // Some type of object without properties can be shortcutted.
	  if (keys.length === 0) {
	    if (isFunction(value)) {
	      var name = value.name ? ': ' + value.name : '';
	      return ctx.stylize('[Function' + name + ']', 'special');
	    }
	    if (isRegExp(value)) {
	      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
	    }
	    if (isDate(value)) {
	      return ctx.stylize(Date.prototype.toString.call(value), 'date');
	    }
	    if (isError(value)) {
	      return formatError(value);
	    }
	  }

	  var base = '', array = false, braces = ['{', '}'];

	  // Make Array say that they are Array
	  if (isArray(value)) {
	    array = true;
	    braces = ['[', ']'];
	  }

	  // Make functions say that they are functions
	  if (isFunction(value)) {
	    var n = value.name ? ': ' + value.name : '';
	    base = ' [Function' + n + ']';
	  }

	  // Make RegExps say that they are RegExps
	  if (isRegExp(value)) {
	    base = ' ' + RegExp.prototype.toString.call(value);
	  }

	  // Make dates with properties first say the date
	  if (isDate(value)) {
	    base = ' ' + Date.prototype.toUTCString.call(value);
	  }

	  // Make error with message first say the error
	  if (isError(value)) {
	    base = ' ' + formatError(value);
	  }

	  if (keys.length === 0 && (!array || value.length == 0)) {
	    return braces[0] + base + braces[1];
	  }

	  if (recurseTimes < 0) {
	    if (isRegExp(value)) {
	      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
	    } else {
	      return ctx.stylize('[Object]', 'special');
	    }
	  }

	  ctx.seen.push(value);

	  var output;
	  if (array) {
	    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
	  } else {
	    output = keys.map(function(key) {
	      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
	    });
	  }

	  ctx.seen.pop();

	  return reduceToSingleString(output, base, braces);
	}


	function formatPrimitive(ctx, value) {
	  if (isUndefined(value))
	    return ctx.stylize('undefined', 'undefined');
	  if (isString(value)) {
	    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
	                                             .replace(/'/g, "\\'")
	                                             .replace(/\\"/g, '"') + '\'';
	    return ctx.stylize(simple, 'string');
	  }
	  if (isNumber(value))
	    return ctx.stylize('' + value, 'number');
	  if (isBoolean(value))
	    return ctx.stylize('' + value, 'boolean');
	  // For some reason typeof null is "object", so special case here.
	  if (isNull(value))
	    return ctx.stylize('null', 'null');
	}


	function formatError(value) {
	  return '[' + Error.prototype.toString.call(value) + ']';
	}


	function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
	  var output = [];
	  for (var i = 0, l = value.length; i < l; ++i) {
	    if (hasOwnProperty(value, String(i))) {
	      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
	          String(i), true));
	    } else {
	      output.push('');
	    }
	  }
	  keys.forEach(function(key) {
	    if (!key.match(/^\d+$/)) {
	      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
	          key, true));
	    }
	  });
	  return output;
	}


	function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
	  var name, str, desc;
	  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
	  if (desc.get) {
	    if (desc.set) {
	      str = ctx.stylize('[Getter/Setter]', 'special');
	    } else {
	      str = ctx.stylize('[Getter]', 'special');
	    }
	  } else {
	    if (desc.set) {
	      str = ctx.stylize('[Setter]', 'special');
	    }
	  }
	  if (!hasOwnProperty(visibleKeys, key)) {
	    name = '[' + key + ']';
	  }
	  if (!str) {
	    if (ctx.seen.indexOf(desc.value) < 0) {
	      if (isNull(recurseTimes)) {
	        str = formatValue(ctx, desc.value, null);
	      } else {
	        str = formatValue(ctx, desc.value, recurseTimes - 1);
	      }
	      if (str.indexOf('\n') > -1) {
	        if (array) {
	          str = str.split('\n').map(function(line) {
	            return '  ' + line;
	          }).join('\n').substr(2);
	        } else {
	          str = '\n' + str.split('\n').map(function(line) {
	            return '   ' + line;
	          }).join('\n');
	        }
	      }
	    } else {
	      str = ctx.stylize('[Circular]', 'special');
	    }
	  }
	  if (isUndefined(name)) {
	    if (array && key.match(/^\d+$/)) {
	      return str;
	    }
	    name = JSON.stringify('' + key);
	    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
	      name = name.substr(1, name.length - 2);
	      name = ctx.stylize(name, 'name');
	    } else {
	      name = name.replace(/'/g, "\\'")
	                 .replace(/\\"/g, '"')
	                 .replace(/(^"|"$)/g, "'");
	      name = ctx.stylize(name, 'string');
	    }
	  }

	  return name + ': ' + str;
	}


	function reduceToSingleString(output, base, braces) {
	  var numLinesEst = 0;
	  var length = output.reduce(function(prev, cur) {
	    numLinesEst++;
	    if (cur.indexOf('\n') >= 0) numLinesEst++;
	    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
	  }, 0);

	  if (length > 60) {
	    return braces[0] +
	           (base === '' ? '' : base + '\n ') +
	           ' ' +
	           output.join(',\n  ') +
	           ' ' +
	           braces[1];
	  }

	  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
	}


	// NOTE: These type checking functions intentionally don't use `instanceof`
	// because it is fragile and can be easily faked with `Object.create()`.
	function isArray(ar) {
	  return Array.isArray(ar);
	}
	exports.isArray = isArray;

	function isBoolean(arg) {
	  return typeof arg === 'boolean';
	}
	exports.isBoolean = isBoolean;

	function isNull(arg) {
	  return arg === null;
	}
	exports.isNull = isNull;

	function isNullOrUndefined(arg) {
	  return arg == null;
	}
	exports.isNullOrUndefined = isNullOrUndefined;

	function isNumber(arg) {
	  return typeof arg === 'number';
	}
	exports.isNumber = isNumber;

	function isString(arg) {
	  return typeof arg === 'string';
	}
	exports.isString = isString;

	function isSymbol(arg) {
	  return typeof arg === 'symbol';
	}
	exports.isSymbol = isSymbol;

	function isUndefined(arg) {
	  return arg === void 0;
	}
	exports.isUndefined = isUndefined;

	function isRegExp(re) {
	  return isObject(re) && objectToString(re) === '[object RegExp]';
	}
	exports.isRegExp = isRegExp;

	function isObject(arg) {
	  return typeof arg === 'object' && arg !== null;
	}
	exports.isObject = isObject;

	function isDate(d) {
	  return isObject(d) && objectToString(d) === '[object Date]';
	}
	exports.isDate = isDate;

	function isError(e) {
	  return isObject(e) &&
	      (objectToString(e) === '[object Error]' || e instanceof Error);
	}
	exports.isError = isError;

	function isFunction(arg) {
	  return typeof arg === 'function';
	}
	exports.isFunction = isFunction;

	function isPrimitive(arg) {
	  return arg === null ||
	         typeof arg === 'boolean' ||
	         typeof arg === 'number' ||
	         typeof arg === 'string' ||
	         typeof arg === 'symbol' ||  // ES6 symbol
	         typeof arg === 'undefined';
	}
	exports.isPrimitive = isPrimitive;

	exports.isBuffer = __webpack_require__(9);

	function objectToString(o) {
	  return Object.prototype.toString.call(o);
	}


	function pad(n) {
	  return n < 10 ? '0' + n.toString(10) : n.toString(10);
	}


	var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
	              'Oct', 'Nov', 'Dec'];

	// 26 Feb 16:19:34
	function timestamp() {
	  var d = new Date();
	  var time = [pad(d.getHours()),
	              pad(d.getMinutes()),
	              pad(d.getSeconds())].join(':');
	  return [d.getDate(), months[d.getMonth()], time].join(' ');
	}


	// log is just a thin wrapper to console.log that prepends a timestamp
	exports.log = function() {
	  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
	};


	/**
	 * Inherit the prototype methods from one constructor into another.
	 *
	 * The Function.prototype.inherits from lang.js rewritten as a standalone
	 * function (not on Function.prototype). NOTE: If this file is to be loaded
	 * during bootstrapping this function needs to be rewritten using some native
	 * functions as prototype setup using normal JavaScript does not work as
	 * expected during bootstrapping (see mirror.js in r114903).
	 *
	 * @param {function} ctor Constructor function which needs to inherit the
	 *     prototype.
	 * @param {function} superCtor Constructor function to inherit prototype from.
	 */
	exports.inherits = __webpack_require__(10);

	exports._extend = function(origin, add) {
	  // Don't do anything if add isn't an object
	  if (!add || !isObject(add)) return origin;

	  var keys = Object.keys(add);
	  var i = keys.length;
	  while (i--) {
	    origin[keys[i]] = add[keys[i]];
	  }
	  return origin;
	};

	function hasOwnProperty(obj, prop) {
	  return Object.prototype.hasOwnProperty.call(obj, prop);
	}

	/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(8)))

/***/ },
/* 8 */
/***/ function(module, exports) {

	// shim for using process in browser

	var process = module.exports = {};
	var queue = [];
	var draining = false;
	var currentQueue;
	var queueIndex = -1;

	function cleanUpNextTick() {
	    draining = false;
	    if (currentQueue.length) {
	        queue = currentQueue.concat(queue);
	    } else {
	        queueIndex = -1;
	    }
	    if (queue.length) {
	        drainQueue();
	    }
	}

	function drainQueue() {
	    if (draining) {
	        return;
	    }
	    var timeout = setTimeout(cleanUpNextTick);
	    draining = true;

	    var len = queue.length;
	    while(len) {
	        currentQueue = queue;
	        queue = [];
	        while (++queueIndex < len) {
	            if (currentQueue) {
	                currentQueue[queueIndex].run();
	            }
	        }
	        queueIndex = -1;
	        len = queue.length;
	    }
	    currentQueue = null;
	    draining = false;
	    clearTimeout(timeout);
	}

	process.nextTick = function (fun) {
	    var args = new Array(arguments.length - 1);
	    if (arguments.length > 1) {
	        for (var i = 1; i < arguments.length; i++) {
	            args[i - 1] = arguments[i];
	        }
	    }
	    queue.push(new Item(fun, args));
	    if (queue.length === 1 && !draining) {
	        setTimeout(drainQueue, 0);
	    }
	};

	// v8 likes predictible objects
	function Item(fun, array) {
	    this.fun = fun;
	    this.array = array;
	}
	Item.prototype.run = function () {
	    this.fun.apply(null, this.array);
	};
	process.title = 'browser';
	process.browser = true;
	process.env = {};
	process.argv = [];
	process.version = ''; // empty string to avoid regexp issues
	process.versions = {};

	function noop() {}

	process.on = noop;
	process.addListener = noop;
	process.once = noop;
	process.off = noop;
	process.removeListener = noop;
	process.removeAllListeners = noop;
	process.emit = noop;

	process.binding = function (name) {
	    throw new Error('process.binding is not supported');
	};

	process.cwd = function () { return '/' };
	process.chdir = function (dir) {
	    throw new Error('process.chdir is not supported');
	};
	process.umask = function() { return 0; };


/***/ },
/* 9 */
/***/ function(module, exports) {

	module.exports = function isBuffer(arg) {
	  return arg && typeof arg === 'object'
	    && typeof arg.copy === 'function'
	    && typeof arg.fill === 'function'
	    && typeof arg.readUInt8 === 'function';
	}

/***/ },
/* 10 */
/***/ function(module, exports) {

	if (typeof Object.create === 'function') {
	  // implementation from standard node.js 'util' module
	  module.exports = function inherits(ctor, superCtor) {
	    ctor.super_ = superCtor
	    ctor.prototype = Object.create(superCtor.prototype, {
	      constructor: {
	        value: ctor,
	        enumerable: false,
	        writable: true,
	        configurable: true
	      }
	    });
	  };
	} else {
	  // old school shim for old browsers
	  module.exports = function inherits(ctor, superCtor) {
	    ctor.super_ = superCtor
	    var TempCtor = function () {}
	    TempCtor.prototype = superCtor.prototype
	    ctor.prototype = new TempCtor()
	    ctor.prototype.constructor = ctor
	  }
	}


/***/ },
/* 11 */
/***/ function(module, exports) {

	// shim for using process in browser

	var process = module.exports = {};

	// cached from whatever global is present so that test runners that stub it
	// don't break things.  But we need to wrap it in a try catch in case it is
	// wrapped in strict mode code which doesn't define any globals.  It's inside a
	// function because try/catches deoptimize in certain engines.

	var cachedSetTimeout;
	var cachedClearTimeout;

	(function () {
	  try {
	    cachedSetTimeout = setTimeout;
	  } catch (e) {
	    cachedSetTimeout = function () {
	      throw new Error('setTimeout is not defined');
	    }
	  }
	  try {
	    cachedClearTimeout = clearTimeout;
	  } catch (e) {
	    cachedClearTimeout = function () {
	      throw new Error('clearTimeout is not defined');
	    }
	  }
	} ())
	var queue = [];
	var draining = false;
	var currentQueue;
	var queueIndex = -1;

	function cleanUpNextTick() {
	    if (!draining || !currentQueue) {
	        return;
	    }
	    draining = false;
	    if (currentQueue.length) {
	        queue = currentQueue.concat(queue);
	    } else {
	        queueIndex = -1;
	    }
	    if (queue.length) {
	        drainQueue();
	    }
	}

	function drainQueue() {
	    if (draining) {
	        return;
	    }
	    var timeout = cachedSetTimeout(cleanUpNextTick);
	    draining = true;

	    var len = queue.length;
	    while(len) {
	        currentQueue = queue;
	        queue = [];
	        while (++queueIndex < len) {
	            if (currentQueue) {
	                currentQueue[queueIndex].run();
	            }
	        }
	        queueIndex = -1;
	        len = queue.length;
	    }
	    currentQueue = null;
	    draining = false;
	    cachedClearTimeout(timeout);
	}

	process.nextTick = function (fun) {
	    var args = new Array(arguments.length - 1);
	    if (arguments.length > 1) {
	        for (var i = 1; i < arguments.length; i++) {
	            args[i - 1] = arguments[i];
	        }
	    }
	    queue.push(new Item(fun, args));
	    if (queue.length === 1 && !draining) {
	        cachedSetTimeout(drainQueue, 0);
	    }
	};

	// v8 likes predictible objects
	function Item(fun, array) {
	    this.fun = fun;
	    this.array = array;
	}
	Item.prototype.run = function () {
	    this.fun.apply(null, this.array);
	};
	process.title = 'browser';
	process.browser = true;
	process.env = {};
	process.argv = [];
	process.version = ''; // empty string to avoid regexp issues
	process.versions = {};

	function noop() {}

	process.on = noop;
	process.addListener = noop;
	process.once = noop;
	process.off = noop;
	process.removeListener = noop;
	process.removeAllListeners = noop;
	process.emit = noop;

	process.binding = function (name) {
	    throw new Error('process.binding is not supported');
	};

	process.cwd = function () { return '/' };
	process.chdir = function (dir) {
	    throw new Error('process.chdir is not supported');
	};
	process.umask = function() { return 0; };


/***/ },
/* 12 */
/***/ function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(global, process) {(function(a){function n(a,e,h){var b=function(){},v=b.prototype=new a.constructor;e.$$scope=v;e.$$base_module=a.base;v.base=e;v.constructor=b;v.constants=[];h&&z.cdecl(a,h,e)}function q(a,e){var h=b(null,e,a);return l(a,h)}function l(a,e){function h(){}var b=function(){};b.prototype=a.constructor.prototype;h.prototype=new b;b=new h;f(b,h,a,e.prototype);b.$$alloc=e;return b.$$proto.$$class=b}function f(a,e,h,b){a.$$id=z.uid();a.$$proto=b;a.constructor=e;h===v?(a.$$is_module=!0,a.$$class=v):(a.$$is_class=
	!0,a.$$class=B);a.$$super=h;a.$$parent=h;a.$$inc=[]}function k(){function a(){}var e=function(){};e.prototype=v.constructor.prototype;a.prototype=new e;e=new a;f(e,a,v,{});return e}function d(a){var e=a.$$class,h="#<Class:#<"+e.$$name+":"+e.$$id+">>",b=z.boot(e,function(){});b.$$name=h;b.$$proto=a;b.$$class=e.$$class;b.$$scope=e.$$scope;b.$$parent=e;b.$$is_singleton=!0;b.$$singleton_of=a;return a.$$meta=b}function c(){var a,e,b,v,g,B,m,I;if(4===arguments.length)for(a=arguments[0],e=arguments[1],b=
	arguments[2],v=arguments[3],g=a.$$bridge.$ancestors(),B=0,I=g.length;B<I;B++){m=g[B];if(w.call(m.$$proto,b)&&m.$$proto[b]&&!m.$$proto[b].$$donated&&!m.$$proto[b].$$stub&&m!==e)break;if(m===e){a.prototype[b]=v;break}}else if(a=arguments[0],e=arguments[1],"function"===typeof a){b=e.$__id__();v=e.$instance_methods();for(B=v.length-1;0<=B;B--)g="$"+v[B],c(a,e,g,e.$$proto[g]);h[b]||(h[b]=[]);h[b].push(a)}else if(a=h[a.$__id__()]){for(B=a.length-1;0<=B;B--)c(a[B],e);h[e.$__id__()]=a.slice()}}function b(a,
	e,h){if(h){var b=function(){};b.prototype=h.$$proto||h.prototype;a&&(b.displayName=a);e.prototype=new b}return e.prototype.constructor=e}function D(a,e,h){var b=function(){};b.prototype=h.prototype;var v=function(){};v.prototype=new b;v.displayName="#<Class:"+a+">";b=new v;f(b,v,h,e.prototype);b.$$alloc=e;b.$$name=a;e.prototype.$$class=b;z[a]=b;z.constants.push(a);return b}function x(a,e){for(var h=a.$$scope.constants,b=e.$$scope,v=b.constants,g=0,B=h.length;g<B;g++)v.push(h[g]),b[h[g]]=a.$$scope[h[g]]}
	function y(a,e){var h=a.$$dep,b=a.$$proto[e],v,g,B,m,I,d,w,z,p,c;if(h)for(v=0,g=h.length;v<g;v++){B=h[v];m=B.$$proto;I=m[e];if(!m.hasOwnProperty(e)||I.$$donated||I.$$stub)if(m.hasOwnProperty(e)&&!I.$$stub){d=B.$$inc;w=0;for(z=d.length;w<z;w++)d[w]===I.$$donated&&(p=w),d[w]===a&&(c=w);p<=c&&(m[e]=b,m[e].$$donated=a)}else m[e]=b,m[e].$$donated=a;B.$$dep&&y(B,e)}}function t(a){function e(){this.$method_missing.$$p=e.$$p;e.$$p=null;return this.$method_missing.apply(this,[a.slice(1)].concat(E.call(arguments)))}
	e.$$stub=!0;return e}function p(a){function e(){a.$$p=e.$$p;a.$$s=e.$$s;try{return a.apply(this,E.call(arguments))}finally{e.$$s=null,e.$$p=null}}e.$$target=a;e.$$arity=a.length;return e}function r(){}function g(){}function m(){}function u(){}function A(){}if("undefined"!==typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var z=this.Opal={},h={},e=function(){};e.prototype=z;z.constructor=e;z.constants=[];z.global=this;var w=
	z.hasOwnProperty,E=z.slice=Array.prototype.slice,C=4;z.uid=function(){return C+=2};z.cvars={};z.gvars={};z.exit=function(a){z.gvars.DEBUG&&console.log("Exited with status "+a)};z.exceptions=[];z.get=function(a){var e=this[a];return null==e?this.base.$const_get(a):e};z.create_scope=n;z.klass=function(a,e,h,b){a.$$is_class||a.$$is_module||(a=a.$$class);var v=a.$$scope[h],g="function"===typeof e;if(v&&v.$$orig_scope===a.$$scope){if(!v.$$is_class)throw z.TypeError.$new(h+" is not a class");if(e&&v.$$super!==
	e)throw z.TypeError.$new("superclass mismatch for class "+h);return v}null===e&&(e=I);v=g?l(I,e):q(e,b);v.$$name=h;v.$$is_class=!0;n(a.$$scope,v,h);a[h]=a.$$scope[h]=v;g?z.bridge(v,e):(e!==I&&e!==M&&x(e,v),e.$inherited&&e.$inherited(v));return v};z.boot=q;z.module=function(a,e){var h;a.$$is_class||a.$$is_module||(a=a.$$class);if(w.call(a.$$scope,e)){if(h=a.$$scope[e],!h.$$is_module&&h!==I)throw z.TypeError.$new(e+" is not a module");}else h=k(),h.$$name=e,h.$$is_module=!0,h.$$dep=[],n(a.$$scope,h,
	e),a[e]=a.$$scope[e]=h;return h};z.get_singleton_class=function(a){if(a.$$meta)return a.$$meta;if(a.$$is_class||a.$$is_module){var e=new z.Class.$$alloc;e.$$class=z.Class;e.$$proto=a.constructor.prototype;e.$$is_singleton=!0;e.$$singleton_of=a;e.$$inc=[];e.$$scope=a.$$scope;return a.$$meta=e}return d(a)};z.append_features=function(a,e){var h,b,v,g,B;for(B=e.$$inc.length-1;0<=B;B--)if(e.$$inc[B]===a)return;e.$$inc.push(a);a.$$dep.push(e);c(e,a);e.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:e.$$parent,
	$$module:a,$$iclass:!0};h=a.$$proto;b=e.$$proto;v=a.$instance_methods();for(B=v.length-1;0<=B;B--)if(g="$"+v[B],!b.hasOwnProperty(g)||b[g].$$donated||b[g].$$stub)b[g]=h[g],b[g].$$donated=a;x(a,e)};z.bridge=function(a,e){if(e.$$bridge)throw z.ArgumentError.$new("already bridged");z.stub_subscribers.push(e.prototype);e.prototype.$$class=a;e.$$bridge=a;for(var h=a.$ancestors(),b=h.length-1;0<=b;b--)c(e,h[b]);for(var v in r.prototype){var g=r.prototype[g];!g||!g.$$stub||v in e.prototype||(e.prototype[v]=
	g)}return a};z.casgn=function(a,e,h){function b(a,e){a.$$name=e;for(e in a.$$scope){var h=a.$$scope[e];h.$$name===O&&(h.$$is_class||h.$$is_module)&&b(h,e)}}var v=a.$$scope;if(h.$$is_class||h.$$is_module){if(h.$$is_class||h.$$base_module===I)h.$$base_module=a;h.$$name===O&&h.$$base_module.$$name!==O&&b(h,e)}v.constants.push(e);return v[e]=h};z.cdecl=function(a,e,h){(h.$$is_class||h.$$is_module)&&null==h.$$orig_scope&&(h.$$name=e,h.$$orig_scope=a,a.constructor[e]=h);a.constants.push(e);return a[e]=
	h};z.add_stubs=function(a){var e,h=z.stub_subscribers,b,v=a.length,g,B=h.length,m,I;for(b=0;b<v;b++)for(m=a[b],I=t(m),g=0;g<B;g++)e=h[g],m in e||(e[m]=I)};z.stub_subscribers=[r.prototype];z.add_stub_for=function(a,e){var h=t(e);a[e]=h};z.ac=function(a,e,h,b){var v="",v=h.$$is_class||h.$$is_module?v+(h.$$name+"."):v+(h.$$class.$$name+"#");throw z.ArgumentError.$new("["+(v+b)+"] wrong number of arguments("+a+" for "+e+")");};z.find_super_dispatcher=function(a,e,h,b,v){if(v)h=a.$$is_class||a.$$is_module?
	v.$$super:a.$$class.$$proto;else if(a.$$is_class||a.$$is_module)h=a.$$super;else{v=a.$$meta||a.$$class;for(a="$"+e;v&&v.$$proto[a]!==h;)v=v.$$parent;if(!v)throw Error("could not find current class for super()");for(v=v.$$parent;v;){var g=v.$$proto[a];if(g&&g!==h)break;v=v.$$parent}h=v.$$proto}h=h["$"+e];h.$$p=b;return h};z.find_iter_super_dispatcher=function(a,e,h,b,v){return h.$$def?z.find_super_dispatcher(a,h.$$jsid,h,b,v):z.find_super_dispatcher(a,e,h,b,v)};z.ret=function(a){z.returner.$v=a;throw z.returner;
	};z.yield1=function(a,e){if("function"!==typeof a)throw z.LocalJumpError.$new("no block given");return 1<a.length&&e.$$is_array?a.apply(null,e):a(e)};z.yieldX=function(a,e){if("function"!==typeof a)throw z.LocalJumpError.$new("no block given");if(1<a.length&&1===e.length&&e[0].$$is_array)return a.apply(null,e[0]);e.$$is_array||(e=E.call(e));return a.apply(null,e)};z.rescue=function(a,e){for(var h=0;h<e.length;h++){var b=e[h];if(b.$$is_array){if(b=z.rescue(a,b))return b}else if(b["$==="](a))return b}return null};
	z.is_a=function(a,e){if(a.$$meta===e)return!0;for(var h=a.$$class;h;){if(h===e)return!0;for(var b=0,v=h.$$inc.length;b<v;b++)if(h.$$inc[b]===e)return!0;h=h.$$super}return!1};z.to_ary=function(a){return a.$$is_array?a:a.$to_ary&&!a.$to_ary.$$stub?a.$to_ary():[a]};z.to_a=function(a){return null==a||a===O?[]:a.$to_a&&!a.$to_a.$$stub?a.$to_a():[a]};z.kwrestargs=function(a,e){var h=[],b={},v=null,g=a.smap;for(v in g)e[v]||(h.push(v),b[v]=g[v]);return z.hash2(h,b)};z.send=function(a,e){var h=E.call(arguments,
	2),b=a["$"+e];return b?b.apply(a,h):a.$method_missing.apply(a,[e].concat(h))};z.block_send=function(a,e,h){var b=E.call(arguments,3),v=a["$"+e];return v?(v.$$p=h,v.apply(a,b)):a.$method_missing.apply(a,[e].concat(b))};z.defn=function(a,e,b){a.$$proto[e]=b;a.$$is_module&&(y(a,e),a.$$module_function&&z.defs(a,e,b));if(a.$__id__&&!a.$__id__.$$stub){var v=h[a.$__id__()];if(v)for(var g=v.length-1;0<=g;g--)c(v[g],a,e,b)}a.$method_added&&!a.$method_added.$$stub&&a.$method_added(e.substr(1));(a=a.$$singleton_of)&&
	a.$singleton_method_added&&!a.$singleton_method_added.$$stub&&a.$singleton_method_added(e.substr(1));return O};z.defs=function(a,e,h){z.defn(z.get_singleton_class(a),e,h)};z.def=function(a,e,h){a.$$eval||!a.$$is_class&&!a.$$is_module?z.defs(a,e,h):z.defn(a,e,h)};z.rdef=function(a,e){if(!w.call(a.$$proto,e))throw z.NameError.$new("method '"+e.substr(1)+"' not defined in "+a.$name());delete a.$$proto[e];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&
	a.$$proto.$singleton_method_removed(e.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(e.substr(1))};z.udef=function(a,e){if(!a.$$proto[e]||a.$$proto[e].$$stub)throw z.NameError.$new("method '"+e.substr(1)+"' not defined in "+a.$name());z.add_stub_for(a.$$proto,e);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(e.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(e.substr(1))};
	z.alias=function(a,e,h){var b="$"+e,v="$"+h,g=a.$$proto["$"+h];if(a.$$eval)return z.alias(z.get_singleton_class(a),e,h);if("function"!==typeof g||g.$$stub){for(e=a.$$super;"function"!==typeof g&&e;)g=e[v],e=e.$$super;if("function"!==typeof g||g.$$stub)throw z.NameError.$new("undefined method `"+h+"' for class `"+a.$name()+"'");}z.defn(a,b,p(g));return a};z.alias_native=function(a,e,h){e="$"+e;var b=a.$$proto[h];if("function"!==typeof b||b.$$stub)throw z.NameError.$new("undefined native method `"+
	h+"' for class `"+a.$name()+"'");z.defn(a,e,p(b));return a};z.hash_init=function(a){a.map={};a.smap={};a.keys=[]};z.hash_clone=function(a,e){e.none=a.none;e.proc=a.proc;for(var h=0,b=a.keys.length,v,g;h<b;h++)v=a.keys[h],v.$$is_string?g=a.smap[v]:(g=v.value,v=v.key),z.hash_put(e,v,g)};z.hash_put=function(e,h,b){if(h.$$is_string)e.smap.hasOwnProperty(h)||e.keys.push(h),e.smap[h]=b;else{var v=h.$hash(),g,B;if(e.map.hasOwnProperty(v)){for(g=e.map[v];g;){if(h===g.key||h["$eql?"](g.key)){B=a;g.value=b;
	break}B=g;g=g.next}B&&(g={key:h,key_hash:v,value:b},e.keys.push(g),B.next=g)}else g={key:h,key_hash:v,value:b},e.keys.push(g),e.map[v]=g}};z.hash_get=function(a,e){if(e.$$is_string){if(a.smap.hasOwnProperty(e))return a.smap[e]}else{var h=e.$hash();if(a.map.hasOwnProperty(h))for(h=a.map[h];h;){if(e===h.key||e["$eql?"](h.key))return h.value;h=h.next}}};z.hash_delete=function(a,e){var h,b=a.keys,v=b.length,g;if(e.$$is_string){if(!a.smap.hasOwnProperty(e))return;for(h=0;h<v;h++)if(b[h]===e){b.splice(h,
	1);break}g=a.smap[e];delete a.smap[e];return g}var B=e.$hash();if(a.map.hasOwnProperty(B))for(var m=a.map[B],I;m;){if(e===m.key||e["$eql?"](m.key)){g=m.value;for(h=0;h<v;h++)if(b[h]===m){b.splice(h,1);break}I&&m.next?I.next=m.next:I?delete I.next:m.next?a.map[B]=m.next:delete a.map[B];return g}I=m;m=m.next}};z.hash_rehash=function(e){for(var h=0,b=e.keys.length,v,g,B;h<b;h++)if(!e.keys[h].$$is_string&&(v=e.keys[h].key.$hash(),v!==e.keys[h].key_hash)){g=e.map[e.keys[h].key_hash];for(B=a;g;){if(g===
	e.keys[h]){B&&g.next?B.next=g.next:B?delete B.next:g.next?e.map[e.keys[h].key_hash]=g.next:delete e.map[e.keys[h].key_hash];break}B=g;g=g.next}e.keys[h].key_hash=v;if(e.map.hasOwnProperty(v)){g=e.map[v];for(B=a;g;){if(g===e.keys[h]){B=a;break}B=g;g=g.next}B&&(B.next=e.keys[h])}else e.map[v]=e.keys[h]}};z.hash=function(){var a=arguments.length,e,h,b,v,g;if(1===a&&arguments[0].$$is_hash)return arguments[0];e=new z.Hash.$$alloc;z.hash_init(e);if(1===a&&arguments[0].$$is_array){a=arguments[0];b=a.length;
	for(h=0;h<b;h++){if(2!==a[h].length)throw z.ArgumentError.$new("value not of length 2: "+a[h].$inspect());v=a[h][0];g=a[h][1];z.hash_put(e,v,g)}return e}if(1===a){a=arguments[0];for(v in a)a.hasOwnProperty(v)&&(g=a[v],z.hash_put(e,v,g));return e}if(0!==a%2)throw z.ArgumentError.$new("odd number of arguments for Hash");for(h=0;h<a;h+=2)v=arguments[h],g=arguments[h+1],z.hash_put(e,v,g);return e};z.hash2=function(a,e){var h=new z.Hash.$$alloc;h.map={};h.keys=a;h.smap=e;return h};z.range=function(a,e,
	h){var b=new z.Range.$$alloc;b.begin=a;b.end=e;b.exclude=h;return b};z.ivar=function(a){return"constructor"===a||"__proto__"===a||"__parent__"===a||"__noSuchMethod__"===a||"__count__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};(function(a){function e(a){var h,b=[];a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var v=0,g=a.length;v<g;v++)h=a[v],""!==h&&(".."===h?b.pop():b.push(h));return b.join("/")}function h(a){var b,B,m;b=0;for(B=a.length;b<B;b++){m=e(a[b]);if(g[m])break;v.push(m);
	g[m]=!0}}function b(v){v=e(v);h([v]);var g=B[v];if(g)g(a);else if(g=a.dynamic_require_severity||"warning",v="cannot load such file -- "+v,"error"===g)if(a.LoadError)a.LoadError.$new(v);else throw v;else"warning"===g&&console.warn("WARNING: LoadError: "+v);return!0}var v=["corelib/runtime"],g={"corelib/runtime":!0},B={};a.modules=B;a.loaded_features=v;a.loaded=h;a.load=b;a.require=function(a){a=e(a);return g[a]?!1:b(a)}})(z);var M,I,v,B;b("BasicObject",r);b("Object",g,r);b("Module",u,g);b("Class",
	m,u);M=D("BasicObject",r,m);I=D("Object",g,M.constructor);v=D("Module",u,I.constructor);B=D("Class",m,v.constructor);M.$$class=B;I.$$class=B;v.$$class=B;B.$$class=B;M.$$super=null;I.$$super=M;v.$$super=I;B.$$super=v;M.$$parent=null;I.$$parent=M;v.$$parent=I;B.$$parent=v;z.base=I;M.$$scope=I.$$scope=z;M.$$orig_scope=I.$$orig_scope=z;v.$$scope=I.$$scope;v.$$orig_scope=I.$$orig_scope;B.$$scope=I.$$scope;B.$$orig_scope=I.$$orig_scope;I.$$proto.toString=function(){return this.$to_s()};I.$$proto.$require=
	z.require;z.top=new I.$$alloc;z.klass(I,I,"NilClass",A);var O=z.nil=new A;O.$$id=4;O.call=O.apply=function(){throw z.LocalJumpError.$new("no block given");};z.breaker=Error("unexpected break");z.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);"undefined"!==typeof global&&(global.Opal=this.Opal,Opal.global=global);"undefined"!==typeof window&&(window.Opal=this.Opal,Opal.global=window);
	Opal.modules["corelib/helpers"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.slice,l=a.module;a.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $inspect $coerce_to!".split(" "));return function(f){f=l(f,"Opal");var k=f.$$scope;a.defs(f,"$bridge",function(d,c){return a.bridge(d,c)});a.defs(f,"$type_error",function(a,c,b,f){var l;null==b&&(b=n);null==f&&(f=n);return(l=!1!==b&&b!==n?f:b)===n||l.$$is_boolean&&1!=l?k.get("TypeError").$new("no implicit conversion of "+
	a.$class()+" into "+c):k.get("TypeError").$new("can't convert "+a.$class()+" into "+c+" ("+a.$class()+"#"+b+" gives "+f.$class())});a.defs(f,"$coerce_to",function(a,c,b){var f;if((f=c["$==="](a))!==n&&(!f.$$is_boolean||1==f))return a;((f=a["$respond_to?"](b))===n||f.$$is_boolean&&1!=f)&&this.$raise(this.$type_error(a,c));return a.$__send__(b)});a.defs(f,"$coerce_to!",function(a,c,b){var f,k=n,k=this.$coerce_to(a,c,b);((f=c["$==="](k))===n||f.$$is_boolean&&1!=f)&&this.$raise(this.$type_error(a,c,b,
	k));return k});a.defs(f,"$coerce_to?",function(a,c,b){var f,k=n;if((f=a["$respond_to?"](b))===n||f.$$is_boolean&&1!=f)return n;k=this.$coerce_to(a,c,b);if((f=k["$nil?"]())!==n&&(!f.$$is_boolean||1==f))return n;((f=c["$==="](k))===n||f.$$is_boolean&&1!=f)&&this.$raise(this.$type_error(a,c,b,k));return k});a.defs(f,"$try_convert",function(a,c,b){var f;return(f=c["$==="](a))===n||f.$$is_boolean&&1!=f?(f=a["$respond_to?"](b))===n||f.$$is_boolean&&1!=f?n:a.$__send__(b):a});a.defs(f,"$compare",function(a,
	c){var b,f=n,f=a["$<=>"](c);(b=f===n)===n||b.$$is_boolean&&1!=b||this.$raise(k.get("ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");return f});a.defs(f,"$destructure",function(a){return 1==a.length?a[0]:a.$$is_array?a:q.call(a)});a.defs(f,"$respond_to?",function(a,c){return null!=a&&a.$$class?a["$respond_to?"](c):!1});a.defs(f,"$inspect",function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()});a.defs(f,"$instance_variable_name!",function(a){var c;
	a=k.get("Opal")["$coerce_to!"](a,k.get("String"),"to_str");((c=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))===n||c.$$is_boolean&&1!=c)&&this.$raise(k.get("NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a})}(a.base)};
	Opal.modules["corelib/module"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.slice,l=a.klass;a.add_stubs("$equal? $< $attr_reader $attr_writer $coerce_to! $raise $new $=~ $inject $const_get $split $const_missing $to_str $=== $to_proc $lambda $bind $call $class $append_features $included $name $to_s $__id__".split(" "));return function(f,$super){function d(){}var c=d=l(f,$super,"Module",d),b=c.$$scope,D,x,y,t;a.defs(c,"$new",D=function(){var b=D.$$p||n;D.$$p=null;var d=a.boot(a.Module,
	function(){});d.$$name=n;d.$$class=a.Module;d.$$dep=[];d.$$is_module=!0;d.$$proto={};a.create_scope(a.Module.$$scope,d);if(b!==n){var g=b.$$s;b.$$s=null;b.call(d);b.$$s=g}return d});a.defn(c,"$===",function(b){var d;return(d=null==b)===n||d.$$is_boolean&&1!=d?a.is_a(b,this):!1});a.defn(c,"$<",function(a){var b=this;if(b===a)return!1;for(;b;){if(b===a)return!0;b=b.$$parent}return!1});a.defn(c,"$<=",function(a){var b;return!1!==(b=this["$equal?"](a))&&b!==n?b:"number"===typeof this&&"number"===typeof a?
	this<a:this["$<"](a)});a.defn(c,"$alias_method",function(b,d){a.alias(this,b,d);return this});a.defn(c,"$alias_native",function(b,d){null==d&&(d=b);a.alias_native(this,b,d);return this});a.defn(c,"$ancestors",function(){for(var a=this,b=[];a;){b.push(a);for(var g=0;g<a.$$inc.length;g++)b=b.concat(a.$$inc[g].$ancestors());a=a.$$is_class?a.$$super:null}return b});a.defn(c,"$append_features",function(b){a.append_features(this,b);return this});a.defn(c,"$attr_accessor",function(){var b=arguments.length-
	0;0>b&&(b=0);for(var d=Array(b),g=0;g<b;g++)d[g]=arguments[g+0];this.$attr_reader.apply(this,a.to_a(d));return this.$attr_writer.apply(this,a.to_a(d))});a.alias(c,"attr","attr_accessor");a.defn(c,"$attr_reader",function(){var b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),g=0;g<b;g++)d[g]=arguments[g+0];b=this.$$proto;for(g=d.length-1;0<=g;g--){var m=d[g],c="$"+m,m=a.ivar(m),A=function(a){return function(){return null==this[a]?n:this[a]}}(m);b[m]=n;this.$$is_singleton?b.constructor.prototype[c]=
	A:a.defn(this,c,A)}return n});a.defn(c,"$attr_writer",function(){var b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),g=0;g<b;g++)d[g]=arguments[g+0];b=this.$$proto;for(g=d.length-1;0<=g;g--){var m=d[g],c="$"+m+"=",m=a.ivar(m),A=function(a){return function(h){return this[a]=h}}(m);b[m]=n;this.$$is_singleton?b.constructor.prototype[c]=A:a.defn(this,c,A)}return n});a.defn(c,"$autoload",function(a,b){var g;(g=this.$$autoload)||(g=this.$$autoload={});g[a]=b;return n});a.defn(c,"$class_variable_get",
	function(d){var c;d=b.get("Opal")["$coerce_to!"](d,b.get("String"),"to_str");(c=3>d.length||"@@"!==d.slice(0,2))===n||c.$$is_boolean&&1!=c||this.$raise(b.get("NameError").$new("class vars should start with @@",d));var g=a.cvars[d.slice(2)];(c=null==g)===n||c.$$is_boolean&&1!=c||this.$raise(b.get("NameError").$new("uninitialized class variable @@a in",d));return g});a.defn(c,"$class_variable_set",function(d,c){var g;d=b.get("Opal")["$coerce_to!"](d,b.get("String"),"to_str");(g=3>d.length||"@@"!==d.slice(0,
	2))===n||g.$$is_boolean&&1!=g||this.$raise(b.get("NameError"));return a.cvars[d.slice(2)]=c});a.defn(c,"$constants",function(){return this.$$scope.constants.slice(0)});a.defn(c,"$const_defined?",function(d,c){var g;null==c&&(c=!0);((g=d["$=~"](/^[A-Z]\w*$/))===n||g.$$is_boolean&&1!=g)&&this.$raise(b.get("NameError").$new("wrong constant name "+d,d));g=[this.$$scope];if(c||this===a.Object)for(var m=this.$$super;m!==a.BasicObject;)g.push(m.$$scope),m=m.$$super;for(var m=0,u=g.length;m<u;m++)if(g[m].hasOwnProperty(d))return!0;
	return!1});a.defn(c,"$const_get",function(d,c){var g,m,u;null==c&&(c=!0);if((g=-1!=d.indexOf("::")&&"::"!=d)!==n&&(!g.$$is_boolean||1==g))return(g=(m=d.$split("::")).$inject,g.$$p=(u=function(a,b){null==a&&(a=n);null==b&&(b=n);return a.$const_get(b)},u.$$s=this,u),g).call(m,this);((g=/^[A-Z]\w*$/.test(d))===n||g.$$is_boolean&&1!=g)&&this.$raise(b.get("NameError").$new("wrong constant name "+d,d));g=[this.$$scope];if(c||this==a.Object)for(m=this.$$super;m!==a.BasicObject;)g.push(m.$$scope),m=m.$$super;
	m=0;for(u=g.length;m<u;m++)if(g[m].hasOwnProperty(d))return g[m][d];return this.$const_missing(d)});a.defn(c,"$const_missing",function(a){if(this.$$autoload){var d=this.$$autoload[a];if(d)return this.$require(d),this.$const_get(a)}return this.$raise(b.get("NameError").$new("uninitialized constant "+this+"::"+a,a))});a.defn(c,"$const_set",function(d,c){var g;((g=d["$=~"](/^[A-Z]\w*$/))===n||g.$$is_boolean&&1!=g)&&this.$raise(b.get("NameError").$new("wrong constant name "+d,d));try{d=d.$to_str()}catch(m){try{this.$raise(b.get("TypeError"),
	"conversion with #to_str failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.casgn(this,d,c);return c});a.defn(c,"$define_method",x=function(d,c){var g,m,u,A,z=this,h=x.$$p||n,e=n;x.$$p=null;(g=void 0===c&&h===n)===n||g.$$is_boolean&&1!=g||z.$raise(b.get("ArgumentError"),"tried to create a Proc object without a block");!1!==(g=h)&&g!==n?g:h=function(){e=c;return b.get("Proc")["$==="](e)?c:b.get("Method")["$==="](e)?c.$to_proc().$$unbound:b.get("UnboundMethod")["$==="](e)?(m=(u=z).$lambda,m.$$p=
	(A=function(e){var h=A.$$s||this,b,g=n;e=q.call(arguments,0);g=c.$bind(h);return(b=g).$call.apply(b,a.to_a(e))},A.$$s=z,A),m).call(u):z.$raise(b.get("TypeError"),"wrong argument type "+h.$class()+" (expected Proc/Method)")}();h.$$jsid=d;h.$$s=null;h.$$def=h;a.defn(z,"$"+d,h);return d});a.defn(c,"$remove_method",function(){var b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),g=0;g<b;g++)d[g]=arguments[g+0];b=0;for(g=d.length;b<g;b++)a.rdef(this,"$"+d[b]);return this});a.defn(c,"$singleton_class?",
	function(){return!!this.$$is_singleton});a.defn(c,"$include",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),g=0;g<a;g++)b[g]=arguments[g+0];for(a=b.length-1;0<=a;a--)g=b[a],g!==this&&(g.$append_features(this),g.$included(this));return this});a.defn(c,"$include?",function(a){for(var b=this;b;b=b.$$super)for(var g=0;g!=b.$$inc.length;g++)if(a===b.$$inc[g])return!0;return!1});a.defn(c,"$instance_method",function(a){var d=this.$$proto["$"+a];d&&!d.$$stub||this.$raise(b.get("NameError").$new("undefined method `"+
	a+"' for class `"+this.$name()+"'",a));return b.get("UnboundMethod").$new(this,d,a)});a.defn(c,"$instance_methods",function(b){null==b&&(b=!0);var d=[],g=this.$$proto,m;for(m in g)if("$"===m.charAt(0)&&"function"===typeof g[m]&&!g[m].$$stub){if(!this.$$is_module){if(this!==a.BasicObject&&g[m]===a.BasicObject.$$proto[m])continue;if(!b&&!g.hasOwnProperty(m))continue;if(!b&&g[m].$$donated)continue}d.push(m.substr(1))}return d});a.defn(c,"$included",function(a){return n});a.defn(c,"$extended",function(a){return n});
	a.defn(c,"$method_added",function(){return n});a.defn(c,"$method_removed",function(){return n});a.defn(c,"$method_undefined",function(){return n});a.defn(c,"$module_eval",y=function(){var a=y.$$p||n;y.$$p=null;!1!==a&&a!==n||this.$raise(b.get("ArgumentError"),"no block given");var d=a.$$s,g;a.$$s=null;g=a.call(this);a.$$s=d;return g});a.alias(c,"class_eval","module_eval");a.defn(c,"$module_exec",t=function(){var a=t.$$p||n,d=arguments.length-0;0>d&&(d=0);for(var g=Array(d),m=0;m<d;m++)g[m]=arguments[m+
	0];t.$$p=null;a===n&&this.$raise(b.get("LocalJumpError"),"no block given");d=a.$$s;a.$$s=null;g=a.apply(this,g);a.$$s=d;return g});a.alias(c,"class_exec","module_exec");a.defn(c,"$method_defined?",function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub});a.defn(c,"$module_function",function(){var b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),g=0;g<b;g++)d[g]=arguments[g+0];if(0===d.length)this.$$module_function=!0;else for(b=0,g=d.length;b<g;b++){var m="$"+d[b];a.defs(this,m,this.$$proto[m])}return this});
	a.defn(c,"$name",function(){if(this.$$full_name)return this.$$full_name;for(var b=[],d=this;d;){if(d.$$name===n)return 0===b.length?n:b.join("::");b.unshift(d.$$name);d=d.$$base_module;if(d===a.Object)break}return 0===b.length?n:this.$$full_name=b.join("::")});a.defn(c,"$remove_class_variable",function(){return n});a.defn(c,"$remove_const",function(a){var b=this.$$scope[a];delete this.$$scope[a];return b});a.defn(c,"$to_s",function(){var b;return!1!==(b=a.Module.$name.call(this))&&b!==n?b:"#<"+(this.$$is_module?
	"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"});return(a.defn(c,"$undef_method",function(){var b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),g=0;g<b;g++)d[g]=arguments[g+0];b=0;for(g=d.length;b<g;b++)a.udef(this,"$"+d[b]);return this}),n)&&"undef_method"}(a.base,null)};
	Opal.modules["corelib/class"]=function(a){a.dynamic_require_severity="warning";var n=a.top,q=a.nil,l=a.klass;a.add_stubs(["$require","$raise","$allocate"]);n.$require("corelib/module");return function(f,$super){function d(){}var c=d=l(f,$super,"Class",d),b=c.$$scope,n,x;a.defs(c,"$new",n=function(d){var c=n.$$p||q;null==d&&(d=b.get("Object"));n.$$p=null;d.$$is_class||this.$raise(b.get("TypeError"),"superclass must be a Class");var f=a.boot(d,function(){});f.$$name=q;f.$$parent=d;f.$$is_class=!0;a.create_scope(d.$$scope,
	f);d.$inherited(f);c!==q&&(d=c.$$s,c.$$s=null,c.call(f),c.$$s=d);return f});a.defn(c,"$allocate",function(){var b=new this.$$alloc;b.$$id=a.uid();return b});a.defn(c,"$inherited",function(a){return q});a.defn(c,"$new",x=function(){var a=x.$$p||q,b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),c=0;c<b;c++)d[c]=arguments[c+0];x.$$p=null;b=this.$allocate();b.$initialize.$$p=a;b.$initialize.apply(b,d);return b});return(a.defn(c,"$superclass",function(){return this.$$super||q}),q)&&"superclass"}(a.base,
	null)};
	Opal.modules["corelib/basic_object"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass;a.add_stubs(["$==","$!","$raise","$new","$inspect"]);return function(l,$super){function k(){}var d=k=q(l,$super,"BasicObject",k),c=d.$$scope,b,D,x,y;a.defn(d,"$initialize",function(){return n});a.defn(d,"$==",function(a){return this===a});a.defn(d,"$eql?",function(a){return this["$=="](a)});a.defn(d,"$__id__",function(){return this.$$id||(this.$$id=a.uid())});a.defn(d,"$__send__",b=function(a){var d=b.$$p||
	n,c=arguments.length-1;0>c&&(c=0);for(var g=Array(c),m=0;m<c;m++)g[m]=arguments[m+1];b.$$p=null;if(c=this["$"+a])return d!==n&&(c.$$p=d),c.apply(this,g);d!==n&&(this.$method_missing.$$p=d);return this.$method_missing.apply(this,[a].concat(g))});a.defn(d,"$!",function(){return!1});a.defn(d,"$!=",function(a){return this["$=="](a)["$!"]()});a.alias(d,"equal?","==");a.defn(d,"$instance_eval",D=function(){var a=D.$$p||n;D.$$p=null;!1!==a&&a!==n||c.get("Kernel").$raise(c.get("ArgumentError"),"no block given");
	var b=a.$$s,d;a.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{d=a.call(this,this)}finally{this.$$eval=!1}}else d=a.call(this,this);a.$$s=b;return d});a.defn(d,"$instance_exec",x=function(){var a=x.$$p||n,b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),g=0;g<b;g++)d[g]=arguments[g+0];x.$$p=null;!1!==a&&a!==n||c.get("Kernel").$raise(c.get("ArgumentError"),"no block given");var b=a.$$s,m;a.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{m=a.apply(this,d)}finally{this.$$eval=
	!1}}else m=a.apply(this,d);a.$$s=b;return m});a.defn(d,"$singleton_method_added",function(){return n});a.defn(d,"$singleton_method_removed",function(){return n});a.defn(d,"$singleton_method_undefined",function(){return n});return(a.defn(d,"$method_missing",y=function(a){var b,d=arguments.length-1;0>d&&(d=0);for(var g=Array(d),m=0;m<d;m++)g[m]=arguments[m+1];y.$$p=null;return c.get("Kernel").$raise(c.get("NoMethodError").$new((b=this.$inspect&&!this.$inspect.$$stub)===n||b.$$is_boolean&&1!=b?"undefined method `"+
	a+"' for "+this.$$class:"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class,a))}),n)&&"method_missing"}(a.base,null)};
	Opal.modules["corelib/kernel"]=function(a){function n(a,d){return"number"===typeof a&&"number"===typeof d?a<=d:a["$<="](d)}a.dynamic_require_severity="warning";var q=a.nil,l=a.breaker,f=a.module,k=a.gvars,d=a.hash2,c=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $to_proc $singleton_class $initialize_dup $for $each $reverse $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $> $print $format $puts $<= $empty? $exception $kind_of? $respond_to_missing? $try_convert! $expand_path $join $start_with? $sym $arg $include".split(" "));(function(b){b=
	f(b,"Kernel");var c=b.$$scope,x,y,t,p,r,g,m,u,A;a.defn(b,"$method_missing",x=function(a){var h=arguments.length-1;0>h&&(h=0);for(var e=Array(h),b=0;b<h;b++)e[b]=arguments[b+1];x.$$p=null;return this.$raise(c.get("NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,e))});a.defn(b,"$=~",function(a){return!1});a.defn(b,"$!~",function(a){return this["$=~"](a)["$!"]()});a.defn(b,"$===",function(a){var h;return!1!==(h=this.$object_id()["$=="](a.$object_id()))&&h!==q?h:this["$=="](a)});
	a.defn(b,"$<=>",function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==q?0:q});a.defn(b,"$method",function(a){var h=this["$"+a];h&&!h.$$stub||this.$raise(c.get("NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return c.get("Method").$new(this,h,a)});a.defn(b,"$methods",function(b){null==b&&(b=!0);var h=[],e;for(e in this)"$"==e[0]&&"function"===typeof this[e]&&(0!=b&&b!==q||a.hasOwnProperty.call(this,e))&&void 0===this[e].$$stub&&h.push(e.substr(1));return h});
	a.alias(b,"public_methods","methods");a.defn(b,"$Array",function(a){var h;if(a===q)return[];if(a.$$is_array)return a;h=c.get("Opal")["$coerce_to?"](a,c.get("Array"),"to_ary");if(h!==q)return h;h=c.get("Opal")["$coerce_to?"](a,c.get("Array"),"to_a");return h!==q?h:[a]});a.defn(b,"$at_exit",y=function(){var a,h=y.$$p||q;null==k.__at_exit__&&(k.__at_exit__=q);y.$$p=null;!1!==(a=k.__at_exit__)&&a!==q?a:k.__at_exit__=[];return k.__at_exit__["$<<"](h)});a.defn(b,"$caller",function(){return[]});a.defn(b,
	"$class",function(){return this.$$class});a.defn(b,"$copy_instance_variables",function(a){for(var h in a)"$"!==h.charAt(0)&&(this[h]=a[h])});a.defn(b,"$copy_singleton_methods",function(b){var h;if(b.hasOwnProperty("$$meta")){var e=a.get_singleton_class(b).$$proto,g=a.get_singleton_class(this).$$proto;for(h in e)"$"===h.charAt(0)&&e.hasOwnProperty(h)&&(g[h]=e[h])}for(h in b)"$"===h.charAt(0)&&"$"!==h.charAt(1)&&b.hasOwnProperty(h)&&(this[h]=b[h])});a.defn(b,"$clone",function(){var a=q,a=this.$class().$allocate();
	a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(b,"$initialize_clone",function(a){return this.$initialize_copy(a)});a.defn(b,"$define_singleton_method",t=function(a,h){var e,b,g=t.$$p||q;t.$$p=null;return(e=(b=this.$singleton_class()).$define_method,e.$$p=g.$to_proc(),e).call(b,a,h)});a.defn(b,"$dup",function(){var a=q,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a});a.defn(b,"$initialize_dup",
	function(a){return this.$initialize_copy(a)});a.defn(b,"$enum_for",p=function(b){var h,e,g=p.$$p||q,d=arguments.length-1;0>d&&(d=0);for(var m=Array(d),u=0;u<d;u++)m[u]=arguments[u+1];null==b&&(b="each");p.$$p=null;return(h=(e=c.get("Enumerator")).$for,h.$$p=g.$to_proc(),h).apply(e,[this,b].concat(a.to_a(m)))});a.alias(b,"to_enum","enum_for");a.defn(b,"$equal?",function(a){return this===a});a.defn(b,"$exit",function(b){var h,e;null==k.__at_exit__&&(k.__at_exit__=q);null==b&&(b=!0);(h=k.__at_exit__)===
	q||h.$$is_boolean&&1!=h||(h=(e=k.__at_exit__.$reverse()).$each,h.$$p="call".$to_proc(),h).call(e);(h=!0===b)===q||h.$$is_boolean&&1!=h||(b=0);a.exit(b);return q});a.defn(b,"$extend",function(){var a=arguments.length-0;0>a&&(a=0);for(var h=Array(a),e=0;e<a;e++)h[e]=arguments[e+0];a=this.$singleton_class();for(e=h.length-1;0<=e;e--){var b=h[e];b.$append_features(a);b.$extended(this)}return this});a.defn(b,"$format",function(a){function h(){G&32&&O.$raise(c.get("ArgumentError"),"flag after width");G&
	128&&O.$raise(c.get("ArgumentError"),"flag after precision")}function e(){G&32&&O.$raise(c.get("ArgumentError"),"width given twice");G&128&&O.$raise(c.get("ArgumentError"),"width after precision")}function b(a){a>=A.length&&O.$raise(c.get("ArgumentError"),"too few arguments");return A[a]}function g(){switch(W){case -1:O.$raise(c.get("ArgumentError"),"unnumbered("+da+") mixed with numbered");case -2:O.$raise(c.get("ArgumentError"),"unnumbered("+da+") mixed with named")}W=da++;return b(W-1)}function d(a){0<
	W&&O.$raise(c.get("ArgumentError"),"numbered("+a+") after unnumbered("+W+")");-2===W&&O.$raise(c.get("ArgumentError"),"numbered("+a+") after named");1>a&&O.$raise(c.get("ArgumentError"),"invalid index - "+a+"$");W=-1;return b(a-1)}function m(){return void 0===S?g():S}function I(e){var h;for(h="";;p++){p===r&&O.$raise(c.get("ArgumentError"),"malformed format string - %*[0-9]");if(48>a.charCodeAt(p)||57<a.charCodeAt(p))return p--,h=parseInt(h,10)||0,2147483647<h&&O.$raise(c.get("ArgumentError"),""+
	e+" too big"),h;h+=a.charAt(p)}}function v(e){e=I(e);"$"===a.charAt(p+1)?(p++,e=d(e)):e=g();return e.$to_int()}var B,O=this,u=q;null==k.DEBUG&&(k.DEBUG=q);u=arguments.length-1;0>u&&(u=0);for(var A=Array(u),f=0;f<u;f++)A[f]=arguments[f+1];(B=A.$length()["$=="](1)?A["$[]"](0)["$respond_to?"]("to_ary"):A.$length()["$=="](1))!==q&&(!B.$$is_boolean||1==B)&&(u=c.get("Opal")["$coerce_to?"](A["$[]"](0),c.get("Array"),"to_ary"),(B=u["$nil?"]())===q||B.$$is_boolean&&1!=B)&&(A=u.$to_a());B="";var u=0,p,r=a.length,
	n,l,t,x,y,K,R,Z,aa,S,da=1,W=0,G;for(p=a.indexOf("%");-1!==p;p=a.indexOf("%",p)){l=void 0;G=0;y=x=-1;S=void 0;f=p;p++;switch(a.charAt(p)){case "%":u=p;case "":case "\n":case "\x00":p++;continue}a:for(;p<r;p++)switch(a.charAt(p)){case " ":h();G|=16;continue a;case "#":h();G|=1;continue a;case "+":h();G|=4;continue a;case "-":h();G|=2;continue a;case "0":h();G|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":n=I("width");if("$"===a.charAt(p+1)){if(p+2===
	r){l="%";p++;break a}void 0!==S&&O.$raise(c.get("ArgumentError"),"value given twice - %"+n+"$");S=d(n);p++}else e(),G|=32,x=n;continue a;case "<":case "{":for(t="<"===a.charAt(p)?">":"}",n="",p++;;p++){p===r&&O.$raise(c.get("ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(p)===t)if(0<W&&O.$raise(c.get("ArgumentError"),"named "+n+" after unnumbered("+W+")"),-1===W&&O.$raise(c.get("ArgumentError"),"named "+n+" after numbered"),W=-2,void 0!==A[0]&&A[0].$$is_hash||O.$raise(c.get("ArgumentError"),
	"one hash required"),S=A[0].$fetch(n),">"===t)continue a;else{l=S.toString();-1!==y&&(l=l.slice(0,y));if(G&2)for(;l.length<x;)l+=" ";else for(;l.length<x;)l=" "+l;break a}n+=a.charAt(p)}case "*":p++;e();G|=32;x=v("width");0>x&&(G|=2,x=-x);continue a;case ".":G&128&&O.$raise(c.get("ArgumentError"),"precision given twice");G|=192;y=0;p++;if("*"===a.charAt(p)){p++;y=v("precision");0>y&&(G&=-65);continue a}y=I("precision");continue a;case "d":case "i":case "u":n=O.$Integer(m());if(0<=n){for(l=n.toString();l.length<
	y;)l="0"+l;if(G&2){if(G&4||G&16)l=(G&4?"+":" ")+l;for(;l.length<x;)l+=" "}else if(G&8&&-1===y){for(;l.length<x-(G&4||G&16?1:0);)l="0"+l;if(G&4||G&16)l=(G&4?"+":" ")+l}else{if(G&4||G&16)l=(G&4?"+":" ")+l;for(;l.length<x;)l=" "+l}}else{for(l=(-n).toString();l.length<y;)l="0"+l;if(G&2)for(l="-"+l;l.length<x;)l+=" ";else if(G&8&&-1===y){for(;l.length<x-1;)l="0"+l;l="-"+l}else for(l="-"+l;l.length<x;)l=" "+l}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(p)){case "b":case "B":K=2;
	R="0b";Z=/^1+/;aa="1";break;case "o":K=8;R="0";Z=/^3?7+/;aa="7";break;case "x":case "X":K=16,R="0x",Z=/^f+/,aa="f"}n=O.$Integer(m());if(0<=n){for(l=n.toString(K);l.length<y;)l="0"+l;if(G&2){if(G&4||G&16)l=(G&4?"+":" ")+l;for(G&1&&0!==n&&(l=R+l);l.length<x;)l+=" "}else if(G&8&&-1===y){for(;l.length<x-(G&4||G&16?1:0)-(G&1&&0!==n?R.length:0);)l="0"+l;G&1&&0!==n&&(l=R+l);if(G&4||G&16)l=(G&4?"+":" ")+l}else{G&1&&0!==n&&(l=R+l);if(G&4||G&16)l=(G&4?"+":" ")+l;for(;l.length<x;)l=" "+l}}else if(G&4||G&16){for(l=
	(-n).toString(K);l.length<y;)l="0"+l;if(G&2)for(G&1&&(l=R+l),l="-"+l;l.length<x;)l+=" ";else if(G&8&&-1===y){for(;l.length<x-1-(G&1?2:0);)l="0"+l;G&1&&(l=R+l);l="-"+l}else for(G&1&&(l=R+l),l="-"+l;l.length<x;)l=" "+l}else{for(l=(n>>>0).toString(K).replace(Z,aa);l.length<y-2;)l=aa+l;if(G&2)for(l=".."+l,G&1&&(l=R+l);l.length<x;)l+=" ";else if(G&8&&-1===y){for(;l.length<x-2-(G&1?R.length:0);)l=aa+l;l=".."+l;G&1&&(l=R+l)}else for(l=".."+l,G&1&&(l=R+l);l.length<x;)l=" "+l}a.charAt(p)===a.charAt(p).toUpperCase()&&
	(l=l.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":n=O.$Float(m());if(0<=n||isNaN(n)){if(Infinity===n)l="Inf";else switch(a.charAt(p)){case "f":l=n.toFixed(-1===y?6:y);break;case "e":case "E":l=n.toExponential(-1===y?6:y);break;case "g":case "G":l=n.toExponential(),t=parseInt(l.split("e")[1],10),-4>t||t>=(-1===y?6:y)||(l=n.toPrecision(-1===y?G&1?6:void 0:y))}if(G&2){if(G&4||G&16)l=(G&4?"+":" ")+l;for(;l.length<x;)l+=" "}else if(G&8&&Infinity!==n&&!isNaN(n)){for(;l.length<x-(G&
	4||G&16?1:0);)l="0"+l;if(G&4||G&16)l=(G&4?"+":" ")+l}else{if(G&4||G&16)l=(G&4?"+":" ")+l;for(;l.length<x;)l=" "+l}}else{if(-Infinity===n)l="Inf";else switch(a.charAt(p)){case "f":l=(-n).toFixed(-1===y?6:y);break;case "e":case "E":l=(-n).toExponential(-1===y?6:y);break;case "g":case "G":l=(-n).toExponential(),t=parseInt(l.split("e")[1],10),-4>t||t>=(-1===y?6:y)||(l=(-n).toPrecision(-1===y?G&1?6:void 0:y))}if(G&2)for(l="-"+l;l.length<x;)l+=" ";else if(G&8&&-Infinity!==n){for(;l.length<x-1;)l="0"+l;
	l="-"+l}else for(l="-"+l;l.length<x;)l=" "+l}a.charAt(p)!==a.charAt(p).toUpperCase()||Infinity===n||-Infinity===n||isNaN(n)||(l=l.toUpperCase());l=l.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":O.$raise(c.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case "c":n=m();n["$respond_to?"]("to_ary")&&(n=n.$to_ary()[0]);l=n["$respond_to?"]("to_str")?n.$to_str():String.fromCharCode(c.get("Opal").$coerce_to(n,c.get("Integer"),"to_int"));1!==
	l.length&&O.$raise(c.get("ArgumentError"),"%c requires a character");if(G&2)for(;l.length<x;)l+=" ";else for(;l.length<x;)l=" "+l;break a;case "p":l=m().$inspect();-1!==y&&(l=l.slice(0,y));if(G&2)for(;l.length<x;)l+=" ";else for(;l.length<x;)l=" "+l;break a;case "s":l=m().$to_s();-1!==y&&(l=l.slice(0,y));if(G&2)for(;l.length<x;)l+=" ";else for(;l.length<x;)l=" "+l;break a;default:O.$raise(c.get("ArgumentError"),"malformed format string - %"+a.charAt(p))}void 0===l&&O.$raise(c.get("ArgumentError"),
	"malformed format string - %");B+=a.slice(u,f)+l;u=p+1}k.DEBUG&&0<=W&&da<A.length&&O.$raise(c.get("ArgumentError"),"too many arguments for format string");return B+a.slice(u)});a.defn(b,"$hash",function(){return""+this.$class()+":"+this.$class().$__id__()+":"+this.$__id__()});a.defn(b,"$initialize_copy",function(a){return q});a.defn(b,"$inspect",function(){return this.$to_s()});a.defn(b,"$instance_of?",function(a){a.$$is_class||a.$$is_module||this.$raise(c.get("TypeError"),"class or module required");
	return this.$$class===a});a.defn(b,"$instance_variable_defined?",function(b){b=c.get("Opal")["$instance_variable_name!"](b);return a.hasOwnProperty.call(this,b.substr(1))});a.defn(b,"$instance_variable_get",function(a){a=c.get("Opal")["$instance_variable_name!"](a);a=this[a.substr(1)];return null==a?q:a});a.defn(b,"$instance_variable_set",function(a,h){a=c.get("Opal")["$instance_variable_name!"](a);return this[a.substr(1)]=h});a.defn(b,"$instance_variables",function(){var a=[],h;for(h in this)"$"!==
	h.charAt(0)&&"$$class"!==h&&"$$id"!==h&&a.push("@"+h);return a});a.defn(b,"$Integer",function(a,h){var e=this,b,g;if(!a.$$is_string)return void 0!==h&&e.$raise(c.get("ArgumentError"),"base specified for non string value"),a===q&&e.$raise(c.get("TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&e.$raise(c.get("FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(b=a.$to_int(),b!==q)?b:c.get("Opal")["$coerce_to!"](a,c.get("Integer"),
	"to_i");void 0===h?h=0:(h=c.get("Opal").$coerce_to(h,c.get("Integer"),"to_int"),(1===h||0>h||36<h)&&e.$raise(c.get("ArgumentError"),"invalid radix "+h));b=a.toLowerCase();b=b.replace(/(\d)_(?=\d)/g,"$1");b=b.replace(/^(\s*[+-]?)(0[bodx]?)/,function(b,g,d){switch(d){case "0b":if(0===h||2===h)return h=2,g;case "0":case "0o":if(0===h||8===h)return h=8,g;case "0d":if(0===h||10===h)return h=10,g;case "0x":if(0===h||16===h)return h=16,g}e.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+
	'"')});h=0===h?10:h;g="0-"+(10>=h?h-1:"9a-"+String.fromCharCode(97+(h-11)));(new RegExp("^\\s*[+-]?["+g+"]+\\s*$")).test(b)||e.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');b=parseInt(b,h);isNaN(b)&&e.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');return b});a.defn(b,"$Float",function(a){var h;a===q&&this.$raise(c.get("TypeError"),"can't convert nil into Float");if(a.$$is_string){h=a.toString();h=h.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(h))return this.$Integer(h);
	/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(h)||this.$raise(c.get("ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(h)}return c.get("Opal")["$coerce_to!"](a,c.get("Float"),"to_f")});a.defn(b,"$Hash",function(a){var h,e;return(h=!1!==(e=a["$nil?"]())&&e!==q?e:a["$=="]([]))===q||h.$$is_boolean&&1!=h?(h=c.get("Hash")["$==="](a))===q||h.$$is_boolean&&1!=h?c.get("Opal")["$coerce_to!"](a,c.get("Hash"),"to_hash"):a:d([],{})});a.defn(b,"$is_a?",function(b){b.$$is_class||b.$$is_module||
	this.$raise(c.get("TypeError"),"class or module required");return a.is_a(this,b)});a.alias(b,"kind_of?","is_a?");a.defn(b,"$lambda",r=function(){var a=r.$$p||q;r.$$p=null;a.$$is_lambda=!0;return a});a.defn(b,"$load",function(b){b=c.get("Opal")["$coerce_to!"](b,c.get("String"),"to_str");return a.load(b)});a.defn(b,"$loop",g=function(){var a=g.$$p||q;for(g.$$p=null;;)if(a()===l)return l.$v});a.defn(b,"$nil?",function(){return!1});a.alias(b,"object_id","__id__");a.defn(b,"$printf",function(){var b=arguments.length-
	0;0>b&&(b=0);for(var h=Array(b),e=0;e<b;e++)h[e]=arguments[e+0];b=h.$length();("number"===typeof b?0<b:b["$>"](0))&&this.$print(this.$format.apply(this,a.to_a(h)));return q});a.defn(b,"$proc",m=function(){var a=m.$$p||q;m.$$p=null;!1!==a&&a!==q||this.$raise(c.get("ArgumentError"),"tried to create Proc object without a block");a.$$is_lambda=!1;return a});a.defn(b,"$puts",function(){var b;null==k.stdout&&(k.stdout=q);var h=arguments.length-0;0>h&&(h=0);for(var e=Array(h),g=0;g<h;g++)e[g]=arguments[g+
	0];return(b=k.stdout).$puts.apply(b,a.to_a(e))});a.defn(b,"$p",function(){var a,b,e=arguments.length-0;0>e&&(e=0);for(var g=Array(e),d=0;d<e;d++)g[d]=arguments[d+0];(a=g.$each,a.$$p=(b=function(a){null==k.stdout&&(k.stdout=q);null==a&&(a=q);return k.stdout.$puts(a.$inspect())},b.$$s=this,b),a).call(g);return n(g.$length(),1)?g["$[]"](0):g});a.defn(b,"$print",function(){var b;null==k.stdout&&(k.stdout=q);var h=arguments.length-0;0>h&&(h=0);for(var e=Array(h),g=0;g<h;g++)e[g]=arguments[g+0];return(b=
	k.stdout).$print.apply(b,a.to_a(e))});a.defn(b,"$warn",function(){var b,h;null==k.VERBOSE&&(k.VERBOSE=q);null==k.stderr&&(k.stderr=q);var e=arguments.length-0;0>e&&(e=0);for(var g=Array(e),d=0;d<e;d++)g[d]=arguments[d+0];return(b=!1!==(h=k.VERBOSE["$nil?"]())&&h!==q?h:g["$empty?"]())===q||b.$$is_boolean&&1!=b?(b=k.stderr).$puts.apply(b,a.to_a(g)):q});a.defn(b,"$raise",function(b,h,e){null==k["!"]&&(k["!"]=q);null==h&&(h=q);if(null==b&&k["!"]!==q)throw k["!"];null==b?b=c.get("RuntimeError").$new():
	b.$$is_string?b=c.get("RuntimeError").$new(b):b.$$is_class&&b["$respond_to?"]("exception")?b=b.$exception(h):b["$kind_of?"](c.get("Exception"))||(b=c.get("TypeError").$new("exception class/object expected"));k["!"]!==q&&a.exceptions.push(k["!"]);k["!"]=b;throw b;});a.alias(b,"fail","raise");a.defn(b,"$rand",function(a){if(void 0===a)return Math.random();if(a.$$is_range){var b=a.begin,e=a.end-b;a.exclude||e++;return this.$rand(e)+b}return Math.floor(Math.random()*Math.abs(c.get("Opal").$coerce_to(a,
	c.get("Integer"),"to_int")))});a.defn(b,"$respond_to?",function(a,b){var e;null==b&&(b=!1);if((e=this["$respond_to_missing?"](a,b))!==q&&(!e.$$is_boolean||1==e))return!0;e=this["$"+a];return"function"!==typeof e||e.$$stub?!1:!0});a.defn(b,"$respond_to_missing?",function(a,b){return!1});a.defn(b,"$require",function(b){b=c.get("Opal")["$coerce_to!"](b,c.get("String"),"to_str");return a.require(b)});a.defn(b,"$require_relative",function(b){c.get("Opal")["$try_convert!"](b,c.get("String"),"to_str");b=
	c.get("File").$expand_path(c.get("File").$join(a.current_file,"..",b));return a.require(b)});a.defn(b,"$require_tree",function(b){b=c.get("File").$expand_path(b);b["$=="](".")&&(b="");for(var h in a.modules)h["$start_with?"](b)&&a.require(h);return q});a.alias(b,"send","__send__");a.alias(b,"public_send","__send__");a.defn(b,"$singleton_class",function(){return a.get_singleton_class(this)});a.defn(b,"$sleep",function(a){null==a&&(a=q);a===q&&this.$raise(c.get("TypeError"),"can't convert NilClass into time interval");
	a.$$is_number||this.$raise(c.get("TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(c.get("ArgumentError"),"time interval must be positive");for(var b=new Date;new Date-b<=1E3*a;);return a});a.alias(b,"sprintf","format");a.alias(b,"srand","rand");a.defn(b,"$String",function(a){var b;return!1!==(b=c.get("Opal")["$coerce_to?"](a,c.get("String"),"to_str"))&&b!==q?b:c.get("Opal")["$coerce_to!"](a,c.get("String"),"to_s")});a.defn(b,"$tap",u=function(){var b=u.$$p||q;u.$$p=
	null;return a.yield1(b,this)===l?l.$v:this});a.defn(b,"$to_proc",function(){return this});a.defn(b,"$to_s",function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"});a.defn(b,"$catch",A=function(b){var h,e=A.$$p||q,g=q;A.$$p=null;try{return h=a.yieldX(e,[]),h}catch(d){if(a.rescue(d,[c.get("UncaughtThrowError")])){g=d;try{return g.$sym()["$=="](b)?g.$arg():this.$raise()}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw d;}});a.defn(b,"$throw",function(){var a=arguments.length-
	0;0>a&&(a=0);for(var b=Array(a),e=0;e<a;e++)b[e]=arguments[e+0];return this.$raise(c.get("UncaughtThrowError").$new(b))})})(a.base);return function(a,$super){function d(){}var f=d=c(a,$super,"Object",d);return f.$include(f.$$scope.get("Kernel"))}(a.base,null)};
	Opal.modules["corelib/error"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass,l=a.module;a.add_stubs("$new $clone $to_s $empty? $class $attr_reader $[] $> $length $inspect".split(" "));(function(f,$super){function d(){}var c=d=q(f,$super,"Exception",d);c.$$proto.message=n;a.defs(c,"$new",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),c=0;c<a;c++)d[c]=arguments[c+0];a=new this.$$alloc(0<d.length?d[0]:n);Error.captureStackTrace&&Error.captureStackTrace(a);a.name=
	this.$$name;a.$initialize.apply(a,d);return a});a.defs(c,"$exception",function(){var b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),c=0;c<b;c++)d[c]=arguments[c+0];return this.$new.apply(this,a.to_a(d))});a.defn(c,"$initialize",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),c=0;c<a;c++)d[c]=arguments[c+0];return this.message=0<d.length?d[0]:n});a.defn(c,"$backtrace",function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]});a.defn(c,
	"$exception",function(a){null==a&&(a=n);if(a===n||this===a)return this;var d=this.$clone();d.message=a;return d});a.defn(c,"$message",function(){return this.$to_s()});a.defn(c,"$inspect",function(){var a,d=n,d=this.$to_s();return(a=d["$empty?"]())===n||a.$$is_boolean&&1!=a?"#<"+this.$class().$to_s()+": "+this.$to_s()+">":this.$class().$to_s()});return(a.defn(c,"$to_s",function(){var a,d;return!1!==(a=(d=this.message,!1!==d&&d!==n?this.message.$to_s():d))&&a!==n?a:this.$class().$to_s()}),n)&&"to_s"})(a.base,
	Error);(function(a,$super){function d(){}d=q(a,$super,"ScriptError",d);return n})(a.base,a.get("Exception"));(function(a,$super){function d(){}d=q(a,$super,"SyntaxError",d);return n})(a.base,a.get("ScriptError"));(function(a,$super){function d(){}d=q(a,$super,"LoadError",d);return n})(a.base,a.get("ScriptError"));(function(a,$super){function d(){}d=q(a,$super,"NotImplementedError",d);return n})(a.base,a.get("ScriptError"));(function(a,$super){function d(){}d=q(a,$super,"SystemExit",d);return n})(a.base,
	a.get("Exception"));(function(a,$super){function d(){}d=q(a,$super,"NoMemoryError",d);return n})(a.base,a.get("Exception"));(function(a,$super){function d(){}d=q(a,$super,"SignalException",d);return n})(a.base,a.get("Exception"));(function(a,$super){function d(){}d=q(a,$super,"Interrupt",d);return n})(a.base,a.get("Exception"));(function(a,$super){function d(){}d=q(a,$super,"SecurityError",d);return n})(a.base,a.get("Exception"));(function(a,$super){function d(){}d=q(a,$super,"StandardError",d);return n})(a.base,
	a.get("Exception"));(function(a,$super){function d(){}d=q(a,$super,"ZeroDivisionError",d);return n})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=q(a,$super,"NameError",d);return n})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=q(a,$super,"NoMethodError",d);return n})(a.base,a.get("NameError"));(function(a,$super){function d(){}d=q(a,$super,"RuntimeError",d);return n})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=q(a,$super,"LocalJumpError",
	d);return n})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=q(a,$super,"TypeError",d);return n})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=q(a,$super,"ArgumentError",d);return n})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=q(a,$super,"IndexError",d);return n})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=q(a,$super,"StopIteration",d);return n})(a.base,a.get("IndexError"));(function(a,$super){function d(){}
	d=q(a,$super,"KeyError",d);return n})(a.base,a.get("IndexError"));(function(a,$super){function d(){}d=q(a,$super,"RangeError",d);return n})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=q(a,$super,"FloatDomainError",d);return n})(a.base,a.get("RangeError"));(function(a,$super){function d(){}d=q(a,$super,"IOError",d);return n})(a.base,a.get("StandardError"));(function(a,$super){function d(){}d=q(a,$super,"SystemCallError",d);return n})(a.base,a.get("StandardError"));(function(f){f=
	l(f,"Errno").$$scope;(function(f,$super){function c(){}var b=c=q(f,$super,"EINVAL",c),l;return(a.defs(b,"$new",l=function(){l.$$p=null;return a.find_super_dispatcher(this,"new",l,null,c).apply(this,["Invalid argument"])}),n)&&"new"})(f.base,f.get("SystemCallError"))})(a.base);(function(f,$super){function d(){}var c=d=q(f,$super,"UncaughtThrowError",d),b;c.$$proto.sym=n;c.$attr_reader("sym","arg");return(a.defn(c,"$initialize",b=function(d){b.$$p=null;this.sym=d["$[]"](0);var c=d.$length();if("number"===
	typeof c?1<c:c["$>"](1))this.arg=d["$[]"](1);return a.find_super_dispatcher(this,"initialize",b,null).apply(this,["uncaught throw "+this.sym.$inspect()])}),n)&&"initialize"})(a.base,a.get("ArgumentError"));(function(f,$super){function d(){}var c=d=q(f,$super,"NameError",d),b;c.$attr_reader("name");return(a.defn(c,"$initialize",b=function(d,c){null==c&&(c=n);b.$$p=null;a.find_super_dispatcher(this,"initialize",b,null).apply(this,[d]);return this.name=c}),n)&&"initialize"})(a.base,null);return function(f,
	$super){function d(){}var c=d=q(f,$super,"NoMethodError",d),b;c.$attr_reader("args");return(a.defn(c,"$initialize",b=function(d,c,f){null==f&&(f=[]);b.$$p=null;a.find_super_dispatcher(this,"initialize",b,null).apply(this,[d,c]);return this.args=f}),n)&&"initialize"}(a.base,null)};
	Opal.modules["corelib/constants"]=function(a){a.dynamic_require_severity="warning";a.cdecl(a,"RUBY_PLATFORM","opal");a.cdecl(a,"RUBY_ENGINE","opal");a.cdecl(a,"RUBY_VERSION","2.1.5");a.cdecl(a,"RUBY_ENGINE_VERSION","0.9.0.beta2");a.cdecl(a,"RUBY_RELEASE_DATE","2015-11-06");a.cdecl(a,"RUBY_PATCHLEVEL",0);a.cdecl(a,"RUBY_REVISION",0);a.cdecl(a,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return a.cdecl(a,"RUBY_DESCRIPTION","opal "+a.get("RUBY_ENGINE_VERSION")+" ("+a.get("RUBY_RELEASE_DATE")+
	" revision "+a.get("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(a){a.dynamic_require_severity="warning";var n=a.top;a.add_stubs(["$require"]);n.$require("corelib/runtime");n.$require("corelib/helpers");n.$require("corelib/module");n.$require("corelib/class");n.$require("corelib/basic_object");n.$require("corelib/kernel");n.$require("corelib/error");return n.$require("corelib/constants")};
	Opal.modules["corelib/nil"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass;a.add_stubs("$raise $class $new $> $length $Rational".split(" "));(function(l,$super){function k(){}var d=k=q(l,$super,"NilClass",k),c=d.$$scope;d.$$proto.$$meta=d;a.defn(d,"$!",function(){return!0});a.defn(d,"$&",function(a){return!1});a.defn(d,"$|",function(a){return!1!==a&&a!==n});a.defn(d,"$^",function(a){return!1!==a&&a!==n});a.defn(d,"$==",function(a){return a===n});a.defn(d,"$dup",function(){return this.$raise(c.get("TypeError"),
	"can't dup "+this.$class())});a.defn(d,"$clone",function(){return this.$raise(c.get("TypeError"),"can't clone "+this.$class())});a.defn(d,"$inspect",function(){return"nil"});a.defn(d,"$nil?",function(){return!0});a.defn(d,"$singleton_class",function(){return c.get("NilClass")});a.defn(d,"$to_a",function(){return[]});a.defn(d,"$to_h",function(){return a.hash()});a.defn(d,"$to_i",function(){return 0});a.alias(d,"to_f","to_i");a.defn(d,"$to_s",function(){return""});a.defn(d,"$to_c",function(){return c.get("Complex").$new(0,
	0)});a.defn(d,"$rationalize",function(){var a=arguments.length-0;0>a&&(a=0);for(var d=Array(a),k=0;k<a;k++)d[k]=arguments[k+0];a=d.$length();("number"===typeof a?1<a:a["$>"](1))&&this.$raise(c.get("ArgumentError"));return this.$Rational(0,1)});return(a.defn(d,"$to_r",function(){return this.$Rational(0,1)}),n)&&"to_r"})(a.base,null);return a.cdecl(a,"NIL",n)};
	Opal.modules["corelib/boolean"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass;a.add_stubs(["$raise","$class"]);(function(l,$super){function k(){}var d=k=q(l,$super,"Boolean",k),c=d.$$proto,b=d.$$scope;c.$$is_boolean=!0;c.$$meta=d;a.defn(d,"$__id__",function(){return this.valueOf()?2:0});a.alias(d,"object_id","__id__");a.defn(d,"$!",function(){return 1!=this});a.defn(d,"$&",function(a){return 1==this?!1!==a&&a!==n:!1});a.defn(d,"$|",function(a){return 1==this?!0:!1!==a&&a!==
	n});a.defn(d,"$^",function(a){return 1==this?!1===a||a===n:!1!==a&&a!==n});a.defn(d,"$==",function(a){return 1==this===a.valueOf()});a.alias(d,"equal?","==");a.alias(d,"eql?","==");a.defn(d,"$singleton_class",function(){return b.get("Boolean")});a.defn(d,"$to_s",function(){return 1==this?"true":"false"});a.defn(d,"$dup",function(){return this.$raise(b.get("TypeError"),"can't dup "+this.$class())});return(a.defn(d,"$clone",function(){return this.$raise(b.get("TypeError"),"can't clone "+this.$class())}),
	n)&&"clone"})(a.base,Boolean);a.cdecl(a,"TrueClass",a.get("Boolean"));a.cdecl(a,"FalseClass",a.get("Boolean"));a.cdecl(a,"TRUE",!0);return a.cdecl(a,"FALSE",!1)};
	Opal.modules["corelib/comparable"]=function(a){function n(a,d){return"number"===typeof a&&"number"===typeof d?a>d:a["$>"](d)}function q(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}a.dynamic_require_severity="warning";var l=a.nil,f=a.module;a.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(k){k=f(k,"Comparable");var d=k.$$scope;a.defs(k,"$normalize",function(a){var b;return(b=d.get("Integer")["$==="](a))===l||b.$$is_boolean&&1!=b?n(a,
	0)?1:q(a,0)?-1:0:a});a.defn(k,"$==",function(c){var b,f=l;try{return(b=this["$equal?"](c))===l||b.$$is_boolean&&1!=b?this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):(b=f=this["$<=>"](c))===l||b.$$is_boolean&&1!=b?!1:0==d.get("Comparable").$normalize(f):!0}catch(k){if(a.rescue(k,[d.get("StandardError")]))try{return!1}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw k;}});a.defn(k,"$>",function(a){var b,f=l;((b=f=this["$<=>"](a))===l||b.$$is_boolean&&1!=b)&&
	this.$raise(d.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<d.get("Comparable").$normalize(f)});a.defn(k,"$>=",function(a){var b,f=l;((b=f=this["$<=>"](a))===l||b.$$is_boolean&&1!=b)&&this.$raise(d.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=d.get("Comparable").$normalize(f)});a.defn(k,"$<",function(a){var b,f=l;((b=f=this["$<=>"](a))===l||b.$$is_boolean&&1!=b)&&this.$raise(d.get("ArgumentError"),"comparison of "+
	this.$class()+" with "+a.$class()+" failed");return 0>d.get("Comparable").$normalize(f)});a.defn(k,"$<=",function(a){var b,f=l;((b=f=this["$<=>"](a))===l||b.$$is_boolean&&1!=b)&&this.$raise(d.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=d.get("Comparable").$normalize(f)});a.defn(k,"$between?",function(a,b){return q(this,a)||n(this,b)?!1:!0})}(a.base)};
	Opal.modules["corelib/regexp"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.slice,l=a.klass,f=a.gvars;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $call $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(a,$super){function c(){}c=l(a,$super,"RegexpError",c);return n})(a.base,a.get("StandardError"));(function(k,$super){function c(){}var b=c=l(k,$super,"Regexp",c),D=b.$$proto,x=b.$$scope,y;a.cdecl(x,
	"IGNORECASE",1);a.cdecl(x,"MULTILINE",4);D.$$is_regexp=!0;(function(b){var c=b.$$scope,k;a.defn(b,"$allocate",k=function(){var b=q.call(arguments,0),m=k.$$p,c=n;k.$$p=null;c=a.find_super_dispatcher(this,"allocate",k,m).apply(this,b);c.uninitialized=!0;return c});a.defn(b,"$escape",function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")});a.defn(b,"$last_match",function(a){var b;null==f["~"]&&(f["~"]=
	n);null==a&&(a=n);return(b=a["$nil?"]())===n||b.$$is_boolean&&1!=b?f["~"]["$[]"](a):f["~"]});a.alias(b,"quote","escape");a.defn(b,"$union",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),u=0;u<a;u++)b[u]=arguments[u+0];var A,f;if(0==b.length)return/(?!)/;a=b[0].$$is_array;1<b.length&&a&&this.$raise(c.get("TypeError"),"no implicit conversion of Array into String");a&&(b=b[0]);A=void 0;for(var a=[],h=0;h<b.length;h++)u=b[h],u.$$is_string?a.push(this.$escape(u)):u.$$is_regexp?(f=u.$options(),
	void 0!=A&&A!=f&&this.$raise(c.get("TypeError"),"All expressions must use the same options"),A=f,a.push("("+u.source+")")):a.push(this.$escape(u.$to_str()));return this.$new(a.$join("|"),A)});return(a.defn(b,"$new",function(a,b){if(a.$$is_regexp)return new RegExp(a);a=c.get("Opal")["$coerce_to!"](a,c.get("String"),"to_str");"\\"===a.charAt(a.length-1)&&this.$raise(c.get("RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);if(b.$$is_number){var u="";c.get("IGNORECASE")&
	b&&(u+="i");c.get("MULTILINE")&b&&(u+="m");b=u}else b="i";return new RegExp(a,b)}),n)&&"new"})(a.get_singleton_class(b));a.defn(b,"$==",function(a){return a.constructor==RegExp&&this.toString()===a.toString()});a.defn(b,"$===",function(a){return this.$match(x.get("Opal")["$coerce_to?"](a,x.get("String"),"to_str"))!==n});a.defn(b,"$=~",function(a){var b;null==f["~"]&&(f["~"]=n);return b=this.$match(a),!1!==b&&b!==n?f["~"].$begin(0):b});a.alias(b,"eql?","==");a.defn(b,"$inspect",function(){return this.toString()});
	a.defn(b,"$match",y=function(a,b){var c=y.$$p||n;null==f["~"]&&(f["~"]=n);y.$$p=null;this.uninitialized&&this.$raise(x.get("TypeError"),"uninitialized Regexp");b=void 0===b?0:x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int");if(a===n)return f["~"]=n;a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str");if(0>b&&(b+=a.length,0>b))return f["~"]=n;var g=this.source,m="g";this.multiline&&(g=g.replace(".","[\\s\\S]"),m+="m");for(m=new RegExp(g,m+(this.ignoreCase?"i":""));;){g=m.exec(a);if(null===g)return f["~"]=
	n;if(g.index>=b)return f["~"]=x.get("MatchData").$new(m,g),c===n?f["~"]:c.$call(f["~"]);m.lastIndex=g.index+1}});a.defn(b,"$~",function(){null==f._&&(f._=n);return this["$=~"](f._)});a.defn(b,"$source",function(){return this.source});a.defn(b,"$options",function(){this.uninitialized&&this.$raise(x.get("TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=x.get("MULTILINE"));this.ignoreCase&&(a|=x.get("IGNORECASE"));return a});a.defn(b,"$casefold?",function(){return this.ignoreCase});return a.alias(b,
	"to_s","source")})(a.base,RegExp);return function(k,$super){function c(){}var b=c=l(k,$super,"MatchData",c),q=b.$$scope;b.$$proto.matches=n;b.$attr_reader("post_match","pre_match","regexp","string");a.defn(b,"$initialize",function(a,b){f["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var c=0,p=b.length;c<p;c++){var k=b[c];null==k?this.matches.push(n):this.matches.push(k)}});
	a.defn(b,"$[]",function(){var b,c=arguments.length-0;0>c&&(c=0);for(var f=Array(c),p=0;p<c;p++)f[p]=arguments[p+0];return(b=this.matches)["$[]"].apply(b,a.to_a(f))});a.defn(b,"$offset",function(a){0!==a&&this.$raise(q.get("ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]});a.defn(b,"$==",function(a){var b,c,f,k;return(b=q.get("MatchData")["$==="](a))===n||b.$$is_boolean&&1!=b?!1:(b=(c=(f=(k=this.string==a.string,!1!==k&&k!==n?this.regexp.toString()==
	a.regexp.toString():k),!1!==f&&f!==n?this.pre_match==a.pre_match:f),!1!==c&&c!==n?this.post_match==a.post_match:c),!1!==b&&b!==n?this.begin==a.begin:b)});a.alias(b,"eql?","==");a.defn(b,"$begin",function(a){0!==a&&this.$raise(q.get("ArgumentError"),"MatchData#begin only supports 0th element");return this.begin});a.defn(b,"$end",function(a){0!==a&&this.$raise(q.get("ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length});a.defn(b,"$captures",function(){return this.matches.slice(1)});
	a.defn(b,"$inspect",function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,c=this.matches.length;b<c;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"});a.defn(b,"$length",function(){return this.matches.length});a.alias(b,"size","length");a.defn(b,"$to_a",function(){return this.matches});a.defn(b,"$to_s",function(){return this.matches[0]});return(a.defn(b,"$values_at",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];for(var f,c=[],
	a=0;a<b.length;a++){b[a].$$is_range&&(f=b[a].$to_a(),f.unshift(a,1),Array.prototype.splice.apply(b,f));f=q.get("Opal")["$coerce_to!"](b[a],q.get("Integer"),"to_int");if(0>f&&(f+=this.matches.length,0>f)){c.push(n);continue}c.push(this.matches[f])}return c}),n)&&"values_at"}(a.base,null)};
	Opal.modules["corelib/string"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var l=a.top,f=a.nil,k=a.breaker,d=a.slice,c=a.klass,b=a.gvars;a.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $class $each_line $match $captures $proc $shift $__send__ $succ $escape".split(" "));
	l.$require("corelib/comparable");l.$require("corelib/regexp");(function(l,$super){function y(){}function t(a){function e(a){var b="",h,v=a.length,d,B;for(h=0;h<v;h++)if(d=a.charAt(h),"-"===d&&0<h&&h<v-1&&!B){B=a.charCodeAt(h-1);d=a.charCodeAt(h+1);B>d&&p.$raise(g.get("ArgumentError"),'invalid range "'+B+"-"+d+'" in string transliteration');for(B+=1;B<d+1;B++)b+=String.fromCharCode(B);B=!0;h++}else B="\\"===d,b+=d;return b}function b(a,e){if(0===a.length)return e;var h="",v,g=a.length,d;for(v=0;v<
	g;v++)d=a.charAt(v),-1!==e.indexOf(d)&&(h+=d);return h}var h,d,m,c,w="",u="";h=0;for(d=a.length;h<d;h++)m=g.get("Opal").$coerce_to(a[h],g.get("String"),"to_str"),c="^"===m.charAt(0)&&1<m.length,m=e(c?m.slice(1):m),c?u=b(u,m):w=b(w,m);if(0<w.length&&0<u.length){m="";h=0;for(d=w.length;h<d;h++)a=w.charAt(h),-1===u.indexOf(a)&&(m+=a);w=m;u=""}return 0<w.length?"["+g.get("Regexp").$escape(w)+"]":0<u.length?"[^"+g.get("Regexp").$escape(u)+"]":null}var p=y=c(l,$super,"String",y),r=p.$$proto,g=p.$$scope,
	m,u,A,z,h,e,w,E,C;r.length=f;p.$include(g.get("Comparable"));r.$$is_string=!0;a.defn(p,"$__id__",function(){return this.toString()});a.alias(p,"object_id","__id__");a.defs(p,"$try_convert",function(a){return g.get("Opal")["$coerce_to?"](a,g.get("String"),"to_str")});a.defs(p,"$new",function(a){null==a&&(a="");a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str");return new String(a)});a.defn(p,"$initialize",function(a){return void 0===a?this:this.$raise(g.get("NotImplementedError"),"Mutable strings are not supported in Opal.")});
	a.defn(p,"$%",function(e){var b;return(b=g.get("Array")["$==="](e))===f||b.$$is_boolean&&1!=b?this.$format(this,e):(b=this).$format.apply(b,[this].concat(a.to_a(e)))});a.defn(p,"$*",function(a){a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");0>a&&this.$raise(g.get("ArgumentError"),"negative argument");if(0===a)return"";var e="",b=this.toString();for(268435456<=b.length*a&&this.$raise(g.get("RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(e+=b);a>>>=1;if(0===
	a)break;b+=b}return e});a.defn(p,"$+",function(a){a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str");return this+a.$to_s()});a.defn(p,"$<=>",function(a){var e;if((e=a["$respond_to?"]("to_str"))===f||e.$$is_boolean&&1!=e)return a=a["$<=>"](this),a===f?f:0<a?-1:0>a?1:0;a=a.$to_str().$to_s();return this>a?1:this<a?-1:0});a.defn(p,"$==",function(a){return a.$$is_string?this.toString()===a.toString():g.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1});a.alias(p,"eql?","==");a.alias(p,"===",
	"==");a.defn(p,"$=~",function(a){a.$$is_string&&this.$raise(g.get("TypeError"),"type mismatch: String given");return a["$=~"](this)});a.defn(p,"$[]",function(a,e){var h=this.length,d;if(a.$$is_range){d=a.exclude;e=g.get("Opal").$coerce_to(a.end,g.get("Integer"),"to_int");a=g.get("Opal").$coerce_to(a.begin,g.get("Integer"),"to_int");if(Math.abs(a)>h)return f;0>a&&(a+=h);0>e&&(e+=h);d||(e+=1);e-=a;0>e&&(e=0);return this.substr(a,e)}if(a.$$is_string)return null!=e&&this.$raise(g.get("TypeError")),-1!==
	this.indexOf(a)?a:f;if(a.$$is_regexp){h=this.match(a);if(null===h)return b["~"]=f;b["~"]=g.get("MatchData").$new(a,h);if(null==e)return h[0];e=g.get("Opal").$coerce_to(e,g.get("Integer"),"to_int");return 0>e&&-e<h.length?h[e+h.length]:0<=e&&e<h.length?h[e]:f}a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");0>a&&(a+=h);if(null==e)return a>=h||0>a?f:this.substr(a,1);e=g.get("Opal").$coerce_to(e,g.get("Integer"),"to_int");return 0>e||a>h||0>a?f:this.substr(a,e)});a.alias(p,"byteslice","[]");a.defn(p,
	"$capitalize",function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()});a.defn(p,"$casecmp",function(a){var e=this;a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str").$to_s();var b=/^[\x00-\x7F]*$/;b.test(e)&&b.test(a)&&(e=e.toLowerCase(),a=a.toLowerCase());return e["$<=>"](a)});a.defn(p,"$center",function(a,e){var b;null==e&&(e=" ");a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");e=g.get("Opal").$coerce_to(e,g.get("String"),"to_str").$to_s();(b=e["$empty?"]())===f||
	b.$$is_boolean&&1!=b||this.$raise(g.get("ArgumentError"),"zero width padding");if((b=a<=this.length)!==f&&(!b.$$is_boolean||1==b))return this;b=this.$ljust(n(q(a,this.length),2).$ceil(),e);return this.$rjust(n(q(a,this.length),2).$floor(),e)+b.slice(this.length)});a.defn(p,"$chars",m=function(){var a,e=m.$$p||f;m.$$p=null;return!1===e||e===f?this.$each_char().$to_a():(a=this.$each_char,a.$$p=e.$to_proc(),a).call(this)});a.defn(p,"$chomp",function(a){var e;null==b["/"]&&(b["/"]=f);null==a&&(a=b["/"]);
	if((e=a===f||0===this.length)!==f&&(!e.$$is_boolean||1==e))return this;a=g.get("Opal")["$coerce_to!"](a,g.get("String"),"to_str").$to_s();return"\n"===a?this.replace(/\r?\n?$/,""):""===a?this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a?this.substr(0,this.length-a.length):this});a.defn(p,"$chop",function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)});a.defn(p,"$chr",function(){return this.charAt(0)});
	a.defn(p,"$clone",function(){var a=f,a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(p,"$dup",function(){var a=f,a=this.slice();a.$initialize_dup(this);return a});a.defn(p,"$count",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),b=0;b<a;b++)e[b]=arguments[b+0];0===e.length&&this.$raise(g.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");a=t(e);return null===a?0:this.length-this.replace(new RegExp(a,"g"),"").length});
	a.defn(p,"$delete",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),b=0;b<a;b++)e[b]=arguments[b+0];0===e.length&&this.$raise(g.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");a=t(e);return null===a?this:this.replace(new RegExp(a,"g"),"")});a.defn(p,"$downcase",function(){return this.toLowerCase()});a.defn(p,"$each_char",u=function(){var e,b,h=u.$$p||f;u.$$p=null;if(h===f)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,
	b),e).call(this,"each_char");e=0;for(var g=this.length;e<g;e++)if(a.yield1(h,this.charAt(e))===k)return k.$v;return this});a.defn(p,"$each_line",A=function(e){var h=A.$$p||f;null==b["/"]&&(b["/"]=f);null==e&&(e=b["/"]);A.$$p=null;if(h===f)return this.$enum_for("each_line",e);var v;if(e===f)return v=a.yield1(h,this),v===k?v.$v:this;e=g.get("Opal").$coerce_to(e,g.get("String"),"to_str");var d,m,c,w;if(0===e.length){e=this.split(/(\n{2,})/);d=0;for(m=e.length;d<m;d+=2)if(e[d]||e[d+1])if(v=a.yield1(h,
	(e[d]||"")+(e[d+1]||"")),v===k)return v.$v;return this}v=this.$chomp(e);m=this.length!=v.length;w=v.split(e);d=0;for(c=w.length;d<c;d++)if(v=d<c-1||m?a.yield1(h,w[d]+e):a.yield1(h,w[d]),v===k)return v.$v;return this});a.defn(p,"$empty?",function(){return 0===this.length});a.defn(p,"$end_with?",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),b=0;b<a;b++)e[b]=arguments[b+0];a=0;for(b=e.length;a<b;a++){var h=g.get("Opal").$coerce_to(e[a],g.get("String"),"to_str").$to_s();if(this.length>=
	h.length&&this.substr(this.length-h.length,h.length)==h)return!0}return!1});a.alias(p,"eql?","==");a.alias(p,"equal?","===");a.defn(p,"$gsub",z=function(a,e){var h=this,d=z.$$p||f;z.$$p=null;if(void 0===e&&d===f)return h.$enum_for("gsub",a);var m="",c=f,w=0,u,A;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){u=a.exec(h);if(null===u){b["~"]=f;m+=h.slice(w);break}c=
	g.get("MatchData").$new(a,u);void 0===e?A=d(u[0]):e.$$is_hash?A=e["$[]"](u[0]).$to_s():(e.$$is_string||(e=g.get("Opal").$coerce_to(e,g.get("String"),"to_str")),A=e.replace(/([\\]+)([0-9+&`'])/g,function(a,e,b){if(0===e.length%2)return a;switch(b){case "+":for(a=u.length-1;0<a;a--)if(void 0!==u[a])return e.slice(1)+u[a];return"";case "&":return e.slice(1)+u[0];case "`":return e.slice(1)+h.slice(0,u.index);case "'":return e.slice(1)+h.slice(u.index+u[0].length);default:return e.slice(1)+(u[b]||"")}}).replace(/\\\\/g,
	"\\"));a.lastIndex===u.index?(m+=A+h.slice(w,u.index+1),a.lastIndex+=1):m+=h.slice(w,u.index)+A;w=a.lastIndex}b["~"]=c;return m});a.defn(p,"$hash",function(){return this.toString()});a.defn(p,"$hex",function(){return this.$to_i(16)});a.defn(p,"$include?",function(a){var e;if(a.$$is_string)return-1!==this.indexOf(a);((e=a["$respond_to?"]("to_str"))===f||e.$$is_boolean&&1!=e)&&this.$raise(g.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");return-1!==this.indexOf(a.$to_str())});
	a.defn(p,"$index",function(a,e){var h,d;if(void 0===e)e=0;else if(e=g.get("Opal").$coerce_to(e,g.get("Integer"),"to_int"),0>e&&(e+=this.length,0>e))return f;if(a.$$is_regexp)for(d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){h=d.exec(this);if(null===h){b["~"]=f;h=-1;break}if(h.index>=e){b["~"]=g.get("MatchData").$new(d,h);h=h.index;break}d.lastIndex=h.index+1}else a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),h=0===a.length&&e>this.length?-1:this.indexOf(a,e);return-1===h?f:h});a.defn(p,
	"$inspect",function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){return a[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'});a.defn(p,"$intern",function(){return this});a.defn(p,"$lines",h=function(a){var e,
	v=h.$$p||f,g=f;null==b["/"]&&(b["/"]=f);null==a&&(a=b["/"]);h.$$p=null;g=(e=this.$each_line,e.$$p=v.$to_proc(),e).call(this,a);return!1!==v&&v!==f?this:g.$to_a()});a.defn(p,"$length",function(){return this.length});a.defn(p,"$ljust",function(a,e){var b;null==e&&(e=" ");a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");e=g.get("Opal").$coerce_to(e,g.get("String"),"to_str").$to_s();(b=e["$empty?"]())===f||b.$$is_boolean&&1!=b||this.$raise(g.get("ArgumentError"),"zero width padding");if((b=a<=
	this.length)!==f&&(!b.$$is_boolean||1==b))return this;b=-1;var h="";for(a-=this.length;++b<a;)h+=e;return this+h.slice(0,a)});a.defn(p,"$lstrip",function(){return this.replace(/^\s*/,"")});a.defn(p,"$match",e=function(a,b){var h,d,m=e.$$p||f;e.$$p=null;(h=!1!==(d=g.get("String")["$==="](a))&&d!==f?d:a["$respond_to?"]("to_str"))===f||h.$$is_boolean&&1!=h||(a=g.get("Regexp").$new(a.$to_str()));((h=g.get("Regexp")["$==="](a))===f||h.$$is_boolean&&1!=h)&&this.$raise(g.get("TypeError"),"wrong argument type "+
	a.$class()+" (expected Regexp)");return(h=(d=a).$match,h.$$p=m.$to_proc(),h).call(d,this,b)});a.defn(p,"$next",function(){var a=this.length;if(0===a)return"";for(var e=this,b=this.search(/[a-zA-Z0-9]/),h=!1,g;a--;){g=this.charCodeAt(a);if(48<=g&&57>=g||65<=g&&90>=g||97<=g&&122>=g)switch(g){case 57:h=!0;g=48;break;case 90:h=!0;g=65;break;case 122:h=!0;g=97;break;default:h=!1,g+=1}else-1===b?255===g?(h=!0,g=0):(h=!1,g+=1):h=!0;e=e.slice(0,a)+String.fromCharCode(g)+e.slice(a+1);if(h&&(0===a||a===b)){switch(g){case 65:break;
	case 97:break;default:g+=1}e=0===a?String.fromCharCode(g)+e:e.slice(0,a)+String.fromCharCode(g)+e.slice(a);h=!1}if(!h)break}return e});a.defn(p,"$oct",function(){var a;a=this;var e=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,b,h,g){switch(g.charAt(0)){case "+":case "-":return a;case "0":if("x"===g.charAt(1)&&"0x"===h)return a}switch(h){case "0b":e=2;break;case "0":case "0o":e=8;break;case "0d":e=10;break;case "0x":e=16}return b+g});a=parseInt(a.replace(/_(?!_)/g,
	""),e);return isNaN(a)?0:a});a.defn(p,"$ord",function(){return this.charCodeAt(0)});a.defn(p,"$partition",function(a){var e;a.$$is_regexp?(e=a.exec(this),null===e?e=-1:(g.get("MatchData").$new(a,e),a=e[0],e=e.index)):(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),e=this.indexOf(a));return-1===e?[this,"",""]:[this.slice(0,e),this.slice(e,e+a.length),this.slice(e+a.length)]});a.defn(p,"$reverse",function(){return this.split("").reverse().join("")});a.defn(p,"$rindex",function(a,e){var h,d,
	m;if(void 0===e)e=this.length;else if(e=g.get("Opal").$coerce_to(e,g.get("Integer"),"to_int"),0>e&&(e+=this.length,0>e))return f;if(a.$$is_regexp){h=null;for(d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){m=d.exec(this);if(null===m||m.index>e)break;h=m;d.lastIndex=h.index+1}null===h?(b["~"]=f,h=-1):(g.get("MatchData").$new(d,h),h=h.index)}else a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),h=this.lastIndexOf(a,e);return-1===h?f:h});a.defn(p,"$rjust",function(a,e){var b;null==e&&(e=" ");
	a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");e=g.get("Opal").$coerce_to(e,g.get("String"),"to_str").$to_s();(b=e["$empty?"]())===f||b.$$is_boolean&&1!=b||this.$raise(g.get("ArgumentError"),"zero width padding");if((b=a<=this.length)!==f&&(!b.$$is_boolean||1==b))return this;b=Math.floor(a-this.length);var h=Array(Math.floor(b/e.length)+1).join(e);return h+e.slice(0,b-h.length)+this});a.defn(p,"$rpartition",function(a){var e,b,h;if(a.$$is_regexp){e=null;for(b=new RegExp(a.source,"gm"+(a.ignoreCase?
	"i":""));;){h=b.exec(this);if(null===h)break;e=h;b.lastIndex=e.index+1}null===e?e=-1:(g.get("MatchData").$new(b,e),a=e[0],e=e.index)}else a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),e=this.lastIndexOf(a);return-1===e?["","",this]:[this.slice(0,e),this.slice(e,e+a.length),this.slice(e+a.length)]});a.defn(p,"$rstrip",function(){return this.replace(/[\s\u0000]*$/,"")});a.defn(p,"$scan",w=function(a){var e=w.$$p||f;w.$$p=null;var h=[],d=f,m;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?
	"i":"")):(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(m=a.exec(this));)d=g.get("MatchData").$new(a,m),e===f?1==m.length?h.push(m[0]):h.push(d.$captures()):1==m.length?e(m[0]):e.call(this,d.$captures()),a.lastIndex===m.index&&(a.lastIndex+=1);b["~"]=d;return e!==f?this:h});a.alias(p,"size","length");a.alias(p,"slice","[]");a.defn(p,"$split",function(a,e){var h;null==b[";"]&&(b[";"]=f);if(0===this.length)return[];if(void 0===
	e)e=0;else if(e=g.get("Opal")["$coerce_to!"](e,g.get("Integer"),"to_int"),1===e)return[this];if(void 0===a||a===f)a=!1!==(h=b[";"])&&h!==f?h:" ";h=[];var d=this.toString(),m=0,c,w;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,d=d.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));h=d.split(a);if(1===h.length&&h[0]===d)return h;for(;-1!==(w=h.indexOf(void 0));)h.splice(w,
	1);if(0===e){for(;""===h[h.length-1];)--h.length;return h}c=a.exec(d);if(0>e){if(null!==c&&""===c[0]&&-1===a.source.indexOf("(?="))for(w=0;w<c.length;w++)h.push("");return h}if(null!==c&&""===c[0])return h.splice(e-1,h.length-1,h.slice(e-1).join("")),h;for(w=0;null!==c;){w++;m=a.lastIndex;if(w+1===e)break;c=a.exec(d)}h.splice(e-1,h.length-1,d.slice(m));return h});a.defn(p,"$squeeze",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),b=0;b<a;b++)e[b]=arguments[b+0];if(0===e.length)return this.replace(/(.)\1+/g,
	"$1");a=t(e);return null===a?this:this.replace(new RegExp("("+a+")\\1+","g"),"$1")});a.defn(p,"$start_with?",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),b=0;b<a;b++)e[b]=arguments[b+0];a=0;for(b=e.length;a<b;a++){var h=g.get("Opal").$coerce_to(e[a],g.get("String"),"to_str").$to_s();if(0===this.indexOf(h))return!0}return!1});a.defn(p,"$strip",function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")});a.defn(p,"$sub",E=function(a,e){var h=this,d=E.$$p||f;E.$$p=null;
	a.$$is_regexp||(a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var m=a.exec(h);if(null===m)return b["~"]=f,h.toString();g.get("MatchData").$new(a,m);if(void 0===e)return d===f&&h.$raise(g.get("ArgumentError"),"wrong number of arguments (1 for 2)"),h.slice(0,m.index)+d(m[0])+h.slice(m.index+m[0].length);if(e.$$is_hash)return h.slice(0,m.index)+e["$[]"](m[0]).$to_s()+h.slice(m.index+m[0].length);e=g.get("Opal").$coerce_to(e,g.get("String"),
	"to_str");e=e.replace(/([\\]+)([0-9+&`'])/g,function(a,e,b){if(0===e.length%2)return a;switch(b){case "+":for(a=m.length-1;0<a;a--)if(void 0!==m[a])return e.slice(1)+m[a];return"";case "&":return e.slice(1)+m[0];case "`":return e.slice(1)+h.slice(0,m.index);case "'":return e.slice(1)+h.slice(m.index+m[0].length);default:return e.slice(1)+(m[b]||"")}}).replace(/\\\\/g,"\\");return h.slice(0,m.index)+e+h.slice(m.index+m[0].length)});a.alias(p,"succ","next");a.defn(p,"$sum",function(a){null==a&&(a=16);
	a=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");for(var e=0,b=this.length,h=0;h<b;h++)e+=this.charCodeAt(h);return 0>=a?e:e&Math.pow(2,a)-1});a.defn(p,"$swapcase",function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,e,b){return e?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)});a.defn(p,"$to_f",function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a});a.defn(p,"$to_i",
	function(a){null==a&&(a=10);var e=this.toLowerCase(),b=g.get("Opal").$coerce_to(a,g.get("Integer"),"to_int");(1===b||0>b||36<b)&&this.$raise(g.get("ArgumentError"),"invalid radix "+b);if(/^\s*_/.test(e))return 0;e=e.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,e,h,g){switch(g.charAt(0)){case "+":case "-":return a;case "0":if("x"===g.charAt(1)&&"0x"===h&&(0===b||16===b))return a}switch(h){case "0b":if(0===b||2===b)return b=2,e+g;break;case "0":case "0o":if(0===b||8===b)return b=8,e+g;break;case "0d":if(0===
	b||10===b)return b=10,e+g;break;case "0x":if(0===b||16===b)return b=16,e+g}return a});a=parseInt(e.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a});a.defn(p,"$to_proc",function(){var e,b,h=f,h=this;return(e=this.$proc,e.$$p=(b=function(e){var m=b.$$s||this,c,w,u,A=f;e=d.call(arguments,0);c=b.$$p||f;b.$$p=null;(w=e["$empty?"]())===f||w.$$is_boolean&&1!=w||m.$raise(g.get("ArgumentError"),"no receiver given");A=e.$shift();return(w=(u=A).$__send__,w.$$p=c.$to_proc(),w).apply(u,[h].concat(a.to_a(e)))},b.$$s=
	this,b),e).call(this)});a.defn(p,"$to_s",function(){return this.toString()});a.alias(p,"to_str","to_s");a.alias(p,"to_sym","intern");a.defn(p,"$tr",function(a,e){a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str").$to_s();e=g.get("Opal").$coerce_to(e,g.get("String"),"to_str").$to_s();if(0==a.length||a===e)return this;var b,h,d,m,c,w={};c=a.split("");var u=c.length,A=e.split(""),f=A.length,p=!1,k=null;"^"===c[0]&&1<c.length&&(p=!0,c.shift(),k=A[f-1],--u);var z=[];d=null;h=!1;for(b=0;b<u;b++)if(m=
	c[b],null==d)d=m,z.push(m);else if("-"===m)"-"===d?(z.push("-"),z.push("-")):b==u-1?z.push("-"):h=!0;else if(h){d=d.charCodeAt(0);h=m.charCodeAt(0);d>h&&this.$raise(g.get("ArgumentError"),'invalid range "'+String.fromCharCode(d)+"-"+String.fromCharCode(h)+'" in string transliteration');for(d+=1;d<h;d++)z.push(String.fromCharCode(d));z.push(m);d=h=null}else z.push(m);c=z;u=c.length;if(p)for(b=0;b<u;b++)w[c[b]]=!0;else{if(0<f){z=[];h=!1;for(b=0;b<f;b++)if(m=A[b],null==d)d=m,z.push(m);else if("-"===
	m)b==f-1?z.push("-"):h=!0;else if(h){d=d.charCodeAt(0);h=m.charCodeAt(0);d>h&&this.$raise(g.get("ArgumentError"),'invalid range "'+String.fromCharCode(d)+"-"+String.fromCharCode(h)+'" in string transliteration');for(d+=1;d<h;d++)z.push(String.fromCharCode(d));z.push(m);d=h=null}else z.push(m);A=z;f=A.length}m=u-f;if(0<m)for(f=0<f?A[f-1]:"",b=0;b<m;b++)A.push(f);for(b=0;b<u;b++)w[c[b]]=A[b]}u="";b=0;for(c=this.length;b<c;b++)m=this.charAt(b),A=w[m],u=p?u+(null==A?k:m):u+(null!=A?A:m);return u});a.defn(p,
	"$tr_s",function(a,e){a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str").$to_s();e=g.get("Opal").$coerce_to(e,g.get("String"),"to_str").$to_s();if(0==a.length)return this;var b,h,d,m,c,w={};c=a.split("");var u=c.length,A=e.split(""),f=A.length,p=!1,k=null;"^"===c[0]&&1<c.length&&(p=!0,c.shift(),k=A[f-1],--u);var z=[];d=null;h=!1;for(b=0;b<u;b++)if(m=c[b],null==d)d=m,z.push(m);else if("-"===m)"-"===d?(z.push("-"),z.push("-")):b==u-1?z.push("-"):h=!0;else if(h){d=d.charCodeAt(0);h=m.charCodeAt(0);
	d>h&&this.$raise(g.get("ArgumentError"),'invalid range "'+String.fromCharCode(d)+"-"+String.fromCharCode(h)+'" in string transliteration');for(d+=1;d<h;d++)z.push(String.fromCharCode(d));z.push(m);d=h=null}else z.push(m);c=z;u=c.length;if(p)for(b=0;b<u;b++)w[c[b]]=!0;else{if(0<f){z=[];h=!1;for(b=0;b<f;b++)if(m=A[b],null==d)d=m,z.push(m);else if("-"===m)b==f-1?z.push("-"):h=!0;else if(h){d=d.charCodeAt(0);h=m.charCodeAt(0);d>h&&this.$raise(g.get("ArgumentError"),'invalid range "'+String.fromCharCode(d)+
	"-"+String.fromCharCode(h)+'" in string transliteration');for(d+=1;d<h;d++)z.push(String.fromCharCode(d));z.push(m);d=h=null}else z.push(m);A=z;f=A.length}m=u-f;if(0<m)for(f=0<f?A[f-1]:"",b=0;b<m;b++)A.push(f);for(b=0;b<u;b++)w[c[b]]=A[b]}u="";A=null;b=0;for(c=this.length;b<c;b++)if(m=this.charAt(b),f=w[m],p)null==f?null==A&&(u+=k,A=!0):(u+=m,A=null);else if(null!=f){if(null==A||A!==f)u+=f,A=f}else u+=m,A=null;return u});a.defn(p,"$upcase",function(){return this.toUpperCase()});a.defn(p,"$upto",C=
	function(a,e){var b=C.$$p||f;null==e&&(e=!1);C.$$p=null;if(b===f)return this.$enum_for("upto",a,e);a=g.get("Opal").$coerce_to(a,g.get("String"),"to_str");var h,d;h=this.toString();if(1===h.length&&1===a.length)for(h=h.charCodeAt(0),d=a.charCodeAt(0);h<=d&&(!e||h!==d);)b(String.fromCharCode(h)),h+=1;else if(parseInt(h,10).toString()===h&&parseInt(a,10).toString()===a)for(h=parseInt(h,10),d=parseInt(a,10);h<=d&&(!e||h!==d);)b(h.toString()),h+=1;else for(;h.length<=a.length&&h<=a&&(!e||h!==a);)b(h),
	h=h.$succ();return this})})(a.base,String);return a.cdecl(a,"Symbol",a.get("String"))};
	Opal.modules["corelib/enumerable"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.breaker,l=a.slice,f=a.module;a.add_stubs("$raise $new $yield $dup $enum_for $enumerator_size $flatten $map $== $destructure $respond_to? $coerce_to! $> $* $nil? $coerce_to $try_convert $< $+ $- $ceil $/ $size $=== $<< $[] $[]= $inspect $__send__ $compare $<=> $proc $call $to_a $lambda $sort! $map! $first $zip".split(" "));return function(k){k=f(k,"Enumerable");var d=k.$$scope,c,b,D,x,y,t,p,r,g,m,u,
	A,z,h,e,w,E,C,M,I,v,B,O,L,F,P,N,ma,T,U,V,J,Q,K,R;a.defn(k,"$all?",c=function(){var e,b=c.$$p||n;c.$$p=null;var h=!0;this.$each.$$p=b!==n?function(){var d=a.yieldX(b,arguments);if(d===q)return h=q.$v,q;if((e=d)===n||e.$$is_boolean&&0==e)return h=!1,q}:function(a){if(1==arguments.length&&((e=a)===n||e.$$is_boolean&&0==e))return h=!1,q};this.$each();return h});a.defn(k,"$any?",b=function(){var e,h=b.$$p||n;b.$$p=null;var d=!1;this.$each.$$p=h!==n?function(){var b=a.yieldX(h,arguments);if(b===q)return d=
	q.$v,q;if((e=b)!==n&&(!e.$$is_boolean||1==e))return d=!0,q}:function(a){if(1!=arguments.length||(e=a)!==n&&(!e.$$is_boolean||1==e))return d=!0,q};this.$each();return d});a.defn(k,"$chunk",D=function(e){var b,h,g,m=D.$$p||n;D.$$p=null;!1!==m&&m!==n||d.get("Kernel").$raise(d.get("ArgumentError"),"no block given");return(b=(h=a.get("Enumerator")).$new,b.$$p=(g=function(b){function h(){0<f.length&&b.$yield(A,f)}var c=g.$$s||this,v,B,w;null==b&&(b=n);var u,A=n,f=[];u=void 0==e||e===n?m:(v=(B=d.get("Proc")).$new,
	v.$$p=(w=function(a){null==a&&(a=n);return m.$yield(a,e.$dup())},w.$$s=c,w),v).call(B);c.$each.$$p=function(e){var b=a.yield1(u,e);if(b===q)return q;b===n?(h(),f=[],A=n):(A===n||A===b?f.push(e):(h(),f=[e]),A=b)};c.$each();h()},g.$$s=this,g),b).call(h)});a.defn(k,"$collect",x=function(){var e,b,h=x.$$p||n;x.$$p=null;if(h===n)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),e).call(this,"collect");var d=[];this.$each.$$p=function(){var e=a.yieldX(h,arguments);
	if(e===q)return d=q.$v,q;d.push(e)};this.$each();return d});a.defn(k,"$collect_concat",y=function(){var e,b,h,d=y.$$p||n;y.$$p=null;return d===n?(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),e).call(this,"collect_concat"):(e=this.$map,e.$$p=(h=function(e){var b;null==e&&(e=n);return b=a.yield1(d,e),b},h.$$s=this,h),e).call(this).$flatten(1)});a.defn(k,"$count",t=function(e){var b,h=t.$$p||n;t.$$p=null;var g=0;null!=e?h=function(){return d.get("Opal").$destructure(arguments)["$=="](e)}:
	h===n&&(h=function(){return!0});this.$each.$$p=function(){var e=a.yieldX(h,arguments);if(e===q)return g=q.$v,q;(b=e)===n||b.$$is_boolean&&1!=b||g++};this.$each();return g});a.defn(k,"$cycle",p=function(e){var b,h,g=p.$$p||n;null==e&&(e=n);p.$$p=null;if(g===n)return(b=this.$enum_for,b.$$p=(h=function(){var a=h.$$s||this,b;if(e["$=="](n))return(b=a["$respond_to?"]("size"))===n||b.$$is_boolean&&1!=b?n:d.get("Float").$$scope.get("INFINITY");e=d.get("Opal")["$coerce_to!"](e,d.get("Integer"),"to_int");
	return("number"===typeof e?0<e:e["$>"](0))?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof e?a*e:a["$*"](e)):0},h.$$s=this,h),b).call(this,"cycle",e);if((b=e["$nil?"]())===n||b.$$is_boolean&&1!=b)if(e=d.get("Opal")["$coerce_to!"](e,d.get("Integer"),"to_int"),(b=0>=e)!==n&&(!b.$$is_boolean||1==b))return n;var m,c=[],v,B;this.$each.$$p=function(){var e=d.get("Opal").$destructure(arguments);if(a.yield1(g,e)===q)return m=q.$v,q;c.push(e)};this.$each();if(void 0!==m)return m;if(0===c.length)return n;
	if(e===n)for(;;)for(b=0,v=c.length;b<v;b++){if(B=a.yield1(g,c[b]),B===q)return q.$v}else for(;1<e;){b=0;for(v=c.length;b<v;b++)if(B=a.yield1(g,c[b]),B===q)return q.$v;e--}});a.defn(k,"$detect",r=function(e){var b,h=r.$$p||n;r.$$p=null;if(h===n)return this.$enum_for("detect",e);var g;this.$each.$$p=function(){var e=d.get("Opal").$destructure(arguments),m=a.yield1(h,e);if(m===q)return g=q.$v,q;if((b=m)!==n&&(!b.$$is_boolean||1==b))return g=e,q};this.$each();void 0===g&&void 0!==e&&(g="function"===typeof e?
	e():e);return void 0===g?n:g});a.defn(k,"$drop",function(a){var e;a=d.get("Opal").$coerce_to(a,d.get("Integer"),"to_int");(e=0>a)===n||e.$$is_boolean&&1!=e||this.$raise(d.get("ArgumentError"),"attempt to drop negative size");var b=[],h=0;this.$each.$$p=function(){a<=h&&b.push(d.get("Opal").$destructure(arguments));h++};this.$each();return b});a.defn(k,"$drop_while",g=function(){var e,b=g.$$p||n;g.$$p=null;if(b===n)return this.$enum_for("drop_while");var h=[],m=!0;this.$each.$$p=function(){var g=d.get("Opal").$destructure(arguments);
	if(m){var c=a.yield1(b,g);if(c===q)return h=q.$v,q;if((e=c)===n||e.$$is_boolean&&0==e)m=!1,h.push(g)}else h.push(g)};this.$each();return h});a.defn(k,"$each_cons",m=function(e){var b,h,g=m.$$p||n;m.$$p=null;(b=1!=arguments.length)===n||b.$$is_boolean&&1!=b||this.$raise(d.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");e=d.get("Opal").$try_convert(e,d.get("Integer"),"to_int");(b=0>=e)===n||b.$$is_boolean&&1!=b||this.$raise(d.get("ArgumentError"),"invalid size");if(g===
	n)return(b=this.$enum_for,b.$$p=(h=function(){var a,b,d=n,d=(h.$$s||this).$enumerator_size();return(a=d["$nil?"]())===n||a.$$is_boolean&&1!=a?(a=!1!==(b=d["$=="](0))&&b!==n?b:"number"===typeof d&&"number"===typeof e?d<e:d["$<"](e))===n||a.$$is_boolean&&1!=a?(a="number"===typeof d&&"number"===typeof e?d-e:d["$-"](e),"number"===typeof a?a+1:a["$+"](1)):0:n},h.$$s=this,h),b).call(this,"each_cons",e);var c=[],v=n;this.$each.$$p=function(){var b=d.get("Opal").$destructure(arguments);c.push(b);c.length>
	e&&c.shift();if(c.length==e&&a.yield1(g,c.slice(0,e))==q)return v=q.$v,q};this.$each();return v});a.defn(k,"$each_entry",u=function(){u.$$p=null;return this.$raise(d.get("NotImplementedError"))});a.defn(k,"$each_slice",A=function(e){var b,h,g=A.$$p||n;A.$$p=null;e=d.get("Opal").$coerce_to(e,d.get("Integer"),"to_int");(b=0>=e)===n||b.$$is_boolean&&1!=b||this.$raise(d.get("ArgumentError"),"invalid slice size");if(g===n)return(b=this.$enum_for,b.$$p=(h=function(){var a=h.$$s||this,b;if((b=a["$respond_to?"]("size"))===
	n||b.$$is_boolean&&1!=b)return n;a=a.$size();return("number"===typeof a&&"number"===typeof e?a/e:a["$/"](e)).$ceil()},h.$$s=this,h),b).call(this,"each_slice",e);var m,c=[];this.$each.$$p=function(){var b=d.get("Opal").$destructure(arguments);c.push(b);if(c.length===e){if(a.yield1(g,c)===q)return m=q.$v,q;c=[]}};this.$each();return void 0!==m?m:0<c.length&&a.yield1(g,c)===q?q.$v:n});a.defn(k,"$each_with_index",z=function(){var e,b,h=z.$$p||n,g=arguments.length-0;0>g&&(g=0);for(var m=Array(g),c=0;c<
	g;c++)m[c]=arguments[c+0];z.$$p=null;if(h===n)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),e).apply(this,["each_with_index"].concat(a.to_a(m)));var v,B=0;this.$each.$$p=function(){var a=d.get("Opal").$destructure(arguments);if(h(a,B)===q)return v=q.$v,q;B++};this.$each.apply(this,m);return void 0!==v?v:this});a.defn(k,"$each_with_object",h=function(a){var e,b,g=h.$$p||n;h.$$p=null;if(g===n)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||
	this).$enumerator_size()},b.$$s=this,b),e).call(this,"each_with_object",a);var m;this.$each.$$p=function(){var e=d.get("Opal").$destructure(arguments);if(g(e,a)===q)return m=q.$v,q};this.$each();return void 0!==m?m:a});a.defn(k,"$entries",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),b=0;b<a;b++)e[b]=arguments[b+0];var h=[];this.$each.$$p=function(){h.push(d.get("Opal").$destructure(arguments))};this.$each.apply(this,e);return h});a.alias(k,"find","detect");a.defn(k,"$find_all",
	e=function(){var b,h,g=e.$$p||n;e.$$p=null;if(g===n)return(b=this.$enum_for,b.$$p=(h=function(){return(h.$$s||this).$enumerator_size()},h.$$s=this,h),b).call(this,"find_all");var m=[];this.$each.$$p=function(){var e=d.get("Opal").$destructure(arguments),h=a.yield1(g,e);if(h===q)return m=q.$v,q;(b=h)===n||b.$$is_boolean&&1!=b||m.push(e)};this.$each();return m});a.defn(k,"$find_index",w=function(e){var b,h=w.$$p||n;w.$$p=null;if((b=void 0===e&&h===n)!==n&&(!b.$$is_boolean||1==b))return this.$enum_for("find_index");
	var g=n,m=0;null!=e?this.$each.$$p=function(){if(d.get("Opal").$destructure(arguments)["$=="](e))return g=m,q;m+=1}:h!==n&&(this.$each.$$p=function(){var e=a.yieldX(h,arguments);if(e===q)return g=q.$v,q;if((b=e)!==n&&(!b.$$is_boolean||1==b))return g=m,q;m+=1});this.$each();return g});a.defn(k,"$first",function(a){var e,b=n;if((e=void 0===a)===n||e.$$is_boolean&&1!=e){b=[];a=d.get("Opal").$coerce_to(a,d.get("Integer"),"to_int");(e=0>a)===n||e.$$is_boolean&&1!=e||this.$raise(d.get("ArgumentError"),
	"attempt to take negative size");if((e=0==a)!==n&&(!e.$$is_boolean||1==e))return[];var h=0;a=d.get("Opal").$coerce_to(a,d.get("Integer"),"to_int");this.$each.$$p=function(){b.push(d.get("Opal").$destructure(arguments));if(a<=++h)return q}}else b=n,this.$each.$$p=function(){b=d.get("Opal").$destructure(arguments);return q};this.$each();return b});a.alias(k,"flat_map","collect_concat");a.defn(k,"$grep",E=function(e){var b,h=E.$$p||n;E.$$p=null;var g=[];this.$each.$$p=h!==n?function(){var m=d.get("Opal").$destructure(arguments),
	c=e["$==="](m);if((b=c)!==n&&(!b.$$is_boolean||1==b)){c=a.yield1(h,m);if(c===q)return g=q.$v,q;g.push(c)}}:function(){var a=d.get("Opal").$destructure(arguments);(b=e["$==="](a))===n||b.$$is_boolean&&1!=b||g.push(a)};this.$each();return g});a.defn(k,"$group_by",C=function(){var e,b,h,g,m=C.$$p||n,c=n;C.$$p=null;if(m===n)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),e).call(this,"group_by");var c=d.get("Hash").$new(),v;this.$each.$$p=function(){var b=
	d.get("Opal").$destructure(arguments),B=a.yield1(m,b);if(B===q)return v=q.$v,q;(e=B,h=c,!1!==(g=h["$[]"](e))&&g!==n?g:h["$[]="](e,[]))["$<<"](b)};this.$each();return void 0!==v?v:c});a.defn(k,"$include?",function(a){var e=!1;this.$each.$$p=function(){if(d.get("Opal").$destructure(arguments)["$=="](a))return e=!0,q};this.$each();return e});a.defn(k,"$inject",M=function(e,b){var h=M.$$p||n;M.$$p=null;var g=e;h!==n&&void 0===b?this.$each.$$p=function(){var e=d.get("Opal").$destructure(arguments);if(void 0!==
	g&&(e=a.yieldX(h,[g,e]),e===q))return g=q.$v,q;g=e}:(void 0===b&&(d.get("Symbol")["$==="](e)||this.$raise(d.get("TypeError"),""+e.$inspect()+" is not a Symbol"),b=e,g=void 0),this.$each.$$p=function(){var a=d.get("Opal").$destructure(arguments);g=void 0===g?a:g.$__send__(b,a)});this.$each();return void 0==g?n:g});a.defn(k,"$lazy",function(){var e,b,h;return(e=(b=d.get("Enumerator").$$scope.get("Lazy")).$new,e.$$p=(h=function(e,b){var h;null==e&&(e=n);b=l.call(arguments,1);return(h=e).$yield.apply(h,
	a.to_a(b))},h.$$s=this,h),e).call(b,this,this.$enumerator_size())});a.defn(k,"$enumerator_size",function(){var a;return(a=this["$respond_to?"]("size"))===n||a.$$is_boolean&&1!=a?n:this.$size()});a.alias(k,"map","collect");a.defn(k,"$max",I=function(){var a=this,e=I.$$p||n;I.$$p=null;var b;a.$each.$$p=e!==n?function(){var h=d.get("Opal").$destructure(arguments);if(void 0===b)b=h;else{var g=e(h,b);if(g===q)return b=q.$v,q;g===n&&a.$raise(d.get("ArgumentError"),"comparison failed");0<g&&(b=h)}}:function(){var a=
	d.get("Opal").$destructure(arguments);void 0===b?b=a:0<d.get("Opal").$compare(a,b)&&(b=a)};a.$each();return void 0===b?n:b});a.defn(k,"$max_by",v=function(){var e,b,h=v.$$p||n;v.$$p=null;if(!1===h||h===n)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),e).call(this,"max_by");var g,m;this.$each.$$p=function(){var e=d.get("Opal").$destructure(arguments),b=a.yield1(h,e);if(void 0===g)g=e,m=b;else{if(b===q)return g=q.$v,q;0<b["$<=>"](m)&&(g=e,m=b)}};this.$each();
	return void 0===g?n:g});a.alias(k,"member?","include?");a.defn(k,"$min",B=function(){var a=this,e=B.$$p||n;B.$$p=null;var b;a.$each.$$p=e!==n?function(){var h=d.get("Opal").$destructure(arguments);if(void 0===b)b=h;else{var g=e(h,b);if(g===q)return b=q.$v,q;g===n&&a.$raise(d.get("ArgumentError"),"comparison failed");0>g&&(b=h)}}:function(){var a=d.get("Opal").$destructure(arguments);void 0===b?b=a:0>d.get("Opal").$compare(a,b)&&(b=a)};a.$each();return void 0===b?n:b});a.defn(k,"$min_by",O=function(){var e,
	b,h=O.$$p||n;O.$$p=null;if(!1===h||h===n)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),e).call(this,"min_by");var g,m;this.$each.$$p=function(){var e=d.get("Opal").$destructure(arguments),b=a.yield1(h,e);if(void 0===g)g=e,m=b;else{if(b===q)return g=q.$v,q;0>b["$<=>"](m)&&(g=e,m=b)}};this.$each();return void 0===g?n:g});a.defn(k,"$minmax",L=function(){var a,e,b,h=this,g=L.$$p||n;L.$$p=null;!1!==(a=g)&&a!==n?a:g=(e=h.$proc,e.$$p=(b=function(a,e){null==
	a&&(a=n);null==e&&(e=n);return a["$<=>"](e)},b.$$s=h,b),e).call(h);var m=n,c=n,v=!0;h.$each.$$p=function(){var a=d.get("Opal").$destructure(arguments);if(v)m=c=a,v=!1;else{var e=g.$call(m,a);e===n?h.$raise(d.get("ArgumentError"),"comparison failed"):0<e&&(m=a);e=g.$call(c,a);e===n?h.$raise(d.get("ArgumentError"),"comparison failed"):0>e&&(c=a)}};h.$each();return[m,c]});a.defn(k,"$minmax_by",F=function(){F.$$p=null;return this.$raise(d.get("NotImplementedError"))});a.defn(k,"$none?",P=function(){var e,
	b=P.$$p||n;P.$$p=null;var h=!0;this.$each.$$p=b!==n?function(){var g=a.yieldX(b,arguments);if(g===q)return h=q.$v,q;if((e=g)!==n&&(!e.$$is_boolean||1==e))return h=!1,q}:function(){if((e=d.get("Opal").$destructure(arguments))!==n&&(!e.$$is_boolean||1==e))return h=!1,q};this.$each();return h});a.defn(k,"$one?",N=function(){var e,b=N.$$p||n;N.$$p=null;var h=!1;this.$each.$$p=b!==n?function(){var g=a.yieldX(b,arguments);if(g===q)return h=q.$v,q;if((e=g)!==n&&(!e.$$is_boolean||1==e)){if(!0===h)return h=
	!1,q;h=!0}}:function(){if((e=d.get("Opal").$destructure(arguments))!==n&&(!e.$$is_boolean||1==e)){if(!0===h)return h=!1,q;h=!0}};this.$each();return h});a.defn(k,"$partition",ma=function(){var e,b,h=ma.$$p||n;ma.$$p=null;if(h===n)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),e).call(this,"partition");var g=[],m=[];this.$each.$$p=function(){var b=d.get("Opal").$destructure(arguments),c=a.yield1(h,b);if(c===q)return q;(e=c)===n||e.$$is_boolean&&1!=
	e?m.push(b):g.push(b)};this.$each();return[g,m]});a.alias(k,"reduce","inject");a.defn(k,"$reject",T=function(){var e,b,h=T.$$p||n;T.$$p=null;if(h===n)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),e).call(this,"reject");var g=[];this.$each.$$p=function(){var b=d.get("Opal").$destructure(arguments),m=a.yield1(h,b);if(m===q)return g=q.$v,q;((e=m)===n||e.$$is_boolean&&0==e)&&g.push(b)};this.$each();return g});a.defn(k,"$reverse_each",U=function(){var e,
	b,h=U.$$p||n;U.$$p=null;if(h===n)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b),e).call(this,"reverse_each");var g=[];this.$each.$$p=function(){g.push(arguments)};this.$each();for(e=g.length-1;0<=e;e--)a.yieldX(h,g[e]);return g});a.alias(k,"select","find_all");a.defn(k,"$slice_before",V=function(e){var b,h,g,m=V.$$p||n;V.$$p=null;(b=void 0===e&&m===n||1<arguments.length)===n||b.$$is_boolean&&1!=b||this.$raise(d.get("ArgumentError"),"wrong number of arguments ("+
	arguments.length+" for 1)");return(b=(h=d.get("Enumerator")).$new,b.$$p=(g=function(b){var h=g.$$s||this,c;null==b&&(b=n);var v=[];h.$each.$$p=m!==n?void 0===e?function(){var e=d.get("Opal").$destructure(arguments);(c=a.yield1(m,e))!==n&&(!c.$$is_boolean||1==c)&&0<v.length&&(b["$<<"](v),v=[]);v.push(e)}:function(){var a=d.get("Opal").$destructure(arguments);(c=m(a,e.$dup()))!==n&&(!c.$$is_boolean||1==c)&&0<v.length&&(b["$<<"](v),v=[]);v.push(a)}:function(){var a=d.get("Opal").$destructure(arguments);
	(c=e["$==="](a))!==n&&(!c.$$is_boolean||1==c)&&0<v.length&&(b["$<<"](v),v=[]);v.push(a)};h.$each();if(0<v.length)b["$<<"](v)},g.$$s=this,g),b).call(h)});a.defn(k,"$sort",J=function(){var a,e,b=J.$$p||n,h=n;J.$$p=null;h=this.$to_a();b===n&&(b=(a=this.$lambda,a.$$p=(e=function(a,e){null==a&&(a=n);null==e&&(e=n);return a["$<=>"](e)},e.$$s=this,e),a).call(this));return h.sort(b)});a.defn(k,"$sort_by",Q=function(){var a,e,b,h,g,m,c,v=Q.$$p||n,B=n;Q.$$p=null;if(v===n)return(a=this.$enum_for,a.$$p=(e=function(){return(e.$$s||
	this).$enumerator_size()},e.$$s=this,e),a).call(this,"sort_by");B=(a=this.$map,a.$$p=(b=function(){var a=n,a=d.get("Opal").$destructure(arguments);return[v.$call(a),a]},b.$$s=this,b),a).call(this);(a=(h=B)["$sort!"],a.$$p=(g=function(a,e){null==a&&(a=n);null==e&&(e=n);return a[0]["$<=>"](e[0])},g.$$s=this,g),a).call(h);return(a=(m=B)["$map!"],a.$$p=(c=function(a){null==a&&(a=n);return a[1]},c.$$s=this,c),a).call(m)});a.defn(k,"$take",function(a){return this.$first(a)});a.defn(k,"$take_while",K=function(){var e,
	b=K.$$p||n;K.$$p=null;if(!1===b||b===n)return this.$enum_for("take_while");var h=[];this.$each.$$p=function(){var g=d.get("Opal").$destructure(arguments),m=a.yield1(b,g);if(m===q)return h=q.$v,q;if((e=m)===n||e.$$is_boolean&&0==e)return q;h.push(g)};this.$each();return h});a.alias(k,"to_a","entries");a.defn(k,"$zip",R=function(){var e,b=arguments.length-0;0>b&&(b=0);for(var h=Array(b),g=0;g<b;g++)h[g]=arguments[g+0];R.$$p=null;return(e=this.$to_a()).$zip.apply(e,a.to_a(h))})}(a.base)};
	Opal.modules["corelib/enumerator"]=function(a){function n(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}function q(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}a.dynamic_require_severity="warning";var l=a.top,f=a.nil,k=a.breaker,d=a.slice,c=a.klass;a.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));
	l.$require("corelib/enumerable");return function(b,$super){function l(){}var y=l=c(b,$super,"Enumerator",l),t=y.$$proto,p=y.$$scope,r,g,m,u;t.size=t.args=t.object=t.method=f;y.$include(p.get("Enumerable"));a.defs(y,"$for",r=function(a,b){var h=r.$$p||f,e=arguments.length-2;0>e&&(e=0);for(var g=Array(e),d=0;d<e;d++)g[d]=arguments[d+2];null==b&&(b="each");r.$$p=null;e=this.$allocate();e.object=a;e.size=h;e.method=b;e.args=g;return e});a.defn(y,"$initialize",g=function(){var a,b,h=g.$$p||f;g.$$p=null;
	if(!1!==h&&h!==f)return this.object=(a=(b=p.get("Generator")).$new,a.$$p=h.$to_proc(),a).call(b),this.method="each",this.args=[],this.size=arguments[0]||f,(a=this.size)===f||a.$$is_boolean&&1!=a?f:this.size=p.get("Opal").$coerce_to(this.size,p.get("Integer"),"to_int");this.object=arguments[0];this.method=arguments[1]||"each";this.args=d.call(arguments,2);return this.size=f});a.defn(y,"$each",m=function(){var b,g,h,e=m.$$p||f,d=arguments.length-0;0>d&&(d=0);for(var c=Array(d),u=0;u<d;u++)c[u]=arguments[u+
	0];m.$$p=null;if((b=(g=e["$nil?"](),!1!==g&&g!==f?c["$empty?"]():g))!==f&&(!b.$$is_boolean||1==b))return this;c=n(this.args,c);return(b=e["$nil?"]())===f||b.$$is_boolean&&1!=b?(g=(h=this.object).$__send__,g.$$p=e.$to_proc(),g).apply(h,[this.method].concat(a.to_a(c))):(b=this.$class()).$new.apply(b,[this.object,this.method].concat(a.to_a(c)))});a.defn(y,"$size",function(){var b;return(b=p.get("Proc")["$==="](this.size))===f||b.$$is_boolean&&1!=b?this.size:(b=this.size).$call.apply(b,a.to_a(this.args))});
	a.defn(y,"$with_index",u=function(a){var b,h,e=u.$$p||f;null==a&&(a=0);u.$$p=null;a=!1!==a&&a!==f?p.get("Opal").$coerce_to(a,p.get("Integer"),"to_int"):0;if(!1===e||e===f)return(b=this.$enum_for,b.$$p=(h=function(){return(h.$$s||this).$size()},h.$$s=this,h),b).call(this,"with_index",a);var g,d=a;this.$each.$$p=function(){var a=p.get("Opal").$destructure(arguments),a=e(a,d);if(a===k)return g=k.$v,k;d++;return a};this.$each();return void 0!==g?g:this.object});a.alias(y,"with_object","each_with_object");
	a.defn(y,"$inspect",function(){var a,b=f,b="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;if((a=this.args["$empty?"]())===f||a.$$is_boolean&&1!=a)b=n(b,"("+this.args.$inspect()["$[]"](p.get("Range").$new(1,-2))+")");return n(b,">")});(function(b,$super){function h(){}var e=h=c(b,$super,"Generator",h),g=e.$$scope,d,m;e.$$proto.block=f;e.$include(g.get("Enumerable"));a.defn(e,"$initialize",d=function(){var a=d.$$p||f;d.$$p=null;!1!==a&&a!==f||this.$raise(g.get("LocalJumpError"),"no block given");
	return this.block=a});return(a.defn(e,"$each",m=function(){var e,b,h=m.$$p||f,d=f,d=arguments.length-0;0>d&&(d=0);for(var c=Array(d),u=0;u<d;u++)c[u]=arguments[u+0];m.$$p=null;d=(e=(b=g.get("Yielder")).$new,e.$$p=h.$to_proc(),e).call(b);try{if(c.unshift(d),a.yieldX(this.block,c)===k)return k.$v}catch(A){if(A===k)return k.$v;throw A;}return this}),f)&&"each"})(p.base,null);(function(b,$super){function h(){}var e=h=c(b,$super,"Yielder",h),g;e.$$proto.block=f;a.defn(e,"$initialize",g=function(){var a=
	g.$$p||f;g.$$p=null;return this.block=a});a.defn(e,"$yield",function(){var e=arguments.length-0;0>e&&(e=0);for(var b=Array(e),h=0;h<e;h++)b[h]=arguments[h+0];e=a.yieldX(this.block,b);if(e===k)throw k;return e});return(a.defn(e,"$<<",function(){var e=arguments.length-0;0>e&&(e=0);for(var b=Array(e),h=0;h<e;h++)b[h]=arguments[h+0];this.$yield.apply(this,a.to_a(b));return this}),f)&&"<<"})(p.base,null);return function(b,$super){function h(){}var e=h=c(b,$super,"Lazy",h),g=e.$$scope,m,u,p,I,v,B,O,l,F;
	e.$$proto.enumerator=f;(function(a,$super){function e(){}e=c(a,$super,"StopLazyError",e);return f})(g.base,g.get("Exception"));a.defn(e,"$initialize",m=function(e,b){var h,c=m.$$p||f;null==b&&(b=f);m.$$p=null;c===f&&this.$raise(g.get("ArgumentError"),"tried to call lazy new without a block");this.enumerator=e;return a.find_super_dispatcher(this,"initialize",m,(h=function(b,m){var v=h.$$s||this,B,u;null==b&&(b=f);m=d.call(arguments,1);try{return(B=e.$each,B.$$p=(u=function(e){e=d.call(arguments,0);
	e.unshift(b);if(a.yieldX(c,e)===k)return k},u.$$s=v,u),B).apply(e,a.to_a(m))}catch(A){if(a.rescue(A,[g.get("Exception")]))try{return f}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw A;}},h.$$s=this,h)).apply(this,[b])});a.alias(e,"force","to_a");a.defn(e,"$lazy",function(){return this});a.defn(e,"$collect",u=function(){var e,b,h,m=u.$$p||f;u.$$p=null;!1!==m&&m!==f||this.$raise(g.get("ArgumentError"),"tried to call lazy map without a block");return(e=(b=g.get("Lazy")).$new,e.$$p=(h=function(e,
	b){null==e&&(e=f);b=d.call(arguments,1);var h=a.yieldX(m,b);if(h===k)return k;e.$yield(h)},h.$$s=this,h),e).call(b,this,this.$enumerator_size())});a.defn(e,"$collect_concat",p=function(){var e,b,h,m=p.$$p||f;p.$$p=null;!1!==m&&m!==f||this.$raise(g.get("ArgumentError"),"tried to call lazy map without a block");return(e=(b=g.get("Lazy")).$new,e.$$p=(h=function(e,b){var c=h.$$s||this,v,B,u,A,I;null==e&&(e=f);b=d.call(arguments,1);var p=a.yieldX(m,b);if(p===k)return k;p["$respond_to?"]("force")&&p["$respond_to?"]("each")?
	(v=(B=p).$each,v.$$p=(u=function(a){null==a&&(a=f);return e.$yield(a)},u.$$s=c,u),v).call(B):g.get("Opal").$try_convert(p,g.get("Array"),"to_ary")===f?e.$yield(p):(v=(A=p).$each,v.$$p=(I=function(a){null==a&&(a=f);return e.$yield(a)},I.$$s=c,I),v).call(A)},h.$$s=this,h),e).call(b,this,f)});a.defn(e,"$drop",function(e){var b,h,m,c=f,v=c=f;e=g.get("Opal").$coerce_to(e,g.get("Integer"),"to_int");q(e,0)&&this.$raise(g.get("ArgumentError"),"attempt to drop negative size");c=this.$enumerator_size();c=(b=
	g.get("Integer")["$==="](c))===f||b.$$is_boolean&&1!=b?c:q(e,c)?e:c;v=0;return(b=(h=g.get("Lazy")).$new,b.$$p=(m=function(b,h){var g;null==b&&(b=f);h=d.call(arguments,1);return q(v,e)?v=n(v,1):(g=b).$yield.apply(g,a.to_a(h))},m.$$s=this,m),b).call(h,this,c)});a.defn(e,"$drop_while",I=function(){var e,b,h,m=I.$$p||f,c=f;I.$$p=null;!1!==m&&m!==f||this.$raise(g.get("ArgumentError"),"tried to call lazy drop_while without a block");c=!0;return(e=(b=g.get("Lazy")).$new,e.$$p=(h=function(e,b){var h,g;null==
	e&&(e=f);b=d.call(arguments,1);if(!1!==c&&c!==f){g=a.yieldX(m,b);if(g===k)return k;if((h=g)===f||h.$$is_boolean&&0==h)c=!1,(h=e).$yield.apply(h,a.to_a(b))}else return(g=e).$yield.apply(g,a.to_a(b))},h.$$s=this,h),e).call(b,this,f)});a.defn(e,"$enum_for",v=function(e){var b,h,g=v.$$p||f,d=arguments.length-1;0>d&&(d=0);for(var m=Array(d),c=0;c<d;c++)m[c]=arguments[c+1];null==e&&(e="each");v.$$p=null;return(b=(h=this.$class()).$for,b.$$p=g.$to_proc(),b).apply(h,[this,e].concat(a.to_a(m)))});a.defn(e,
	"$find_all",B=function(){var e,b,h,m=B.$$p||f;B.$$p=null;!1!==m&&m!==f||this.$raise(g.get("ArgumentError"),"tried to call lazy select without a block");return(e=(b=g.get("Lazy")).$new,e.$$p=(h=function(e,b){var h;null==e&&(e=f);b=d.call(arguments,1);var g=a.yieldX(m,b);if(g===k)return k;(h=g)===f||h.$$is_boolean&&1!=h||(h=e).$yield.apply(h,a.to_a(b))},h.$$s=this,h),e).call(b,this,f)});a.alias(e,"flat_map","collect_concat");a.defn(e,"$grep",O=function(e){var b,h,m,c,v,B=O.$$p||f;O.$$p=null;return!1!==
	B&&B!==f?(b=(h=g.get("Lazy")).$new,b.$$p=(m=function(b,h){var m;null==b&&(b=f);h=d.call(arguments,1);var c=g.get("Opal").$destructure(h),v=e["$==="](c);if((m=v)!==f&&(!m.$$is_boolean||1==m)){v=a.yield1(B,c);if(v===k)return k;b.$yield(a.yield1(B,c))}},m.$$s=this,m),b).call(h,this,f):(b=(c=g.get("Lazy")).$new,b.$$p=(v=function(a,b){var h;null==a&&(a=f);b=d.call(arguments,1);var m=g.get("Opal").$destructure(b);(h=e["$==="](m))===f||h.$$is_boolean&&1!=h||a.$yield(m)},v.$$s=this,v),b).call(c,this,f)});
	a.alias(e,"map","collect");a.alias(e,"select","find_all");a.defn(e,"$reject",l=function(){var e,b,h,m=l.$$p||f;l.$$p=null;!1!==m&&m!==f||this.$raise(g.get("ArgumentError"),"tried to call lazy reject without a block");return(e=(b=g.get("Lazy")).$new,e.$$p=(h=function(e,b){var h;null==e&&(e=f);b=d.call(arguments,1);var g=a.yieldX(m,b);if(g===k)return k;((h=g)===f||h.$$is_boolean&&0==h)&&(h=e).$yield.apply(h,a.to_a(b))},h.$$s=this,h),e).call(b,this,f)});a.defn(e,"$take",function(e){var b,h,m,c=f,v=c=
	f;e=g.get("Opal").$coerce_to(e,g.get("Integer"),"to_int");q(e,0)&&this.$raise(g.get("ArgumentError"),"attempt to take negative size");c=this.$enumerator_size();c=(b=g.get("Integer")["$==="](c))===f||b.$$is_boolean&&1!=b?c:q(e,c)?e:c;v=0;return(b=(h=g.get("Lazy")).$new,b.$$p=(m=function(b,h){var c=m.$$s||this,B;null==b&&(b=f);h=d.call(arguments,1);return q(v,e)?((B=b).$yield.apply(B,a.to_a(h)),v=n(v,1)):c.$raise(g.get("StopLazyError"))},m.$$s=this,m),b).call(h,this,c)});a.defn(e,"$take_while",F=function(){var e,
	b,h,m=F.$$p||f;F.$$p=null;!1!==m&&m!==f||this.$raise(g.get("ArgumentError"),"tried to call lazy take_while without a block");return(e=(b=g.get("Lazy")).$new,e.$$p=(h=function(e,b){var c=h.$$s||this,v;null==e&&(e=f);b=d.call(arguments,1);var B=a.yieldX(m,b);if(B===k)return k;(v=B)===f||v.$$is_boolean&&1!=v?c.$raise(g.get("StopLazyError")):(v=e).$yield.apply(v,a.to_a(b))},h.$$s=this,h),e).call(b,this,f)});a.alias(e,"to_enum","enum_for");return(a.defn(e,"$inspect",function(){return"#<"+this.$class()+
	": "+this.enumerator.$inspect()+">"}),f)&&"inspect"}(p.base,y)}(a.base,null)};
	Opal.modules["corelib/numeric"]=function(a){function n(a,d){return"number"===typeof a&&"number"===typeof d?a-d:a["$-"](d)}function q(a,d){return"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)}function l(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}function f(a,d){return"number"===typeof a&&"number"===typeof d?a/d:a["$/"](d)}a.dynamic_require_severity="warning";var k=a.top,d=a.nil,c=a.klass;a.add_stubs("$require $include $instance_of? $class $Float $coerce $=== $raise $__send__ $equal? $coerce_to! $-@ $** $- $* $div $< $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $round $to_i $truncate $>".split(" "));
	k.$require("corelib/comparable");return function(b,$super){function k(){}var y=k=c(b,$super,"Numeric",k),t=y.$$scope;y.$include(t.get("Comparable"));a.defn(y,"$coerce",function(a){var b;return(b=a["$instance_of?"](this.$class()))===d||b.$$is_boolean&&1!=b?[this.$Float(a),this.$Float(this)]:[a,this]});a.defn(y,"$__coerced__",function(b,c){var g,m=d,u=d,A=d;try{g=a.to_ary(c.$coerce(this)),m=null==g[0]?d:g[0],u=null==g[1]?d:g[1]}catch(f){try{A=b,"+"["$==="](A)||"-"["$==="](A)||"*"["$==="](A)||"/"["$==="](A)||
	"%"["$==="](A)||"&"["$==="](A)||"|"["$==="](A)||"^"["$==="](A)||"**"["$==="](A)?this.$raise(t.get("TypeError"),""+c.$class()+" can't be coerce into Numeric"):(">"["$==="](A)||">="["$==="](A)||"<"["$==="](A)||"<="["$==="](A)||"<=>"["$==="](A))&&this.$raise(t.get("ArgumentError"),"comparison of "+this.$class()+" with "+c.$class()+" failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return m.$__send__(b,u)});a.defn(y,"$<=>",function(a){var b;return(b=this["$equal?"](a))===d||b.$$is_boolean&&1!=
	b?d:0});a.defn(y,"$[]",function(a){var b=d,g=d;a=t.get("Opal")["$coerce_to!"](a,t.get("Integer"),"to_int");b=2["$**"](30)["$-@"]();g=n(2["$**"](30),1);return a<b||a>g?0:(this>>a)%2});a.defn(y,"$+@",function(){return this});a.defn(y,"$-@",function(){return n(0,this)});a.defn(y,"$%",function(a){return n(this,q(a,this.$div(a)))});a.defn(y,"$abs",function(){return l(this,0)?this["$-@"]():this});a.defn(y,"$abs2",function(){return q(this,this)});a.defn(y,"$angle",function(){return l(this,0)?t.get("Math").$$scope.get("PI"):
	0});a.alias(y,"arg","angle");a.defn(y,"$ceil",function(){return this.$to_f().$ceil()});a.defn(y,"$conj",function(){return this});a.alias(y,"conjugate","conj");a.defn(y,"$denominator",function(){return this.$to_r().$denominator()});a.defn(y,"$div",function(a){a["$=="](0)&&this.$raise(t.get("ZeroDivisionError"),"divided by o");return f(this,a).$floor()});a.defn(y,"$divmod",function(a){return[this.$div(a),this["$%"](a)]});a.defn(y,"$fdiv",function(a){return f(this.$to_f(),a)});a.defn(y,"$floor",function(){return this.$to_f().$floor()});
	a.defn(y,"$i",function(){return this.$Complex(0,this)});a.defn(y,"$imag",function(){return 0});a.alias(y,"imaginary","imag");a.defn(y,"$integer?",function(){return!1});a.alias(y,"magnitude","abs");a.alias(y,"modulo","%");a.defn(y,"$nonzero?",function(){var a;return(a=this["$zero?"]())===d||a.$$is_boolean&&1!=a?this:d});a.defn(y,"$numerator",function(){return this.$to_r().$numerator()});a.alias(y,"phase","arg");a.defn(y,"$polar",function(){return[this.$abs(),this.$arg()]});a.defn(y,"$quo",function(a){return f(t.get("Opal")["$coerce_to!"](this,
	t.get("Rational"),"to_r"),a)});a.defn(y,"$real",function(){return this});a.defn(y,"$real?",function(){return!0});a.defn(y,"$rect",function(){return[this,0]});a.alias(y,"rectangular","rect");a.defn(y,"$round",function(a){return this.$to_f().$round(a)});a.defn(y,"$to_c",function(){return this.$Complex(this,0)});a.defn(y,"$to_int",function(){return this.$to_i()});a.defn(y,"$truncate",function(){return this.$to_f().$truncate()});a.defn(y,"$zero?",function(){return this["$=="](0)});a.defn(y,"$positive?",
	function(){return"number"===typeof this?0<this:this["$>"](0)});a.defn(y,"$negative?",function(){return l(this,0)});a.defn(y,"$dup",function(){return this.$raise(t.get("TypeError"),"can't dup "+this.$class())});return(a.defn(y,"$clone",function(){return this.$raise(t.get("TypeError"),"can't clone "+this.$class())}),d)&&"clone"}(a.base,null)};
	Opal.modules["corelib/array"]=function(a){function n(a,d){return"number"===typeof a&&"number"===typeof d?a>d:a["$>"](d)}a.dynamic_require_severity="warning";var q=a.top,l=a.nil,f=a.breaker,k=a.klass,d=a.hash2,c=a.gvars;a.add_stubs("$require $include $raise $=== $to_a $respond_to? $to_ary $coerce_to $initialize $to_proc $coerce_to? $join $to_str $class $clone $hash $<=> $== $object_id $inspect $enum_for $coerce_to! $> $* $enumerator_size $empty? $copy_singleton_methods $initialize_clone $initialize_dup $replace $size $eql? $length $begin $end $exclude_end? $flatten $__id__ $[] $to_s $new $! $delete_if $each $reverse $rotate $rand $at $keep_if $shuffle! $dup $< $sort $!= $times $[]= $<< $kind_of? $last $first $upto".split(" "));
	q.$require("corelib/enumerable");q.$require("corelib/numeric");return function(b,$super){function q(){}function y(a,e){return a===e||0===e?1:0<e&&a>e?y(a-1,e-1)+y(a-1,e):0}var t=q=k(b,$super,"Array",q),p=t.$$proto,r=t.$$scope,g,m,u,A,z,h,e,w,E,C,M,I,v,B,O,L,F,P,N,ma,T,U,V,J,Q,K,R,Z,aa;p.length=l;t.$include(r.get("Enumerable"));p.$$is_array=!0;a.defs(t,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),b=0;b<a;b++)e[b]=arguments[b+0];return e});a.defn(t,"$initialize",g=function(a,
	e){var b,h=g.$$p||l;null==a&&(a=l);null==e&&(e=l);g.$$p=null;(b=2<arguments.length)===l||b.$$is_boolean&&1!=b||this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if((b=1===arguments.length)!==l&&(!b.$$is_boolean||1==b)){if((b=r.get("Array")["$==="](a))!==l&&(!b.$$is_boolean||1==b))return a.$to_a();if((b=a["$respond_to?"]("to_ary"))!==l&&(!b.$$is_boolean||1==b))return a.$to_ary()}a=r.get("Opal").$coerce_to(a,
	r.get("Integer"),"to_int");(b=0>a)===l||b.$$is_boolean&&1!=b||this.$raise(r.get("ArgumentError"),"negative array size");this.splice(0,this.length);var d;if(h===l)for(b=0;b<a;b++)this.push(e);else for(b=0,d;b<a;b++){d=h(b);if(d===f)return f.$v;this[b]=d}return this});a.defs(t,"$new",m=function(){var e,b,h=m.$$p||l,g=arguments.length-0;0>g&&(g=0);for(var d=Array(g),c=0;c<g;c++)d[c]=arguments[c+0];m.$$p=null;return(e=(b=[]).$initialize,e.$$p=h.$to_proc(),e).apply(b,a.to_a(d))});a.defs(t,"$try_convert",
	function(a){return r.get("Opal")["$coerce_to?"](a,r.get("Array"),"to_ary")});a.defn(t,"$&",function(e){var b;e=(b=r.get("Array")["$==="](e))===l||b.$$is_boolean&&1!=b?r.get("Opal").$coerce_to(e,r.get("Array"),"to_ary").$to_a():e.$to_a();b=[];var h=d([],{}),g,m;g=0;for(m=e.length;g<m;g++)a.hash_put(h,e[g],!0);g=0;for(m=this.length;g<m;g++)e=this[g],void 0!==a.hash_delete(h,e)&&b.push(e);return b});a.defn(t,"$|",function(e){var b;e=(b=r.get("Array")["$==="](e))===l||b.$$is_boolean&&1!=b?r.get("Opal").$coerce_to(e,
	r.get("Array"),"to_ary").$to_a():e.$to_a();b=d([],{});var h,g;h=0;for(g=this.length;h<g;h++)a.hash_put(b,this[h],!0);h=0;for(g=e.length;h<g;h++)a.hash_put(b,e[h],!0);return b.$keys()});a.defn(t,"$*",function(a){var e;if((e=a["$respond_to?"]("to_str"))!==l&&(!e.$$is_boolean||1==e))return this.$join(a.$to_str());((e=a["$respond_to?"]("to_int"))===l||e.$$is_boolean&&1!=e)&&this.$raise(r.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=r.get("Opal").$coerce_to(a,r.get("Integer"),
	"to_int");(e=0>a)===l||e.$$is_boolean&&1!=e||this.$raise(r.get("ArgumentError"),"negative argument");e=[];for(var b=0;b<a;b++)e=e.concat(this);return e});a.defn(t,"$+",function(a){var e;a=(e=r.get("Array")["$==="](a))===l||e.$$is_boolean&&1!=e?r.get("Opal").$coerce_to(a,r.get("Array"),"to_ary").$to_a():a.$to_a();return this.concat(a)});a.defn(t,"$-",function(e){var b;e=(b=r.get("Array")["$==="](e))===l||b.$$is_boolean&&1!=b?r.get("Opal").$coerce_to(e,r.get("Array"),"to_ary").$to_a():e.$to_a();if((b=
	0===this.length)!==l&&(!b.$$is_boolean||1==b))return[];if((b=0===e.length)!==l&&(!b.$$is_boolean||1==b))return this.$clone();b=[];var h=d([],{}),g,m;g=0;for(m=e.length;g<m;g++)a.hash_put(h,e[g],!0);g=0;for(m=this.length;g<m;g++)e=this[g],void 0===a.hash_get(h,e)&&b.push(e);return b});a.defn(t,"$<<",function(a){this.push(a);return this});a.defn(t,"$<=>",function(a){var e;if((e=r.get("Array")["$==="](a))===l||e.$$is_boolean&&1!=e){if((e=a["$respond_to?"]("to_ary"))===l||e.$$is_boolean&&1!=e)return l;
	a=a.$to_ary().$to_a()}else a=a.$to_a();if(this.$hash()===a.$hash())return 0;e=Math.min(this.length,a.length);for(var b=0;b<e;b++){var h=this[b]["$<=>"](a[b]);if(0!==h)return h}return this.length["$<=>"](a.length)});a.defn(t,"$==",function(a){function e(a,h){var g,d,m,c;if(!h.$$is_array)return r.get("Opal")["$respond_to?"](h,"to_ary")?h["$=="](a):!1;h=h.$to_a();if(a.length!==h.length)return!1;b[a.$object_id()]=!0;g=0;for(d=a.length;g<d;g++)if(m=a[g],c=h[g],m.$$is_array){if(c.$$is_array&&c.length!==
	m.length||!b.hasOwnProperty(m.$object_id())&&!e(m,c))return!1}else if(!m["$=="](c))return!1;return!0}var b={};return e(this,a)});a.defn(t,"$[]",function(a,e){var b=this.length,h,g,d;if(a.$$is_range){h=a.exclude;g=r.get("Opal").$coerce_to(a.begin,r.get("Integer"),"to_int");d=r.get("Opal").$coerce_to(a.end,r.get("Integer"),"to_int");if(0>g&&(g+=b,0>g)||g>b)return l;if(0>d&&(d+=b,0>d))return[];h||(d+=1);return this.slice(g,d)}a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");if(0>a&&(a+=b,0>a))return l;
	if(void 0===e)return a>=b||0>a?l:this[a];e=r.get("Opal").$coerce_to(e,r.get("Integer"),"to_int");return 0>e||a>b||0>a?l:this.slice(a,a+e)});a.defn(t,"$[]=",function(a,e,b){var h,g=l,d=l,m;m=this.length;if((h=r.get("Range")["$==="](a))===l||h.$$is_boolean&&1!=h){(h=void 0===b)===l||h.$$is_boolean&&1!=h?(d=e,e=b,g=(h=r.get("Array")["$==="](e))===l||h.$$is_boolean&&1!=h?(h=e["$respond_to?"]("to_ary"))===l||h.$$is_boolean&&1!=h?[e]:e.$to_ary().$to_a():e.$to_a()):d=1;a=r.get("Opal").$coerce_to(a,r.get("Integer"),
	"to_int");d=r.get("Opal").$coerce_to(d,r.get("Integer"),"to_int");0>a&&(h=a,a+=m,0>a&&this.$raise(r.get("IndexError"),"index "+h+" too small for array; minimum "+-this.length));0>d&&this.$raise(r.get("IndexError"),"negative length ("+d+")");if(a>m)for(;m<a;m++)this[m]=l;void 0===b?this[a]=e:this.splice.apply(this,[a,d].concat(g))}else{g=(h=r.get("Array")["$==="](e))===l||h.$$is_boolean&&1!=h?(h=e["$respond_to?"]("to_ary"))===l||h.$$is_boolean&&1!=h?[e]:e.$to_ary().$to_a():e.$to_a();h=a.exclude;b=
	r.get("Opal").$coerce_to(a.begin,r.get("Integer"),"to_int");d=r.get("Opal").$coerce_to(a.end,r.get("Integer"),"to_int");0>b&&(b+=m,0>b&&this.$raise(r.get("RangeError"),""+a.$inspect()+" out of range"));0>d&&(d+=m);h||(d+=1);if(b>m)for(;m<b;m++)this[m]=l;0>d?this.splice.apply(this,[b,0].concat(g)):this.splice.apply(this,[b,d-b].concat(g))}return e});a.defn(t,"$assoc",function(a){for(var e=0,b=this.length,h;e<b;e++)if(h=this[e],h.length&&h[0]["$=="](a))return h;return l});a.defn(t,"$at",function(a){a=
	r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?l:this[a]});a.defn(t,"$bsearch",u=function(){var a=u.$$p||l;u.$$p=null;if(a===l)return this.$enum_for("bsearch");for(var e=0,b=this.length,h,g,d,m=!1,c=l;e<b;){h=e+Math.floor((b-e)/2);g=this[h];d=a(g);if(d===f)return f.$v;if(!0===d)c=g,m=!0;else if(!1===d||d===l)m=!1;else if(d.$$is_number){if(0===d)return g;m=0>d}else this.$raise(r.get("TypeError"),"wrong argument type "+d.$class()+" (must be numeric, true, false or nil)");
	m?b=h:e=h+1}return c});a.defn(t,"$cycle",A=function(e){var b,h,g,d=A.$$p||l;null==e&&(e=l);A.$$p=null;if(d===l)return(b=this.$enum_for,b.$$p=(h=function(){var a=h.$$s||this;if(e["$=="](l))return r.get("Float").$$scope.get("INFINITY");e=r.get("Opal")["$coerce_to!"](e,r.get("Integer"),"to_int");return n(e,0)?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof e?a*e:a["$*"](e)):0},h.$$s=this,h),b).call(this,"cycle",e);if((b=!1!==(g=this["$empty?"]())&&g!==l?g:e["$=="](0))!==l&&(!b.$$is_boolean||
	1==b))return l;var m;if(e===l)for(;;)for(b=0,g=this.length;b<g;b++){if(m=a.yield1(d,this[b]),m===f)return f.$v}else{e=r.get("Opal")["$coerce_to!"](e,r.get("Integer"),"to_int");if(0>=e)return this;for(;0<e;){b=0;for(g=this.length;b<g;b++)if(m=a.yield1(d,this[b]),m===f)return f.$v;e--}}return this});a.defn(t,"$clear",function(){this.splice(0,this.length);return this});a.defn(t,"$clone",function(){var a=l,a=[];a.$copy_singleton_methods(this);a.$initialize_clone(this);return a});a.defn(t,"$dup",function(){var a=
	l,a=[];a.$initialize_dup(this);return a});a.defn(t,"$initialize_copy",function(a){return this.$replace(a)});a.defn(t,"$collect",z=function(){var e,b,h=z.$$p||l;z.$$p=null;if(h===l)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),e).call(this,"collect");e=[];for(var g=0,d=this.length;g<d;g++){var m=a.yield1(h,this[g]);if(m===f)return f.$v;e.push(m)}return e});a.defn(t,"$collect!",h=function(){var e,b,g=h.$$p||l;h.$$p=null;if(g===l)return(e=this.$enum_for,e.$$p=
	(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),e).call(this,"collect!");e=0;for(var d=this.length;e<d;e++){var m=a.yield1(g,this[e]);if(m===f)return f.$v;this[e]=m}return this});a.defn(t,"$combination",e=function(b){var h,g,d=e.$$p||l,m=l;e.$$p=null;m=r.get("Opal")["$coerce_to!"](b,r.get("Integer"),"to_int");if(d===l)return(h=this.$enum_for,h.$$p=(g=function(){return y((g.$$s||this).length,m)},g.$$s=this,g),h).call(this,"combination",m);var c,v,B;if(0===m)(h=a.yield1(d,[]))===f?f.$v:h;else if(1===
	m)for(c=0,b=this.length;c<b;c++)(h=a.yield1(d,[this[c]]))===f?f.$v:h;else if(m===this.length)(h=a.yield1(d,this.slice()))===f?f.$v:h;else if(0<=m&&m<this.length){b=[];for(c=0;c<=m+1;c++)b.push(0);c=[];v=0;B=!1;for(b[0]=-1;!B;){for(c[v]=this[b[v+1]];v<m-1;)v++,B=b[v+1]=b[v]+1,c[v]=this[B];(h=a.yield1(d,c.slice()))===f?f.$v:h;v++;do B=0===v,b[v]++,v--;while(b[v+1]+m===this.length+v+1)}}return this});a.defn(t,"$compact",function(){for(var a=[],e=0,b=this.length,h;e<b;e++)(h=this[e])!==l&&a.push(h);return a});
	a.defn(t,"$compact!",function(){for(var a=this.length,e=0,b=this.length;e<b;e++)this[e]===l&&(this.splice(e,1),b--,e--);return this.length===a?l:this});a.defn(t,"$concat",function(a){var e;a=(e=r.get("Array")["$==="](a))===l||e.$$is_boolean&&1!=e?r.get("Opal").$coerce_to(a,r.get("Array"),"to_ary").$to_a():a.$to_a();e=0;for(var b=a.length;e<b;e++)this.push(a[e]);return this});a.defn(t,"$delete",w=function(e){var b,h=w.$$p||l;w.$$p=null;for(var g=this.length,d=0,m=g;d<m;d++)this[d]["$=="](e)&&(this.splice(d,
	1),m--,d--);return this.length===g?h!==l?(b=a.yieldX(h,[]))===f?f.$v:b:l:e});a.defn(t,"$delete_at",function(a){a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return l;var e=this[a];this.splice(a,1);return e});a.defn(t,"$delete_if",E=function(){var a,e,b=E.$$p||l;E.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(e=function(){return(e.$$s||this).$size()},e.$$s=this,e),a).call(this,"delete_if");a=0;for(var h=this.length,g;a<h;a++){if((g=b(this[a]))===
	f)return f.$v;!1!==g&&g!==l&&(this.splice(a,1),h--,a--)}return this});a.defn(t,"$drop",function(a){0>a&&this.$raise(r.get("ArgumentError"));return this.slice(a)});a.defn(t,"$each",C=function(){var e,b,h=C.$$p||l;C.$$p=null;if(h===l)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),e).call(this,"each");e=0;for(var g=this.length;e<g;e++)if(a.yield1(h,this[e])==f)return f.$v;return this});a.defn(t,"$each_index",M=function(){var e,b,h=M.$$p||l;M.$$p=null;if(h===l)return(e=
	this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),e).call(this,"each_index");e=0;for(var g=this.length;e<g;e++)if(a.yield1(h,e)===f)return f.$v;return this});a.defn(t,"$empty?",function(){return 0===this.length});a.defn(t,"$eql?",function(a){function e(a,h){var g,d,m,c;if(!h.$$is_array)return!1;h=h.$to_a();if(a.length!==h.length)return!1;b[a.$object_id()]=!0;g=0;for(d=a.length;g<d;g++)if(m=a[g],c=h[g],m.$$is_array){if(c.$$is_array&&c.length!==m.length||!b.hasOwnProperty(m.$object_id())&&
	!e(m,c))return!1}else if(!m["$eql?"](c))return!1;return!0}var b={};return e(this,a)});a.defn(t,"$fetch",I=function(a,e){var b=I.$$p||l;I.$$p=null;var h=a;a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(b!==l)return b(h);if(null!=e)return e;0===this.length?this.$raise(r.get("IndexError"),"index "+h+" outside of array bounds: 0...0"):this.$raise(r.get("IndexError"),"index "+h+" outside of array bounds: -"+this.length+"..."+this.length)});
	a.defn(t,"$fill",v=function(){var e,b=v.$$p||l,h=l,g=l,d=l,m=l,g=l,m=arguments.length-0;0>m&&(m=0);g=Array(m);for(h=0;h<m;h++)g[h]=arguments[h+0];v.$$p=null;!1!==b&&b!==l?((e=2<g.length)===l||e.$$is_boolean&&1!=e||this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+g.$length()+" for 0..2)"),e=a.to_ary(g),h=null==e[0]?l:e[0],g=null==e[1]?l:e[1]):((e=0==g.length)===l||e.$$is_boolean&&1!=e?(e=3<g.length)===l||e.$$is_boolean&&1!=e||this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+
	g.$length()+" for 1..3)"):this.$raise(r.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),e=a.to_ary(g),d=null==e[0]?l:e[0],h=null==e[1]?l:e[1],g=null==e[2]?l:e[2]);if((e=r.get("Range")["$==="](h))===l||e.$$is_boolean&&1!=e)if(!1!==h&&h!==l)if(m=r.get("Opal").$coerce_to(h,r.get("Integer"),"to_int"),(e=0>m)===l||e.$$is_boolean&&1!=e||(m+=this.length),(e=0>m)===l||e.$$is_boolean&&1!=e||(m=0),!1!==g&&g!==l){g=r.get("Opal").$coerce_to(g,r.get("Integer"),"to_int");if((e=0==g)!==l&&(!e.$$is_boolean||
	1==e))return this;g+=m}else g=this.length;else m=0,g=this.length;else{!1!==g&&g!==l&&this.$raise(r.get("TypeError"),"length invalid with range");m=r.get("Opal").$coerce_to(h.$begin(),r.get("Integer"),"to_int");(e=0>m)===l||e.$$is_boolean&&1!=e||(m+=this.length);(e=0>m)===l||e.$$is_boolean&&1!=e||this.$raise(r.get("RangeError"),""+h.$inspect()+" out of range");g=r.get("Opal").$coerce_to(h.$end(),r.get("Integer"),"to_int");(e=0>g)===l||e.$$is_boolean&&1!=e||(g+=this.length);if((e=h["$exclude_end?"]())===
	l||e.$$is_boolean&&1!=e)g+=1;if((e=g<=m)!==l&&(!e.$$is_boolean||1==e))return this}if((e=m>this.length)!==l&&(!e.$$is_boolean||1==e))for(h=this.length;h<g;h++)this[h]=l;(e=g>this.length)===l||e.$$is_boolean&&1!=e||(this.length=g);if(!1!==b&&b!==l)for(;m<g;m++){e=b(m);if(e===f)return f.$v;this[m]=e}else for(;m<g;m++)this[m]=d;return this});a.defn(t,"$first",function(a){if(null==a)return 0===this.length?l:this[0];a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&this.$raise(r.get("ArgumentError"),
	"negative array size");return this.slice(0,a)});a.defn(t,"$flatten",function(a){function e(a,h){var g=[],d,m,c,v;a=a.$to_a();d=0;for(m=a.length;d<m;d++)if(c=a[d],r.get("Opal")["$respond_to?"](c,"to_ary"))if(v=c.$to_ary(),v===l)g.push(c);else switch(v.$$is_array||b.$raise(r.get("TypeError")),v===b&&b.$raise(r.get("ArgumentError")),h){case void 0:g.push.apply(g,e(v));break;case 0:g.push(v);break;default:g.push.apply(g,e(v,h-1))}else g.push(c);return g}var b=this;void 0!==a&&(a=r.get("Opal").$coerce_to(a,
	r.get("Integer"),"to_int"));return e(b,a)});a.defn(t,"$flatten!",function(a){a=this.$flatten(a);if(this.length==a.length){for(var e=0,b=this.length;e<b&&this[e]===a[e];e++);if(e==b)return l}this.$replace(a);return this});a.defn(t,"$hash",function(){var e=void 0==a.hash_ids,b=["A"],h=this.$object_id(),g,d,m;try{e&&(a.hash_ids={});if(a.hash_ids.hasOwnProperty(h))return"self";for(m in a.hash_ids)if(a.hash_ids.hasOwnProperty(m)&&(g=a.hash_ids[m],this["$eql?"](g)))return"self";a.hash_ids[h]=this;for(d=
	0;d<this.length;d++)g=this[d],b.push(g.$hash());return b.join(",")}finally{e&&delete a.hash_ids}});a.defn(t,"$include?",function(a){for(var e=0,b=this.length;e<b;e++)if(this[e]["$=="](a))return!0;return!1});a.defn(t,"$index",B=function(a){var e=B.$$p||l;B.$$p=null;var b,h;if(null!=a)for(b=0,h=this.length;b<h;b++){if(this[b]["$=="](a))return b}else if(e!==l)for(b=0,h=this.length;b<h;b++){if((a=e(this[b]))===f)return f.$v;if(!1!==a&&a!==l)return b}else return this.$enum_for("index");return l});a.defn(t,
	"$insert",function(a){var e=arguments.length-1;0>e&&(e=0);for(var b=Array(e),h=0;h<e;h++)b[h]=arguments[h+1];a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");if(0<b.length){0>a&&(a+=this.length+1,0>a&&this.$raise(r.get("IndexError"),""+a+" is out of bounds"));if(a>this.length)for(e=this.length;e<a;e++)this.push(l);this.splice.apply(this,[a,0].concat(b))}return this});a.defn(t,"$inspect",function(){for(var a=[],e=this.$__id__(),b=0,h=this.length;b<h;b++){var g=this["$[]"](b);g.$__id__()===e?
	a.push("[...]"):a.push(g.$inspect())}return"["+a.join(", ")+"]"});a.defn(t,"$join",function(a){var e;null==c[","]&&(c[","]=l);null==a&&(a=l);if((e=0===this.length)!==l&&(!e.$$is_boolean||1==e))return"";(e=a===l)===l||e.$$is_boolean&&1!=e||(a=c[","]);e=[];var b,h,g,d;b=0;for(h=this.length;b<h;b++){g=this[b];if(r.get("Opal")["$respond_to?"](g,"to_str")&&(d=g.$to_str(),d!==l)){e.push(d.$to_s());continue}if(r.get("Opal")["$respond_to?"](g,"to_ary")&&(d=g.$to_ary(),d===this&&this.$raise(r.get("ArgumentError")),
	d!==l)){e.push(d.$join(a));continue}if(r.get("Opal")["$respond_to?"](g,"to_s")&&(d=g.$to_s(),d!==l)){e.push(d);continue}this.$raise(r.get("NoMethodError").$new(""+r.get("Opal").$inspect(g)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===l?e.join(""):e.join(r.get("Opal")["$coerce_to!"](a,r.get("String"),"to_str").$to_s())});a.defn(t,"$keep_if",O=function(){var a,e,b=O.$$p||l;O.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(e=function(){return(e.$$s||this).$size()},e.$$s=this,
	e),a).call(this,"keep_if");a=0;for(var h=this.length,g;a<h;a++){if((g=b(this[a]))===f)return f.$v;if(!1===g||g===l)this.splice(a,1),h--,a--}return this});a.defn(t,"$last",function(a){if(null==a)return 0===this.length?l:this[this.length-1];a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");0>a&&this.$raise(r.get("ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)});a.defn(t,"$length",function(){return this.length});a.alias(t,"map",
	"collect");a.alias(t,"map!","collect!");a.defn(t,"$permutation",L=function(e){var b,h,g,d=this,m=L.$$p||l,c=l,v=l;L.$$p=null;if(m===l)return(b=(h=d).$enum_for,b.$$p=(g=function(){return(g.$$s||this).$size()},g.$$s=d,g),b).call(h,"permutation",e);var B,u;e=void 0===e?d.length:r.get("Opal").$coerce_to(e,r.get("Integer"),"to_int");if(!(0>e||d.length<e))if(0===e)(b=a.yield1(m,[]))===f?f.$v:b;else if(1===e)for(e=0;e<d.length;e++)(b=a.yield1(m,[d[e]]))===f?f.$v:b;else c=r.get("Array").$new(e),v=r.get("Array").$new(d.length,
	!1),B=function(e,b,h,g,m){d=this;for(var c=0;c<d.length;c++)if(g["$[]"](c)["$!"]())if(b[h]=c,h<e-1)g[c]=!0,B.call(d,e,b,h+1,g,m),g[c]=!1;else{u=[];for(var v=0;v<b.length;v++)u.push(d[b[v]]);a.yield1(m,u)}},m!==l?(b=d.slice(),B.call(b,e,c,0,v,m)):B.call(d,e,c,0,v,m);return d});a.defn(t,"$pop",function(a){var e;if((e=void 0===a)!==l&&(!e.$$is_boolean||1==e))return(e=0===this.length)===l||e.$$is_boolean&&1!=e?this.pop():l;a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");(e=0>a)===l||e.$$is_boolean&&
	1!=e||this.$raise(r.get("ArgumentError"),"negative array size");return(e=0===this.length)===l||e.$$is_boolean&&1!=e?(e=a>this.length)===l||e.$$is_boolean&&1!=e?this.splice(this.length-a,this.length):this.splice(0,this.length):[]});a.defn(t,"$product",F=function(){var e,b=F.$$p||l,h=arguments.length-0;0>h&&(h=0);for(var g=Array(h),d=0;d<h;d++)g[d]=arguments[d+0];F.$$p=null;var h=b!==l?null:[],d=g.length+1,m=Array(d),c=Array(d),v=Array(d),B,u=1;v[0]=this;for(B=1;B<d;B++)v[B]=r.get("Opal").$coerce_to(g[B-
	1],r.get("Array"),"to_ary");for(B=0;B<d;B++){g=v[B].length;if(0===g)return h||this;u*=g;2147483647<u&&this.$raise(r.get("RangeError"),"too big to product");c[B]=g;m[B]=0}a:for(;;){g=[];for(B=0;B<d;B++)g.push(v[B][m[B]]);h?h.push(g):(e=a.yield1(b,g))===f?f.$v:e;g=d-1;for(m[g]++;m[g]===c[g];){m[g]=0;if(0>--g)break a;m[g]++}}return h||this});a.defn(t,"$push",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),b=0;b<a;b++)e[b]=arguments[b+0];a=0;for(b=e.length;a<b;a++)this.push(e[a]);return this});
	a.defn(t,"$rassoc",function(a){for(var e=0,b=this.length,h;e<b;e++)if(h=this[e],h.length&&void 0!==h[1]&&h[1]["$=="](a))return h;return l});a.defn(t,"$reject",P=function(){var a,e,b=P.$$p||l;P.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(e=function(){return(e.$$s||this).$size()},e.$$s=this,e),a).call(this,"reject");a=[];for(var h=0,g=this.length,d;h<g;h++){if((d=b(this[h]))===f)return f.$v;!1!==d&&d!==l||a.push(this[h])}return a});a.defn(t,"$reject!",N=function(){var a,e,b=N.$$p||l,h=l;N.$$p=
	null;if(b===l)return(a=this.$enum_for,a.$$p=(e=function(){return(e.$$s||this).$size()},e.$$s=this,e),a).call(this,"reject!");h=this.$length();(a=this.$delete_if,a.$$p=b.$to_proc(),a).call(this);return this.$length()["$=="](h)?l:this});a.defn(t,"$replace",function(a){var e;a=(e=r.get("Array")["$==="](a))===l||e.$$is_boolean&&1!=e?r.get("Opal").$coerce_to(a,r.get("Array"),"to_ary").$to_a():a.$to_a();this.splice(0,this.length);this.push.apply(this,a);return this});a.defn(t,"$reverse",function(){return this.slice(0).reverse()});
	a.defn(t,"$reverse!",function(){return this.reverse()});a.defn(t,"$reverse_each",ma=function(){var a,e,b,h=ma.$$p||l;ma.$$p=null;if(h===l)return(a=this.$enum_for,a.$$p=(e=function(){return(e.$$s||this).$size()},e.$$s=this,e),a).call(this,"reverse_each");(a=(b=this.$reverse()).$each,a.$$p=h.$to_proc(),a).call(b);return this});a.defn(t,"$rindex",T=function(a){var e=T.$$p||l;T.$$p=null;var b;if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(e!==l)for(b=
	this.length-1;0<=b&&!(b>=this.length);b--){if((a=e(this[b]))===f)return f.$v;if(!1!==a&&a!==l)return b}else if(null==a)return this.$enum_for("rindex");return l});a.defn(t,"$rotate",function(a){null==a&&(a=1);a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");var e,b;if(1===this.length)return this.slice();if(0===this.length)return[];e=this.slice();b=a%e.length;a=e.slice(b);e=e.slice(0,b);return a.concat(e)});a.defn(t,"$rotate!",function(a){var e=l;null==a&&(a=1);if(0===this.length||1===this.length)return this;
	a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");e=this.$rotate(a);return this.$replace(e)});(function(e,$super){function b(){}var h=b=k(e,$super,"SampleRandom",b),g=h.$$scope;h.$$proto.rng=l;a.defn(h,"$initialize",function(a){return this.rng=a});return(a.defn(h,"$rand",function(a){var e,b=l,b=g.get("Opal").$coerce_to(this.rng.$rand(a),g.get("Integer"),"to_int");(e=0>b)===l||e.$$is_boolean&&1!=e||this.$raise(g.get("RangeError"),"random value must be >= 0");((e=b<a)===l||e.$$is_boolean&&1!=
	e)&&this.$raise(g.get("RangeError"),"random value must be less than Array size");return b}),l)&&"rand"})(r.base,null);a.defn(t,"$sample",function(a,e){var b,h=l,g=l;if((b=void 0===a)!==l&&(!b.$$is_boolean||1==b))return this.$at(r.get("Kernel").$rand(this.length));(b=void 0===e)===l||b.$$is_boolean&&1!=b?(a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int"),e=r.get("Opal").$coerce_to(e,r.get("Hash"),"to_hash")):(b=h=r.get("Opal")["$coerce_to?"](a,r.get("Hash"),"to_hash"))===l||b.$$is_boolean&&1!=
	b?(e=l,a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int")):(e=h,a=l);(b=!1!==a&&a!==l?0>a:a)===l||b.$$is_boolean&&1!=b||this.$raise(r.get("ArgumentError"),"count must be greater than 0");!1!==e&&e!==l&&(g=e["$[]"]("random"));g=(b=!1!==g&&g!==l?g["$respond_to?"]("rand"):g)===l||b.$$is_boolean&&1!=b?r.get("Kernel"):r.get("SampleRandom").$new(g);if(!1===a||a===l)return this[g.$rand(this.length)];var d,m,c,v;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[g.$rand(this.length)]];
	case 2:return m=g.$rand(this.length),c=g.$rand(this.length),m===c&&(c=0===m?m+1:m-1),[this[m],this[c]];default:if(3<this.length/a){h=!1;d=0;b=r.get("Array").$new(a);m=1;for(b[0]=g.$rand(this.length);m<a;){v=g.$rand(this.length);for(c=0;c<m;){for(;v===b[c];){d++;if(100<d){h=!0;break}v=g.$rand(this.length)}if(h)break;c++}if(h)break;b[m]=v;m++}if(!h){for(m=0;m<a;)b[m]=this[b[m]],m++;return b}}b=this.slice();for(m=0;m<a;m++)h=g.$rand(this.length),d=b[m],b[m]=b[h],b[h]=d;return a===this.length?b:b["$[]"](0,
	a)}});a.defn(t,"$select",U=function(){var e,b,h=U.$$p||l;U.$$p=null;if(h===l)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),e).call(this,"select");e=[];for(var g=0,d=this.length,m,c;g<d;g++){m=this[g];if((c=a.yield1(h,m))===f)return f.$v;!1!==c&&c!==l&&e.push(m)}return e});a.defn(t,"$select!",V=function(){var a,e,b=V.$$p||l;V.$$p=null;if(b===l)return(a=this.$enum_for,a.$$p=(e=function(){return(e.$$s||this).$size()},e.$$s=this,e),a).call(this,"select!");var h=
	this.length;(a=this.$keep_if,a.$$p=b.$to_proc(),a).call(this);return this.length===h?l:this});a.defn(t,"$shift",function(a){var e;if((e=void 0===a)!==l&&(!e.$$is_boolean||1==e))return(e=0===this.length)===l||e.$$is_boolean&&1!=e?this.shift():l;a=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int");(e=0>a)===l||e.$$is_boolean&&1!=e||this.$raise(r.get("ArgumentError"),"negative array size");return(e=0===this.length)===l||e.$$is_boolean&&1!=e?this.splice(0,a):[]});a.alias(t,"size","length");a.defn(t,
	"$shuffle",function(a){return this.$dup()["$shuffle!"](a)});a.defn(t,"$shuffle!",function(a){var e,b=this.length,h;void 0!==a&&(a=r.get("Opal")["$coerce_to?"](a,r.get("Hash"),"to_hash"),a!==l&&(a=a["$[]"]("random"),a!==l&&a["$respond_to?"]("rand")&&(e=a)));for(;b;)e?(a=e.$rand(b).$to_int(),0>a&&this.$raise(r.get("RangeError"),"random number too small "+a),a>=b&&this.$raise(r.get("RangeError"),"random number too big "+a)):a=Math.floor(Math.random()*b),h=this[--b],this[b]=this[a],this[a]=h;return this});
	a.alias(t,"slice","[]");a.defn(t,"$slice!",function(a,e){0>a&&(a+=this.length);return null!=e?this.splice(a,e):0>a||a>=this.length?l:this.splice(a,1)[0]});a.defn(t,"$sort",J=function(){var a,e=this,b=J.$$p||l;J.$$p=null;if((a=1<e.length)===l||a.$$is_boolean&&1!=a)return e;b===l&&(b=function(a,e){return a["$<=>"](e)});try{return e.slice().sort(function(a,h){var g=b(a,h);if(g===f)throw f;g===l&&e.$raise(r.get("ArgumentError"),"comparison of "+a.$inspect()+" with "+h.$inspect()+" failed");return n(g,
	0)?1:("number"===typeof g?0>g:g["$<"](0))?-1:0})}catch(h){if(h===f)return f.$v;throw h;}});a.defn(t,"$sort!",Q=function(){var a,e,b=Q.$$p||l;Q.$$p=null;b=b!==l?(a=(e=this.slice()).$sort,a.$$p=b.$to_proc(),a).call(e):this.slice().$sort();a=this.length=0;for(e=b.length;a<e;a++)this.push(b[a]);return this});a.defn(t,"$take",function(a){0>a&&this.$raise(r.get("ArgumentError"));return this.slice(0,a)});a.defn(t,"$take_while",K=function(){var a=K.$$p||l;K.$$p=null;for(var e=[],b=0,h=this.length,g,d;b<h;b++){g=
	this[b];if((d=a(g))===f)return f.$v;if(!1===d||d===l)break;e.push(g)}return e});a.defn(t,"$to_a",function(){return this});a.alias(t,"to_ary","to_a");a.defn(t,"$to_h",function(){var e,b=this.length,h,g,m=d([],{});for(e=0;e<b;e++)h=r.get("Opal")["$coerce_to?"](this[e],r.get("Array"),"to_ary"),h.$$is_array||this.$raise(r.get("TypeError"),"wrong element type "+h.$class()+" at "+e+" (expected array)"),2!==h.length&&this.$raise(r.get("ArgumentError"),"wrong array length at "+e+" (expected 2, was "+h.$length()+
	")"),g=h[0],h=h[1],a.hash_put(m,g,h);return m});a.alias(t,"to_s","inspect");a.defn(t,"$transpose",function(){var a,e,b=l,h=l;if((a=this["$empty?"]())!==l&&(!a.$$is_boolean||1==a))return[];b=[];h=l;(a=this.$each,a.$$p=(e=function(a){var g=e.$$s||this,d,m,c;null==a&&(a=l);a=(d=r.get("Array")["$==="](a))===l||d.$$is_boolean&&1!=d?r.get("Opal").$coerce_to(a,r.get("Array"),"to_ary").$to_a():a.$to_a();!1!==(d=h)&&d!==l?d:h=a.length;(d=a.length["$!="](h))===l||d.$$is_boolean&&1!=d||g.$raise(r.get("IndexError"),
	"element size differs ("+a.length+" should be "+h);return(d=(m=a.length).$times,d.$$p=(c=function(e){var h,g,d,m=l;null==e&&(e=l);m=(h=e,g=b,!1!==(d=g["$[]"](h))&&d!==l?d:g["$[]="](h,[]));return m["$<<"](a.$at(e))},c.$$s=g,c),d).call(m)},e.$$s=this,e),a).call(this);return b});a.defn(t,"$uniq",R=function(){var e=R.$$p||l;R.$$p=null;var b=d([],{}),h,g,m,c;if(e===l)for(h=0,g=this.length;h<g;h++)m=this[h],void 0===a.hash_get(b,m)&&a.hash_put(b,m,m);else for(h=0,g=this.length;h<g;h++)m=this[h],c=a.yield1(e,
	m),void 0===a.hash_get(b,c)&&a.hash_put(b,c,m);return b.$values()});a.defn(t,"$uniq!",Z=function(){var e=Z.$$p||l;Z.$$p=null;var b=this.length,h=d([],{}),g,m,c,v;g=0;for(m=b;g<m;g++)c=this[g],v=e===l?c:a.yield1(e,c),void 0===a.hash_get(h,v)?a.hash_put(h,v,c):(this.splice(g,1),m--,g--);return this.length===b?l:this});a.defn(t,"$unshift",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),b=0;b<a;b++)e[b]=arguments[b+0];for(a=e.length-1;0<=a;a--)this.unshift(e[a]);return this});a.defn(t,
	"$values_at",function(){var a,e,b=l,h=arguments.length-0;0>h&&(h=0);for(var g=Array(h),d=0;d<h;d++)g[d]=arguments[d+0];b=[];(a=g.$each,a.$$p=(e=function(a){var h=e.$$s||this,g,d,m,c=l,v=l,c=l;null==a&&(a=l);if((g=a["$kind_of?"](r.get("Range")))===l||g.$$is_boolean&&1!=g)return c=r.get("Opal").$coerce_to(a,r.get("Integer"),"to_int"),b["$<<"](h.$at(c));c=r.get("Opal").$coerce_to(a.$last(),r.get("Integer"),"to_int");v=r.get("Opal").$coerce_to(a.$first(),r.get("Integer"),"to_int");if(0>v)return v+=h.length,
	l;0>c&&(c+=h.length);a["$exclude_end?"]()&&c--;return c<v?l:(g=(d=v).$upto,g.$$p=(m=function(a){var e=m.$$s||this;null==a&&(a=l);return b["$<<"](e.$at(a))},m.$$s=h,m),g).call(d,c)},e.$$s=this,e),a).call(g);return b});return(a.defn(t,"$zip",aa=function(){var a,e=aa.$$p||l,b=arguments.length-0;0>b&&(b=0);for(var h=Array(b),g=0;g<b;g++)h[g]=arguments[g+0];aa.$$p=null;var b=[],g=this.length,d,m,c,v;c=0;for(v=h.length;c<v;c++)d=h[c],d.$$is_array||(h[c]=(!1!==(a=r.get("Opal")["$coerce_to?"](d,r.get("Array"),
	"to_ary"))&&a!==l?a:r.get("Opal")["$coerce_to!"](d,r.get("Enumerator"),"each")).$to_a());for(m=0;m<g;m++){a=[this[m]];c=0;for(v=h.length;c<v;c++)d=h[c][m],null==d&&(d=l),a[c+1]=d;b[m]=a}if(e!==l){for(m=0;m<g;m++)e(b[m]);return l}return b}),l)&&"zip"}(a.base,Array)};
	Opal.modules["corelib/hash"]=function(a){a.dynamic_require_severity="warning";var n=a.top,q=a.nil,l=a.breaker,f=a.klass;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $== $coerce_to! $lambda? $abs $arity $call $enum_for $size $inspect $flatten $eql? $default $to_proc $dup $=== $default_proc $default_proc= $default= $alias_method".split(" "));n.$require("corelib/enumerable");return function(k,$super){function c(){}var b=c=f(k,$super,"Hash",c),n=b.$$proto,x=b.$$scope,y,t,p,
	r,g,m,u,A,z,h,e,w,E,C;n.proc=n.none=q;b.$include(x.get("Enumerable"));n.$$is_hash=!0;a.defs(b,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var e=Array(a),b=0;b<a;b++)e[b]=arguments[b+0];var b=e.length,h;if(1===b){a=x.get("Opal")["$coerce_to?"](e["$[]"](0),x.get("Hash"),"to_hash");if(a!==q)return this.$allocate()["$merge!"](a);e=x.get("Opal")["$coerce_to?"](e["$[]"](0),x.get("Array"),"to_ary");e===q&&this.$raise(x.get("ArgumentError"),"odd number of arguments for Hash");b=e.length;a=this.$allocate();
	for(h=0;h<b;h++)if(e[h].$$is_array)switch(e[h].length){case 1:a.$store(e[h][0],q);break;case 2:a.$store(e[h][0],e[h][1]);break;default:this.$raise(x.get("ArgumentError"),"invalid number of elements ("+e[h].length+" for 1..2)")}return a}0!==b%2&&this.$raise(x.get("ArgumentError"),"odd number of arguments for Hash");a=this.$allocate();for(h=0;h<b;h+=2)a.$store(e[h],e[h+1]);return a});a.defs(b,"$allocate",function(){var e=new this.$$alloc;a.hash_init(e);e.none=q;e.proc=q;return e});a.defs(b,"$try_convert",
	function(a){return x.get("Opal")["$coerce_to?"](a,x.get("Hash"),"to_hash")});a.defn(b,"$initialize",y=function(a){var e=y.$$p||q;y.$$p=null;void 0!==a&&e!==q&&this.$raise(x.get("ArgumentError"),"wrong number of arguments (1 for 0)");this.none=void 0===a?q:a;this.proc=e;return this});a.defn(b,"$==",function(e){if(this===e)return!0;if(!e.$$is_hash||this.keys.length!==e.keys.length)return!1;for(var b=0,h=this.keys,g=h.length,m,c;b<g;b++)if(m=h[b],m.$$is_string?(c=this.smap[m],m=e.smap[m]):(c=m.value,
	m=a.hash_get(e,m.key)),void 0===m||!c["$eql?"](m))return!1;return!0});a.defn(b,"$[]",function(e){var b=a.hash_get(this,e);return void 0!==b?b:this.$default(e)});a.defn(b,"$[]=",function(e,b){a.hash_put(this,e,b);return b});a.defn(b,"$assoc",function(a){for(var e=0,b=this.keys,h=b.length,g;e<h;e++)if(g=b[e],g.$$is_string){if(g["$=="](a))return[g,this.smap[g]]}else if(g.key["$=="](a))return[g.key,g.value];return q});a.defn(b,"$clear",function(){a.hash_init(this);return this});a.defn(b,"$clone",function(){var e=
	new this.$$class.$$alloc;a.hash_init(e);a.hash_clone(this,e);return e});a.defn(b,"$default",function(a){return void 0!==a&&this.proc!==q?this.proc.$call(this,a):this.none});a.defn(b,"$default=",function(a){this.proc=q;return this.none=a});a.defn(b,"$default_proc",function(){return this.proc});a.defn(b,"$default_proc=",function(a){a!==q&&(a=x.get("Opal")["$coerce_to!"](a,x.get("Proc"),"to_proc"),a["$lambda?"]()&&2!==a.$arity().$abs()&&this.$raise(x.get("TypeError"),"default_proc takes two arguments"));
	this.none=q;return this.proc=a});a.defn(b,"$delete",t=function(e){var b=t.$$p||q;t.$$p=null;var h=a.hash_delete(this,e);return void 0!==h?h:b!==q?b.$call(e):q});a.defn(b,"$delete_if",p=function(){var e,b,h=p.$$p||q;p.$$p=null;if(!1===h||h===q)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),e).call(this,"delete_if");e=0;for(var g=this.keys,m=g.length,c,u;e<m;e++){c=g[e];c.$$is_string?u=this.smap[c]:(u=c.value,c=c.key);u=h(c,u);if(u===l)return l.$v;!1!==u&&u!==
	q&&void 0!==a.hash_delete(this,c)&&(m--,e--)}return this});a.alias(b,"dup","clone");a.defn(b,"$each",r=function(){var e,b,h=r.$$p||q;r.$$p=null;if(!1===h||h===q)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),e).call(this,"each");e=0;for(var g=this.keys,m=g.length,c,u;e<m;e++)if(c=g[e],c.$$is_string?u=this.smap[c]:(u=c.value,c=c.key),c=a.yield1(h,[c,u]),c===l)return l.$v;return this});a.defn(b,"$each_key",g=function(){var a,e,b=g.$$p||q;g.$$p=null;if(!1===b||
	b===q)return(a=this.$enum_for,a.$$p=(e=function(){return(e.$$s||this).$size()},e.$$s=this,e),a).call(this,"each_key");a=0;for(var h=this.keys,m=h.length,c;a<m;a++)if(c=h[a],b(c.$$is_string?c:c.key)===l)return l.$v;return this});a.alias(b,"each_pair","each");a.defn(b,"$each_value",m=function(){var a,e,b=m.$$p||q;m.$$p=null;if(!1===b||b===q)return(a=this.$enum_for,a.$$p=(e=function(){return(e.$$s||this).$size()},e.$$s=this,e),a).call(this,"each_value");a=0;for(var h=this.keys,g=h.length,c;a<g;a++)if(c=
	h[a],b(c.$$is_string?this.smap[c]:c.value)===l)return l.$v;return this});a.defn(b,"$empty?",function(){return 0===this.keys.length});a.alias(b,"eql?","==");a.defn(b,"$fetch",u=function(e,b){var h=u.$$p||q;u.$$p=null;var g=a.hash_get(this,e);return void 0!==g?g:h!==q?(g=h(e),g===l?l.$v:g):void 0!==b?b:this.$raise(x.get("KeyError"),"key not found: "+e.$inspect())});a.defn(b,"$flatten",function(a){null==a&&(a=1);a=x.get("Opal")["$coerce_to!"](a,x.get("Integer"),"to_int");for(var e=[],b=0,h=this.keys,
	g=h.length,m,c;b<g;b++)m=h[b],m.$$is_string?c=this.smap[m]:(c=m.value,m=m.key),e.push(m),c.$$is_array?1===a?e.push(c):e=e.concat(c.$flatten(a-2)):e.push(c);return e});a.defn(b,"$has_key?",function(e){return void 0!==a.hash_get(this,e)});a.defn(b,"$has_value?",function(a){for(var e=0,b=this.keys,h=b.length,g;e<h;e++)if(g=b[e],(g.$$is_string?this.smap[g]:g.value)["$=="](a))return!0;return!1});a.defn(b,"$hash",function(){var e=void 0===a.hash_ids,b=this.$object_id(),h=["Hash"],g,m;try{e&&(a.hash_ids=
	{});if(a.hash_ids.hasOwnProperty(b))return"self";for(g in a.hash_ids)if(a.hash_ids.hasOwnProperty(g)&&(m=a.hash_ids[g],this["$eql?"](m)))return"self";a.hash_ids[b]=this;for(var b=0,c=this.keys,u=c.length;b<u;b++)g=c[b],g.$$is_string?h.push([g,this.smap[g].$hash()]):h.push([g.key_hash,g.value.$hash()]);return h.sort().join()}finally{e&&delete a.hash_ids}});a.alias(b,"include?","has_key?");a.defn(b,"$index",function(a){for(var e=0,b=this.keys,h=b.length,g,m;e<h;e++)if(g=b[e],g.$$is_string?m=this.smap[g]:
	(m=g.value,g=g.key),m["$=="](a))return g;return q});a.defn(b,"$indexes",function(){var e=arguments.length-0;0>e&&(e=0);for(var b=Array(e),h=0;h<e;h++)b[h]=arguments[h+0];for(var e=[],h=0,g=b.length,m;h<g;h++)m=b[h],m=a.hash_get(this,m),void 0===m?e.push(this.$default()):e.push(m);return e});a.alias(b,"indices","indexes");var M;a.defn(b,"$inspect",function(){var a=void 0===M,e=this.$object_id(),b=[];try{a&&(M={});if(M.hasOwnProperty(e))return"{...}";M[e]=!0;for(var e=0,h=this.keys,g=h.length,m,c;e<
	g;e++)m=h[e],m.$$is_string?c=this.smap[m]:(c=m.value,m=m.key),b.push(m.$inspect()+"=>"+c.$inspect());return"{"+b.join(", ")+"}"}finally{a&&(M=void 0)}});a.defn(b,"$invert",function(){for(var e=a.hash(),b=0,h=this.keys,g=h.length,m,c;b<g;b++)m=h[b],m.$$is_string?c=this.smap[m]:(c=m.value,m=m.key),a.hash_put(e,c,m);return e});a.defn(b,"$keep_if",A=function(){var e,b,h=A.$$p||q;A.$$p=null;if(!1===h||h===q)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),e).call(this,
	"keep_if");e=0;for(var g=this.keys,m=g.length,c,u;e<m;e++){c=g[e];c.$$is_string?u=this.smap[c]:(u=c.value,c=c.key);u=h(c,u);if(u===l)return l.$v;!1!==u&&u!==q||void 0===a.hash_delete(this,c)||(m--,e--)}return this});a.alias(b,"key","index");a.alias(b,"key?","has_key?");a.defn(b,"$keys",function(){for(var a=[],e=0,b=this.keys,h=b.length,g;e<h;e++)g=b[e],g.$$is_string?a.push(g):a.push(g.key);return a});a.defn(b,"$length",function(){return this.keys.length});a.alias(b,"member?","has_key?");a.defn(b,
	"$merge",z=function(a){var e,b,h=z.$$p||q;z.$$p=null;return(e=(b=this.$dup())["$merge!"],e.$$p=h.$to_proc(),e).call(b,a)});a.defn(b,"$merge!",h=function(e){var b=h.$$p||q;h.$$p=null;x.get("Hash")["$==="](e)||(e=x.get("Opal")["$coerce_to!"](e,x.get("Hash"),"to_hash"));var g,m=e.keys,c=m.length,u,w,A;if(b===q){for(g=0;g<c;g++)u=m[g],u.$$is_string?A=e.smap[u]:(A=u.value,u=u.key),a.hash_put(this,u,A);return this}for(g=0;g<c;g++)u=m[g],u.$$is_string?A=e.smap[u]:(A=u.value,u=u.key),w=a.hash_get(this,u),
	void 0===w?a.hash_put(this,u,A):a.hash_put(this,u,b(u,w,A));return this});a.defn(b,"$rassoc",function(a){for(var e=0,b=this.keys,h=b.length,g,m;e<h;e++)if(g=b[e],g.$$is_string?m=this.smap[g]:(m=g.value,g=g.key),m["$=="](a))return[g,m];return q});a.defn(b,"$rehash",function(){a.hash_rehash(this);return this});a.defn(b,"$reject",e=function(){var b,h,g=e.$$p||q;e.$$p=null;if(!1===g||g===q)return(b=this.$enum_for,b.$$p=(h=function(){return(h.$$s||this).$size()},h.$$s=this,h),b).call(this,"reject");b=
	a.hash();for(var m=0,c=this.keys,u=c.length,w,A,f;m<u;m++){w=c[m];w.$$is_string?A=this.smap[w]:(A=w.value,w=w.key);f=g(w,A);if(f===l)return l.$v;!1!==f&&f!==q||a.hash_put(b,w,A)}return b});a.defn(b,"$reject!",w=function(){var e,b,h=w.$$p||q;w.$$p=null;if(!1===h||h===q)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),e).call(this,"reject!");e=!1;for(var g=0,m=this.keys,c=m.length,u,A;g<c;g++){u=m[g];u.$$is_string?A=this.smap[u]:(A=u.value,u=u.key);A=h(u,A);if(A===
	l)return l.$v;!1!==A&&A!==q&&void 0!==a.hash_delete(this,u)&&(e=!0,c--,g--)}return e?this:q});a.defn(b,"$replace",function(e){var b;e=x.get("Opal")["$coerce_to!"](e,x.get("Hash"),"to_hash");a.hash_init(this);for(var h=0,g=e.keys,m=g.length,c,u;h<m;h++)c=g[h],c.$$is_string?u=e.smap[c]:(u=c.value,c=c.key),a.hash_put(this,c,u);(b=e.$default_proc())===q||b.$$is_boolean&&1!=b?(b=[e.$default()],e=this,e["$default="].apply(e,b)):(b=[e.$default_proc()],e=this,e["$default_proc="].apply(e,b));b[b.length-1];
	return this});a.defn(b,"$select",E=function(){var e,b,h=E.$$p||q;E.$$p=null;if(!1===h||h===q)return(e=this.$enum_for,e.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),e).call(this,"select");e=a.hash();for(var g=0,m=this.keys,c=m.length,u,w,A;g<c;g++){u=m[g];u.$$is_string?w=this.smap[u]:(w=u.value,u=u.key);A=h(u,w);if(A===l)return l.$v;!1!==A&&A!==q&&a.hash_put(e,u,w)}return e});a.defn(b,"$select!",C=function(){var e,b,h=C.$$p||q;C.$$p=null;if(!1===h||h===q)return(e=this.$enum_for,e.$$p=
	(b=function(){return(b.$$s||this).$size()},b.$$s=this,b),e).call(this,"select!");e=q;for(var g=0,m=this.keys,c=m.length,u,w;g<c;g++){u=m[g];u.$$is_string?w=this.smap[u]:(w=u.value,u=u.key);w=h(u,w);if(w===l)return l.$v;if(!1===w||w===q)void 0!==a.hash_delete(this,u)&&(c--,g--),e=this}return e});a.defn(b,"$shift",function(){var e=this.keys;return 0<e.length?(e=e[0],e=e.$$is_string?e:e.key,[e,a.hash_delete(this,e)]):this.$default(q)});a.alias(b,"size","length");b.$alias_method("store","[]=");a.defn(b,
	"$to_a",function(){for(var a=[],e=0,b=this.keys,h=b.length,g,m;e<h;e++)g=b[e],g.$$is_string?m=this.smap[g]:(m=g.value,g=g.key),a.push([g,m]);return a});a.defn(b,"$to_h",function(){if(this.$$class===a.Hash)return this;var e=new a.Hash.$$alloc;a.hash_init(e);a.hash_clone(this,e);return e});a.defn(b,"$to_hash",function(){return this});a.alias(b,"to_s","inspect");a.alias(b,"update","merge!");a.alias(b,"value?","has_value?");a.alias(b,"values_at","indexes");return(a.defn(b,"$values",function(){for(var a=
	[],e=0,b=this.keys,h=b.length,g;e<h;e++)g=b[e],g.$$is_string?a.push(this.smap[g]):a.push(g.value);return a}),q)&&"values"}(a.base,null)};
	Opal.modules["corelib/number"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}
	a.dynamic_require_severity="warning";var c=a.top,b=a.nil,D=a.breaker,x=a.slice,y=a.klass;a.add_stubs("$require $bridge $raise $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $-@ $size $<= $>=".split(" "));c.$require("corelib/numeric");(function(c,$super){function r(){}var g=r=y(c,$super,"Number",r),m=g.$$scope,u,A,z,h,e,w,E,C,M,I;m.get("Opal").$bridge(g,Number);Number.prototype.$$is_number=
	!0;a.defn(g,"$coerce",function(a){if(a!==b){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[m.get("Opal")["$coerce_to!"](a,m.get("Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(m.get("TypeError"),"can't convert "+a.$class()+" into Float")});a.defn(g,"$__id__",function(){return 2*this+1});a.alias(g,"object_id","__id__");a.defn(g,"$+",function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)});a.defn(g,"$-",function(a){return a.$$is_number?
	this-a:this.$__coerced__("-",a)});a.defn(g,"$*",function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)});a.defn(g,"$/",function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)});a.alias(g,"fdiv","/");a.defn(g,"$%",function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(m.get("ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)});a.defn(g,"$&",function(a){return a.$$is_number?this&a:this.$__coerced__("&",
	a)});a.defn(g,"$|",function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)});a.defn(g,"$^",function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)});a.defn(g,"$<",function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)});a.defn(g,"$<=",function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)});a.defn(g,"$>",function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)});a.defn(g,"$>=",function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)});a.defn(g,
	"$<=>",function(e){try{return e.$$is_number?isNaN(this)||isNaN(e)?b:this>e?1:this<e?-1:0:this.$__coerced__("<=>",e)}catch(h){if(a.rescue(h,[m.get("ArgumentError")]))try{return b}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw h;}});a.defn(g,"$<<",function(a){a=m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int");return 0<a?this<<a:this>>-a});a.defn(g,"$>>",function(a){a=m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int");return 0<a?this>>a:this<<-a});a.defn(g,"$[]",function(a){a=
	m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int");return a<m.get("Integer").$$scope.get("MIN")||a>m.get("Integer").$$scope.get("MAX")?0:0>this?(~this+1>>a)%2:(this>>a)%2});a.defn(g,"$+@",function(){return+this});a.defn(g,"$-@",function(){return-this});a.defn(g,"$~",function(){return~this});a.defn(g,"$**",function(a){var e,h,g;return(e=m.get("Integer")["$==="](a))===b||e.$$is_boolean&&1!=e?(e=q(this,0)?!1!==(g=m.get("Float")["$==="](a))&&g!==b?g:m.get("Rational")["$==="](a):q(this,0))===b||
	e.$$is_boolean&&1!=e?(e=null!=a.$$is_number)===b||e.$$is_boolean&&1!=e?this.$__coerced__("**",a):Math.pow(this,a):m.get("Complex").$new(this,0)["$**"](a.$to_f()):(e=!1!==(h=m.get("Integer")["$==="](this)["$!"]())&&h!==b?h:n(a,0))===b||e.$$is_boolean&&1!=e?m.get("Rational").$new(this,1)["$**"](a):Math.pow(this,a)});a.defn(g,"$==",function(a){return a.$$is_number?this==Number(a):a["$respond_to?"]("==")?a["$=="](this):!1});a.defn(g,"$abs",function(){return Math.abs(this)});a.defn(g,"$abs2",function(){return Math.abs(this*
	this)});a.defn(g,"$angle",function(){var a;return(a=this["$nan?"]())===b||a.$$is_boolean&&1!=a?0==this?0<1/this?0:Math.PI:0>this?Math.PI:0:this});a.alias(g,"arg","angle");a.alias(g,"phase","angle");a.defn(g,"$bit_length",function(){var a;((a=m.get("Integer")["$==="](this))===b||a.$$is_boolean&&1!=a)&&this.$raise(m.get("NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;a=0;for(var e=0>this?~this:this;0!=e;)a+=1,e>>>=1;return a});
	a.defn(g,"$ceil",function(){return Math.ceil(this)});a.defn(g,"$chr",function(a){return String.fromCharCode(this)});a.defn(g,"$denominator",u=function(){var e=x.call(arguments,0),h,g,m=u.$$p;u.$$p=null;return(h=!1!==(g=this["$nan?"]())&&g!==b?g:this["$infinite?"]())===b||h.$$is_boolean&&1!=h?a.find_super_dispatcher(this,"denominator",u,m).apply(this,e):1});a.defn(g,"$downto",A=function(a){var e,h,g=A.$$p||b;A.$$p=null;if(g===b)return(e=this.$enum_for,e.$$p=(h=function(){var e=h.$$s||this,g;((g=m.get("Numeric")["$==="](a))===
	b||g.$$is_boolean&&1!=g)&&e.$raise(m.get("ArgumentError"),"comparison of "+e.$class()+" with "+a.$class()+" failed");return n(a,e)?0:l(f(e,a),1)},h.$$s=this,h),e).call(this,"downto",a);a.$$is_number||this.$raise(m.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(e=this;e>=a;e--)if(g(e)===D)return D.$v;return this});a.alias(g,"eql?","==");a.defn(g,"$equal?",function(a){var e;return!1!==(e=this["$=="](a))&&e!==b?e:isNaN(this)&&isNaN(a)});a.defn(g,"$even?",function(){return 0===
	this%2});a.defn(g,"$floor",function(){return Math.floor(this)});a.defn(g,"$gcd",function(a){var e;((e=m.get("Integer")["$==="](a))===b||e.$$is_boolean&&1!=e)&&this.$raise(m.get("TypeError"),"not an integer");e=Math.abs(this);for(a=Math.abs(a);0<e;){var h=e;e=a%e;a=h}return a});a.defn(g,"$gcdlcm",function(a){return[this.$gcd(),this.$lcm()]});a.defn(g,"$hash",function(){return"Numeric:"+this.toString()});a.defn(g,"$integer?",function(){return 0===this%1});a.defn(g,"$is_a?",z=function(e){var h=x.call(arguments,
	0),g,d=z.$$p;z.$$p=null;return((g=e["$=="](m.get("Fixnum"))?m.get("Integer")["$==="](this):e["$=="](m.get("Fixnum")))===b||g.$$is_boolean&&1!=g)&&((g=e["$=="](m.get("Integer"))?m.get("Integer")["$==="](this):e["$=="](m.get("Integer")))===b||g.$$is_boolean&&1!=g)&&((g=e["$=="](m.get("Float"))?m.get("Float")["$==="](this):e["$=="](m.get("Float")))===b||g.$$is_boolean&&1!=g)?a.find_super_dispatcher(this,"is_a?",z,d).apply(this,h):!0});a.alias(g,"kind_of?","is_a?");a.defn(g,"$instance_of?",h=function(e){var g=
	x.call(arguments,0),d,c=h.$$p;h.$$p=null;return((d=e["$=="](m.get("Fixnum"))?m.get("Integer")["$==="](this):e["$=="](m.get("Fixnum")))===b||d.$$is_boolean&&1!=d)&&((d=e["$=="](m.get("Integer"))?m.get("Integer")["$==="](this):e["$=="](m.get("Integer")))===b||d.$$is_boolean&&1!=d)&&((d=e["$=="](m.get("Float"))?m.get("Float")["$==="](this):e["$=="](m.get("Float")))===b||d.$$is_boolean&&1!=d)?a.find_super_dispatcher(this,"instance_of?",h,c).apply(this,g):!0});a.defn(g,"$lcm",function(a){var e;((e=m.get("Integer")["$==="](a))===
	b||e.$$is_boolean&&1!=e)&&this.$raise(m.get("TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))});a.alias(g,"magnitude","abs");a.alias(g,"modulo","%");a.defn(g,"$next",function(){return this+1});a.defn(g,"$nonzero?",function(){return 0==this?b:this});a.defn(g,"$numerator",e=function(){var h=x.call(arguments,0),g,m,d=e.$$p;e.$$p=null;return(g=!1!==(m=this["$nan?"]())&&m!==b?m:this["$infinite?"]())===b||g.$$is_boolean&&1!=g?a.find_super_dispatcher(this,"numerator",e,
	d).apply(this,h):this});a.defn(g,"$odd?",function(){return 0!==this%2});a.defn(g,"$ord",function(){return this});a.defn(g,"$pred",function(){return this-1});a.defn(g,"$quo",w=function(e){var h=x.call(arguments,0),g,d=w.$$p;w.$$p=null;return(g=m.get("Integer")["$==="](this))===b||g.$$is_boolean&&1!=g?k(this,e):a.find_super_dispatcher(this,"quo",w,d).apply(this,h)});a.defn(g,"$rationalize",function(e){var h,g=b,c=b;1<arguments.length&&this.$raise(m.get("ArgumentError"),"wrong number of arguments ("+
	arguments.length+" for 0..1)");if((h=m.get("Integer")["$==="](this))===b||h.$$is_boolean&&1!=h){if((h=this["$infinite?"]())===b||h.$$is_boolean&&1!=h){if((h=this["$nan?"]())===b||h.$$is_boolean&&1!=h){if((h=null==e)===b||h.$$is_boolean&&1!=h)return this.$to_r().$rationalize(e);h=a.to_ary(m.get("Math").$frexp(this));g=null==h[0]?b:h[0];c=null==h[1]?b:h[1];g=m.get("Math").$ldexp(g,m.get("Float").$$scope.get("MANT_DIG")).$to_i();c=f(c,m.get("Float").$$scope.get("MANT_DIG"));return m.get("Rational").$new(d(2,
	g),1["$<<"](f(1,c))).$rationalize(m.get("Rational").$new(1,1["$<<"](f(1,c))))}return this.$raise(m.get("FloatDomainError"),"NaN")}return this.$raise(m.get("FloatDomainError"),"Infinity")}return m.get("Rational").$new(this,1)});a.defn(g,"$round",function(e){var h,g,d=b;if((h=m.get("Integer")["$==="](this))===b||h.$$is_boolean&&1!=h){(h=(g=this["$nan?"](),!1!==g&&g!==b?null==e:g))===b||h.$$is_boolean&&1!=h||this.$raise(m.get("FloatDomainError"),"NaN");e=m.get("Opal")["$coerce_to!"](e||0,m.get("Integer"),
	"to_int");if("number"===typeof e?0>=e:e["$<="](0))(h=this["$nan?"]())===b||h.$$is_boolean&&1!=h?(h=this["$infinite?"]())===b||h.$$is_boolean&&1!=h||this.$raise(m.get("FloatDomainError"),"Infinity"):this.$raise(m.get("RangeError"),"NaN");else{if(e["$=="](0))return Math.round(this);if((h=!1!==(g=this["$nan?"]())&&g!==b?g:this["$infinite?"]())!==b&&(!h.$$is_boolean||1==h))return this}h=a.to_ary(m.get("Math").$frexp(this));var d=null==h[1]?b:h[1],c=f(l(m.get("Float").$$scope.get("DIG"),2),n(d,0)?k(d,
	4):f(k(d,3),1));return("number"===typeof e&&"number"===typeof c?e>=c:e["$>="](c))?this:q(e,(n(d,0)?l(k(d,3),1):k(d,4))["$-@"]())?0:Math.round(this*Math.pow(10,e))/Math.pow(10,e)}if((h=null==e)!==b&&(!h.$$is_boolean||1==h))return this;(h=(g=m.get("Float")["$==="](e),!1!==g&&g!==b?e["$infinite?"]():g))===b||h.$$is_boolean&&1!=h||this.$raise(m.get("RangeError"),"Infinity");e=m.get("Opal")["$coerce_to!"](e,m.get("Integer"),"to_int");q(e,m.get("Integer").$$scope.get("MIN"))&&this.$raise(m.get("RangeError"),
	"out of bounds");if((h=0<=e)!==b&&(!h.$$is_boolean||1==h))return this;e=e["$-@"]();if(.415241*e-.125>this.$size())return 0;e=Math.pow(10,e);c=Math.floor((Math.abs(c)+e/2)/e)*e;return 0>this?-c:c});a.defn(g,"$step",E=function(a,e){var h,g=E.$$p||b;null==e&&(e=1);E.$$p=null;if(!1===g||g===b)return this.$enum_for("step",a,e);(h=0==e)===b||h.$$is_boolean&&1!=h||this.$raise(m.get("ArgumentError"),"step cannot be 0");h=this;if(Infinity===a||-Infinity===a)return g(h),this;if(0<e)for(;h<=a;)g(h),h+=e;else for(;h>=
	a;)g(h),h+=e;return this});a.alias(g,"succ","next");a.defn(g,"$times",C=function(){var a=C.$$p||b;C.$$p=null;if(!1===a||a===b)return this.$enum_for("times");for(var e=0;e<this;e++)if(a(e)===D)return D.$v;return this});a.defn(g,"$to_f",function(){return this});a.defn(g,"$to_i",function(){return parseInt(this,10)});a.alias(g,"to_int","to_i");a.defn(g,"$to_r",function(){var e,h=b,g=b;return(e=m.get("Integer")["$==="](this))===b||e.$$is_boolean&&1!=e?(e=a.to_ary(m.get("Math").$frexp(this)),h=null==e[0]?
	b:e[0],g=null==e[1]?b:e[1],h=m.get("Math").$ldexp(h,m.get("Float").$$scope.get("MANT_DIG")).$to_i(),g=f(g,m.get("Float").$$scope.get("MANT_DIG")),d(h,m.get("Float").$$scope.get("RADIX")["$**"](g)).$to_r()):m.get("Rational").$new(this,1)});a.defn(g,"$to_s",function(a){var e,h;null==a&&(a=10);(e=!1!==(h=q(a,2))&&h!==b?h:n(a,36))===b||e.$$is_boolean&&1!=e||this.$raise(m.get("ArgumentError"),"base must be between 2 and 36");return this.toString(a)});a.alias(g,"truncate","to_i");a.alias(g,"inspect","to_s");
	a.defn(g,"$divmod",M=function(e){var h=x.call(arguments,0),g,d,c=M.$$p;M.$$p=null;return(g=!1!==(d=this["$nan?"]())&&d!==b?d:e["$nan?"]())===b||g.$$is_boolean&&1!=g?(g=this["$infinite?"]())===b||g.$$is_boolean&&1!=g?a.find_super_dispatcher(this,"divmod",M,c).apply(this,h):this.$raise(m.get("FloatDomainError"),"Infinity"):this.$raise(m.get("FloatDomainError"),"NaN")});a.defn(g,"$upto",I=function(a){var e,h,g=I.$$p||b;I.$$p=null;if(g===b)return(e=this.$enum_for,e.$$p=(h=function(){var e=h.$$s||this,
	g;((g=m.get("Numeric")["$==="](a))===b||g.$$is_boolean&&1!=g)&&e.$raise(m.get("ArgumentError"),"comparison of "+e.$class()+" with "+a.$class()+" failed");return q(a,e)?0:l(f(a,e),1)},h.$$s=this,h),e).call(this,"upto",a);a.$$is_number||this.$raise(m.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(e=this;e<=a;e++)if(g(e)===D)return D.$v;return this});a.defn(g,"$zero?",function(){return 0==this});a.defn(g,"$size",function(){return 4});a.defn(g,"$nan?",function(){return isNaN(this)});
	a.defn(g,"$finite?",function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)});a.defn(g,"$infinite?",function(){return Infinity==this?1:-Infinity==this?-1:b});a.defn(g,"$positive?",function(){return Infinity==this||0<1/this});return(a.defn(g,"$negative?",function(){return-Infinity==this||0>1/this}),b)&&"negative?"})(a.base,a.get("Numeric"));a.cdecl(a,"Fixnum",a.get("Number"));(function(b,$super){function d(){}var g=d=y(b,$super,"Integer",d),m=g.$$scope;a.defs(g,"$===",function(a){return a.$$is_number?
	0===a%1:!1});a.cdecl(m,"MAX",Math.pow(2,30)-1);return a.cdecl(m,"MIN",-Math.pow(2,30))})(a.base,a.get("Numeric"));return function(d,$super){function c(){}var g=c=y(d,$super,"Float",c),m=g.$$scope,u;a.defs(g,"$===",function(a){return!!a.$$is_number});a.cdecl(m,"INFINITY",Infinity);a.cdecl(m,"MAX",Number.MAX_VALUE);a.cdecl(m,"MIN",Number.MIN_VALUE);a.cdecl(m,"NAN",NaN);a.cdecl(m,"DIG",15);a.cdecl(m,"MANT_DIG",53);a.cdecl(m,"RADIX",2);return(u="undefined"!==typeof Number.EPSILON)===b||u.$$is_boolean&&
	1!=u?a.cdecl(m,"EPSILON",2.220446049250313E-16):a.cdecl(m,"EPSILON",Number.EPSILON)}(a.base,a.get("Numeric"))};
	Opal.modules["corelib/range"]=function(a){function n(a,d){return"number"===typeof a&&"number"===typeof d?a<=d:a["$<="](d)}function q(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}a.dynamic_require_severity="warning";var l=a.top,f=a.nil,k=a.breaker,d=a.slice,c=a.klass;a.add_stubs("$require $include $attr_reader $<=> $raise $include? $<= $< $enum_for $succ $! $== $=== $exclude_end? $eql? $begin $end $- $abs $to_i $inspect".split(" "));l.$require("corelib/enumerable");return function(b,
	$super){function l(){}var y=l=c(b,$super,"Range",l),t=y.$$proto,p=y.$$scope,r,g,m;t.begin=t.exclude=t.end=f;y.$include(p.get("Enumerable"));t.$$is_range=!0;y.$attr_reader("begin","end");a.defn(y,"$initialize",function(a,b,g){var h;null==g&&(g=!1);((h=a["$<=>"](b))===f||h.$$is_boolean&&1!=h)&&this.$raise(p.get("ArgumentError"));this.begin=a;this.end=b;return this.exclude=g});a.defn(y,"$==",function(a){return a.$$is_range?this.exclude===a.exclude&&this.begin==a.begin&&this.end==a.end:!1});a.defn(y,
	"$===",function(a){return this["$include?"](a)});a.defn(y,"$cover?",function(a){var b;return n(this.begin,a)?(b=this.exclude)===f||b.$$is_boolean&&1!=b?n(a,this.end):q(a,this.end):n(this.begin,a)});a.defn(y,"$each",r=function(){var b,g,d=r.$$p||f,h=f,e=f;r.$$p=null;if(d===f)return this.$enum_for("each");h=this.begin;for(e=this.end;q(h,e);){if(a.yield1(d,h)===k)return k.$v;h=h.$succ()}return(b=(g=this.exclude["$!"](),!1!==g&&g!==f?h["$=="](e):g))===f||b.$$is_boolean&&1!=b||a.yield1(d,h)!==k?this:k.$v});
	a.defn(y,"$eql?",function(a){var b,g;return(b=p.get("Range")["$==="](a))===f||b.$$is_boolean&&1!=b?!1:(b=(g=this.exclude["$==="](a["$exclude_end?"]()),!1!==g&&g!==f?this.begin["$eql?"](a.$begin()):g),!1!==b&&b!==f?this.end["$eql?"](a.$end()):b)});a.defn(y,"$exclude_end?",function(){return this.exclude});a.alias(y,"first","begin");a.alias(y,"include?","cover?");a.alias(y,"last","end");a.defn(y,"$max",g=function(){var b=d.call(arguments,0),m=g.$$p,c=m||f;g.$$p=null;return c!==f?a.find_super_dispatcher(this,
	"max",g,m).apply(this,b):this.exclude?this.end-1:this.end});a.alias(y,"member?","cover?");a.defn(y,"$min",m=function(){var b=d.call(arguments,0),g=m.$$p,c=g||f;m.$$p=null;return c!==f?a.find_super_dispatcher(this,"min",m,g).apply(this,b):this.begin});a.alias(y,"member?","include?");a.defn(y,"$size",function(){var a,b,g=f,h=f,e=f,g=this.begin,h=this.end;(a=this.exclude)===f||a.$$is_boolean&&1!=a||(h="number"===typeof h?h-1:h["$-"](1));if((a=(b=p.get("Numeric")["$==="](g),!1!==b&&b!==f?p.get("Numeric")["$==="](h):
	b))===f||a.$$is_boolean&&1!=a)return f;if(q(h,g))return 0;e=p.get("Float").$$scope.get("INFINITY");return(a=!1!==(b=e["$=="](g.$abs()))&&b!==f?b:h.$abs()["$=="](e))===f||a.$$is_boolean&&1!=a?(Math.abs(h-g)+1).$to_i():e});a.defn(y,"$step",function(a){return this.$raise(p.get("NotImplementedError"))});a.defn(y,"$to_s",function(){return this.begin.$inspect()+(this.exclude?"...":"..")+this.end.$inspect()});return a.alias(y,"inspect","to_s")}(a.base,null)};
	Opal.modules["corelib/proc"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.breaker,l=a.slice,f=a.klass;a.add_stubs(["$raise","$coerce_to!"]);return function(k,$super){function c(){}var b=c=f(k,$super,"Proc",c),D=b.$$proto,x=b.$$scope,y,t;D.$$is_proc=!0;D.$$is_lambda=!1;a.defs(b,"$new",y=function(){var a=y.$$p||n;y.$$p=null;!1!==a&&a!==n||this.$raise(x.get("ArgumentError"),"tried to create a Proc object without a block");return a});a.defn(b,"$call",t=function(){var b=t.$$p||n,c=
	arguments.length-0;0>c&&(c=0);for(var g=Array(c),m=0;m<c;m++)g[m]=arguments[m+0];t.$$p=null;b!==n&&(this.$$p=b);b=this.$$is_lambda?this.apply(null,g):a.yieldX(this,g);return b===q?q.$v:b});a.alias(b,"[]","call");a.alias(b,"===","call");a.alias(b,"yield","call");a.defn(b,"$to_proc",function(){return this});a.defn(b,"$lambda?",function(){return!!this.$$is_lambda});a.defn(b,"$arity",function(){return this.$$is_curried?-1:this.$$arity?this.$$arity:this.length});a.defn(b,"$source_location",function(){return n});
	a.defn(b,"$binding",function(){this.$$is_curried&&this.$raise(x.get("ArgumentError"),"Can't create Binding");return n});a.defn(b,"$parameters",function(){return this.$$is_curried?[["rest"]]:n});a.defn(b,"$curry",function(a){function b(){var m=l.call(arguments),c=m.length;c>a&&g.$$is_lambda&&!g.$$is_curried&&g.$raise(x.get("ArgumentError"),"wrong number of arguments ("+c+" for "+a+")");if(c>=a)return g.$call.apply(g,m);c=function(){return b.apply(null,m.concat(l.call(arguments)))};c.$$is_lambda=g.$$is_lambda;
	c.$$is_curried=!0;return c}var g=this;void 0===a?a=g.length:(a=x.get("Opal")["$coerce_to!"](a,x.get("Integer"),"to_int"),g.$$is_lambda&&a!==g.length&&g.$raise(x.get("ArgumentError"),"wrong number of arguments ("+a+" for "+g.length+")"));b.$$is_lambda=g.$$is_lambda;b.$$is_curried=!0;return b});a.defn(b,"$dup",function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},g;for(g in this)this.hasOwnProperty(g)&&(b[g]=this[g]);return b});return a.alias(b,"clone","dup")}(a.base,
	Function)};
	Opal.modules["corelib/method"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.slice,l=a.klass;a.add_stubs(["$attr_reader","$class","$arity","$new","$name"]);(function(f,$super){function d(){}var c=d=l(f,$super,"Method",d),b=c.$$proto,D=c.$$scope,x;b.method=b.receiver=b.owner=b.name=n;c.$attr_reader("owner","receiver","name");a.defn(c,"$initialize",function(a,b,d){this.receiver=a;this.owner=a.$class();this.name=d;return this.method=b});a.defn(c,"$arity",function(){return this.method.$arity()});a.defn(c,
	"$call",x=function(){var a=x.$$p||n,b=arguments.length-0;0>b&&(b=0);for(var d=Array(b),c=0;c<b;c++)d[c]=arguments[c+0];x.$$p=null;this.method.$$p=a;return this.method.apply(this.receiver,d)});a.alias(c,"[]","call");a.defn(c,"$unbind",function(){return D.get("UnboundMethod").$new(this.owner,this.method,this.name)});a.defn(c,"$to_proc",function(){var a=this,b=function(){return a.$call.apply(a,q.call(arguments))};b.$$unbound=a.method;b.$$is_lambda=!0;return b});return(a.defn(c,"$inspect",function(){return"#<Method: "+
	this.receiver.$class()+"#"+this.name+">"}),n)&&"inspect"})(a.base,null);return function(f,$super){function d(){}var c=d=l(f,$super,"UnboundMethod",d),b=c.$$proto,q=c.$$scope;b.method=b.name=b.owner=n;c.$attr_reader("owner","name");a.defn(c,"$initialize",function(a,b,d){this.owner=a;this.method=b;return this.name=d});a.defn(c,"$arity",function(){return this.method.$arity()});a.defn(c,"$bind",function(a){return q.get("Method").$new(a,this.method,this.name)});return(a.defn(c,"$inspect",function(){return"#<UnboundMethod: "+
	this.owner.$name()+"#"+this.name+">"}),n)&&"inspect"}(a.base,null)};Opal.modules["corelib/variables"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.gvars,l=a.hash2;a.add_stubs(["$new"]);q["&"]=q["~"]=q["`"]=q["'"]=n;q.LOADED_FEATURES=q['"']=a.loaded_features;q.LOAD_PATH=q[":"]=[];q["/"]="\n";q[","]=n;a.cdecl(a,"ARGV",[]);a.cdecl(a,"ARGF",a.get("Object").$new());a.cdecl(a,"ENV",l([],{}));q.VERBOSE=!1;q.DEBUG=!1;return q.SAFE=0};
	Opal.modules["opal/mini"]=function(a){a.dynamic_require_severity="warning";var n=a.top;a.add_stubs(["$require"]);n.$require("opal/base");n.$require("corelib/nil");n.$require("corelib/boolean");n.$require("corelib/string");n.$require("corelib/comparable");n.$require("corelib/enumerable");n.$require("corelib/enumerator");n.$require("corelib/array");n.$require("corelib/hash");n.$require("corelib/number");n.$require("corelib/range");n.$require("corelib/proc");n.$require("corelib/method");n.$require("corelib/regexp");
	return n.$require("corelib/variables")};
	Opal.modules["corelib/array/inheritance"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.slice,l=a.klass;a.add_stubs("$new $allocate $initialize $to_proc $__send__ $clone $respond_to? $== $eql? $inspect $hash $* $class $slice $uniq $flatten $- $+".split(" "));(function(f,$super){function d(){}var c=d=l(f,$super,"Array",d),b=c.$$scope;return(a.defs(c,"$inherited",function(a){var d=n,d=b.get("Class").$new(b.get("Array").$$scope.get("Wrapper"));a.$$proto=d.$$proto;a.$$proto.$$class=
	a;a.$$alloc=d.$$alloc;a.$$parent=b.get("Array").$$scope.get("Wrapper");a.$allocate=d.$allocate;a.$new=d.$new;a["$[]"]=d["$[]"]}),n)&&"inherited"})(a.base,null);return function(f,$super){function d(){}var c=d=l(f,$super,"Wrapper",d),b=c.$$proto,D=c.$$scope,x,y,t,p,r;b.literal=n;b.$$is_array=!0;a.defs(c,"$allocate",x=function(b){var m=n;null==b&&(b=[]);x.$$p=null;m=a.find_super_dispatcher(this,"allocate",x,null,d).apply(this,[]);m.literal=b;return m});a.defs(c,"$new",y=function(){var b,d,c=y.$$p||n,
	f=n,f=arguments.length-0;0>f&&(f=0);for(var z=Array(f),h=0;h<f;h++)z[h]=arguments[h+0];y.$$p=null;f=this.$allocate();(b=(d=f).$initialize,b.$$p=c.$to_proc(),b).apply(d,a.to_a(z));return f});a.defs(c,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),d=0;d<a;d++)b[d]=arguments[d+0];return this.$allocate(b)});a.defn(c,"$initialize",t=function(){var b,d,c=t.$$p||n,f=arguments.length-0;0>f&&(f=0);for(var z=Array(f),h=0;h<f;h++)z[h]=arguments[h+0];t.$$p=null;return this.literal=(b=
	(d=D.get("Array")).$new,b.$$p=c.$to_proc(),b).apply(d,a.to_a(z))});a.defn(c,"$method_missing",p=function(){var b,d,c=p.$$p||n,f=n,f=arguments.length-0;0>f&&(f=0);for(var z=Array(f),h=0;h<f;h++)z[h]=arguments[h+0];p.$$p=null;f=(b=(d=this.literal).$__send__,b.$$p=c.$to_proc(),b).apply(d,a.to_a(z));return(b=f===this.literal)===n||b.$$is_boolean&&1!=b?f:this});a.defn(c,"$initialize_copy",function(a){return this.literal=a.literal.$clone()});a.defn(c,"$respond_to?",r=function(b){var d=q.call(arguments,
	0),c,f=r.$$p;r.$$p=null;return!1!==(c=a.find_super_dispatcher(this,"respond_to?",r,f).apply(this,d))&&c!==n?c:this.literal["$respond_to?"](b)});a.defn(c,"$==",function(a){return this.literal["$=="](a)});a.defn(c,"$eql?",function(a){return this.literal["$eql?"](a)});a.defn(c,"$to_a",function(){return this.literal});a.defn(c,"$to_ary",function(){return this});a.defn(c,"$inspect",function(){return this.literal.$inspect()});a.defn(c,"$hash",function(){return this.literal.$hash()});a.defn(c,"$*",function(a){var b=
	this.literal;a="number"===typeof b&&"number"===typeof a?b*a:b["$*"](a);return a.$$is_array?this.$class().$allocate(a):a});a.defn(c,"$[]",function(a,b){var d=this.literal.$slice(a,b);return d.$$is_array&&(a.$$is_range||void 0!==b)?this.$class().$allocate(d):d});a.alias(c,"slice","[]");a.defn(c,"$uniq",function(){return this.$class().$allocate(this.literal.$uniq())});a.defn(c,"$flatten",function(a){return this.$class().$allocate(this.literal.$flatten(a))});a.defn(c,"$-",function(a){var b=this.literal;
	return"number"===typeof b&&"number"===typeof a?b-a:b["$-"](a)});return(a.defn(c,"$+",function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)}),n)&&"+"}(a.get("Array"),null)};
	Opal.modules["corelib/string/inheritance"]=function(a){a.dynamic_require_severity="warning";var n=a.top,q=a.nil,l=a.slice,f=a.klass,k=a.gvars;a.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect $+ $* $map $split $enum_for $each_line $to_a $%".split(" "));n.$require("corelib/string");(function(d,$super){function b(){}var k=b=f(d,$super,"String",b),l=k.$$scope;return(a.defs(k,"$inherited",function(a){var b=q,b=l.get("Class").$new(l.get("String").$$scope.get("Wrapper"));
	a.$$proto=b.$$proto;a.$$proto.$$class=a;a.$$alloc=b.$$alloc;a.$$parent=l.get("String").$$scope.get("Wrapper");a.$allocate=b.$allocate;a.$new=b.$new}),q)&&"inherited"})(a.base,null);return function(d,$super){function b(){}var n=b=f(d,$super,"Wrapper",b),x=n.$$proto,y,t,p,r,g,m;x.literal=q;x.$$is_string=!0;a.defs(n,"$allocate",y=function(g){var d=q;null==g&&(g="");y.$$p=null;d=a.find_super_dispatcher(this,"allocate",y,null,b).apply(this,[]);d.literal=g;return d});a.defs(n,"$new",t=function(){var b,
	g,d=t.$$p||q,h=q,h=arguments.length-0;0>h&&(h=0);for(var e=Array(h),m=0;m<h;m++)e[m]=arguments[m+0];t.$$p=null;h=this.$allocate();(b=(g=h).$initialize,b.$$p=d.$to_proc(),b).apply(g,a.to_a(e));return h});a.defs(n,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),g=0;g<a;g++)b[g]=arguments[g+0];return this.$allocate(b)});a.defn(n,"$initialize",function(a){null==a&&(a="");return this.literal=a});a.defn(n,"$method_missing",p=function(){var b,g,d=p.$$p||q,h=q,h=arguments.length-0;
	0>h&&(h=0);for(var e=Array(h),m=0;m<h;m++)e[m]=arguments[m+0];p.$$p=null;h=(b=(g=this.literal).$__send__,b.$$p=d.$to_proc(),b).apply(g,a.to_a(e));return(b=null!=h.$$is_string)===q||b.$$is_boolean&&1!=b?h:(b=h==this.literal)===q||b.$$is_boolean&&1!=b?this.$class().$allocate(h):this});a.defn(n,"$initialize_copy",function(a){return this.literal=a.literal.$clone()});a.defn(n,"$respond_to?",r=function(b){var g=l.call(arguments,0),d,h=r.$$p;r.$$p=null;return!1!==(d=a.find_super_dispatcher(this,"respond_to?",
	r,h).apply(this,g))&&d!==q?d:this.literal["$respond_to?"](b)});a.defn(n,"$==",function(a){return this.literal["$=="](a)});a.alias(n,"eql?","==");a.alias(n,"===","==");a.defn(n,"$to_s",function(){return this.literal});a.alias(n,"to_str","to_s");a.defn(n,"$inspect",function(){return this.literal.$inspect()});a.defn(n,"$+",function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)});a.defn(n,"$*",function(a){var b=this.literal;a="number"===typeof b&&"number"===typeof a?
	b*a:b["$*"](a);return a.$$is_string?this.$class().$allocate(a):a});a.defn(n,"$split",function(a,b){var g,h,e;return(g=(h=this.literal.$split(a,b)).$map,g.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=q);return b.$class().$allocate(a)},e.$$s=this,e),g).call(h)});a.defn(n,"$replace",function(a){return this.literal=a});a.defn(n,"$each_line",g=function(b){var d,m,h,e=g.$$p||q;null==k["/"]&&(k["/"]=q);null==b&&(b=k["/"]);g.$$p=null;return e===q?this.$enum_for("each_line",b):(d=(m=this.literal).$each_line,
	d.$$p=(h=function(b){var g=h.$$s||this,d;null==b&&(b=q);return d=a.yield1(e,g.$class().$allocate(b)),d},h.$$s=this,h),d).call(m,b)});a.defn(n,"$lines",m=function(a){var b,g=m.$$p||q,h=q;null==k["/"]&&(k["/"]=q);null==a&&(a=k["/"]);m.$$p=null;h=(b=this.$each_line,b.$$p=g.$to_proc(),b).call(this,a);return!1!==g&&g!==q?this:h.$to_a()});return(a.defn(n,"$%",function(a){return this.literal["$%"](a)}),q)&&"%"}(a.get("String"),null)};
	Opal.modules["corelib/string/encoding"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var q,l,f,k,d,c,b,D=a.top,x=a.nil,y=a.breaker,t=a.klass,p=a.hash2;a.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $upcase $const_get $=== $== $name $include? $names $constants $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $nil? $getbyte".split(" "));
	D.$require("corelib/string");(function(b,$super){function d(){}var c=d=t(b,$super,"Encoding",d),f=c.$$proto,k=c.$$scope,h;f.ascii=f.dummy=f.name=x;a.defs(c,"$register",h=function(a,b){var d,m,c,u,f=h.$$p||x,B=x,A=x;null==b&&(b=p([],{}));h.$$p=null;B=n([a],!1!==(d=b["$[]"]("aliases"))&&d!==x?d:[]);A=(d=(m=k.get("Class")).$new,d.$$p=f.$to_proc(),d).call(m,this).$new(a,B,!1!==(d=b["$[]"]("ascii"))&&d!==x?d:!1,!1!==(d=b["$[]"]("dummy"))&&d!==x?d:!1);return(d=(c=B).$each,d.$$p=(u=function(a){var e=u.$$s||
	this;null==a&&(a=x);return e.$const_set(a.$sub("-","_"),A)},u.$$s=this,u),d).call(c)});a.defs(c,"$find",function(e){try{var b,h,d,m=x,m=e.$upcase();(b=(h=this.$constants()).$each,b.$$p=(d=function(e){var b=d.$$s||this,h,c,w=x;null==e&&(e=x);w=b.$const_get(e);if((h=k.get("Encoding")["$==="](w))===x||h.$$is_boolean&&1!=h||(h=!1!==(c=w.$name()["$=="](m))&&c!==x?c:w.$names()["$include?"](m))===x||h.$$is_boolean&&1!=h)return x;a.ret(w)},d.$$s=this,d),b).call(h);return this.$raise(k.get("ArgumentError"),
	"unknown encoding name - "+e)}catch(c){if(c===a.returner)return c.$v;throw c;}});(function(a){return a.$attr_accessor("default_external")})(a.get_singleton_class(c));c.$attr_reader("name","names");a.defn(c,"$initialize",function(a,b,h,d){this.name=a;this.names=b;this.ascii=h;return this.dummy=d});a.defn(c,"$ascii_compatible?",function(){return this.ascii});a.defn(c,"$dummy?",function(){return this.dummy});a.defn(c,"$to_s",function(){return this.name});a.defn(c,"$inspect",function(){var a;return"#<Encoding:"+
	this.name+((a=this.dummy)===x||a.$$is_boolean&&1!=a?x:" (dummy)")+">"});a.defn(c,"$each_byte",function(){return this.$raise(k.get("NotImplementedError"))});a.defn(c,"$getbyte",function(){return this.$raise(k.get("NotImplementedError"))});a.defn(c,"$bytesize",function(){return this.$raise(k.get("NotImplementedError"))});(function(a,$super){function b(){}b=t(a,$super,"EncodingError",b);return x})(k.base,k.get("StandardError"));return function(a,$super){function b(){}b=t(a,$super,"CompatibilityError",
	b);return x}(k.base,k.get("EncodingError"))})(a.base,null);(q=(l=a.get("Encoding")).$register,q.$$p=(f=function(){var b=f.$$s||this,g;a.def(b,"$each_byte",g=function(b){var d,c=g.$$p||x;g.$$p=null;for(var f=0,h=b.length;f<h;f++){var e=b.charCodeAt(f);if(127>=e)(d=a.yield1(c,e))===y?y.$v:d;else for(var e=encodeURIComponent(b.charAt(f)).substr(1).split("%"),w=0,k=e.length;w<k;w++)(d=a.yield1(c,parseInt(e[w],16)))===y?y.$v:d}});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),x)&&
	"bytesize"},f.$$s=D,f),q).call(l,"UTF-8",p(["aliases","ascii"],{aliases:["CP65001"],ascii:!0}));(q=(k=a.get("Encoding")).$register,q.$$p=(d=function(){var b=d.$$s||this,g;a.def(b,"$each_byte",g=function(b){var d,c=g.$$p||x;g.$$p=null;for(var f=0,h=b.length;f<h;f++){var e=b.charCodeAt(f);(d=a.yield1(c,e&255))===y?y.$v:d;(d=a.yield1(c,e>>8))===y?y.$v:d}});return(a.def(b,"$bytesize",function(){return this.$bytes().$length()}),x)&&"bytesize"},d.$$s=D,d),q).call(k,"UTF-16LE");(q=(c=a.get("Encoding")).$register,
	q.$$p=(b=function(){var d=b.$$s||this,g;a.def(d,"$each_byte",g=function(b){var d,c=g.$$p||x;g.$$p=null;for(var f=0,h=b.length;f<h;f++)(d=a.yield1(c,b.charCodeAt(f)&255))===y?y.$v:d});return(a.def(d,"$bytesize",function(){return this.$bytes().$length()}),x)&&"bytesize"},b.$$s=D,b),q).call(c,"ASCII-8BIT",p(["aliases","ascii"],{aliases:["BINARY"],ascii:!0}));return function(b,$super){function d(){}var c=d=t(b,$super,"String",d),f=c.$$scope,k;c.$$proto.encoding=x;String.prototype.encoding=f.get("Encoding").$$scope.get("UTF_16LE");
	a.defn(c,"$bytes",function(){return this.$each_byte().$to_a()});a.defn(c,"$bytesize",function(){return this.encoding.$bytesize(this)});a.defn(c,"$each_byte",k=function(){var a,e,b=k.$$p||x;k.$$p=null;if(b===x)return this.$enum_for("each_byte");(a=(e=this.encoding).$each_byte,a.$$p=b.$to_proc(),a).call(e,this);return this});a.defn(c,"$encode",function(a){return this.$dup().$force_encoding(a)});a.defn(c,"$encoding",function(){return this.encoding});a.defn(c,"$force_encoding",function(a){var e;a=f.get("Opal")["$coerce_to!"](a,
	f.get("String"),"to_str");a=f.get("Encoding").$find(a);if(a["$=="](this.encoding))return this;(e=a["$nil?"]())===x||e.$$is_boolean&&1!=e||this.$raise(f.get("ArgumentError"),"unknown encoding name - "+a);e=new String(this);e.encoding=a;return e});return(a.defn(c,"$getbyte",function(a){return this.encoding.$getbyte(this,a)}),x)&&"getbyte"}(a.base,null)};
	Opal.modules["corelib/math"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.module;a.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(l){l=q(l,"Math");var f=l.$$scope,k;a.cdecl(f,"E",Math.E);a.cdecl(f,"PI",Math.PI);a.cdecl(f,"DomainError",f.get("Class").$new(f.get("StandardError")));a.defs(l,"$checked",function(a){var c=arguments.length-1;0>c&&(c=0);for(var b=Array(c),k=0;k<c;k++)b[k]=
	arguments[k+1];if(isNaN(b[0])||2==b.length&&isNaN(b[1]))return NaN;c=Math[a].apply(null,b);isNaN(c)&&this.$raise(f.get("DomainError"),'Numerical argument is out of domain - "'+a+'"');return c});a.defs(l,"$float!",function(d){try{return this.$Float(d)}catch(c){if(a.rescue(c,[f.get("ArgumentError")]))try{return this.$raise(f.get("Opal").$type_error(d,f.get("Float")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw c;}});a.defs(l,"$integer!",function(d){try{return this.$Integer(d)}catch(c){if(a.rescue(c,
	[f.get("ArgumentError")]))try{return this.$raise(f.get("Opal").$type_error(d,f.get("Integer")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw c;}});l.$module_function();a.defn(l,"$acos",function(a){return f.get("Math").$checked("acos",f.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.acosh)===n||k.$$is_boolean&&1!=k)Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))};a.defn(l,"$acosh",function(a){return f.get("Math").$checked("acosh",f.get("Math")["$float!"](a))});
	a.defn(l,"$asin",function(a){return f.get("Math").$checked("asin",f.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.asinh)===n||k.$$is_boolean&&1!=k)Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))};a.defn(l,"$asinh",function(a){return f.get("Math").$checked("asinh",f.get("Math")["$float!"](a))});a.defn(l,"$atan",function(a){return f.get("Math").$checked("atan",f.get("Math")["$float!"](a))});a.defn(l,"$atan2",function(a,c){return f.get("Math").$checked("atan2",f.get("Math")["$float!"](a),
	f.get("Math")["$float!"](c))});if((k="undefined"!==typeof Math.atanh)===n||k.$$is_boolean&&1!=k)Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))};a.defn(l,"$atanh",function(a){return f.get("Math").$checked("atanh",f.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.cbrt)===n||k.$$is_boolean&&1!=k)Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var c=a,b=0;.125>c;)c*=8,b--;for(;1<c;)c*=.125,b++;for(c=(-.46946116*c+1.072302)*c+.3812513;0>b;)c*=.5,b++;for(;0<b;)c*=
	2,b--;c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);return 2/3*c+1/3*a/(c*c)};a.defn(l,"$cbrt",function(a){return f.get("Math").$checked("cbrt",f.get("Math")["$float!"](a))});a.defn(l,"$cos",function(a){return f.get("Math").$checked("cos",f.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.cosh)===n||k.$$is_boolean&&1!=k)Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2};a.defn(l,"$cosh",function(a){return f.get("Math").$checked("cosh",f.get("Math")["$float!"](a))});
	if((k="undefined"!==typeof Math.erf)===n||k.$$is_boolean&&1!=k)Math.erf=function(a){var c=1;0>a&&(c=-1);a=Math.abs(a);var b=1/(1+.3275911*a);return c*(1-((((1.061405429*b+-1.453152027)*b+1.421413741)*b+-.284496736)*b+.254829592)*b*Math.exp(-a*a))};a.defn(l,"$erf",function(a){return f.get("Math").$checked("erf",f.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.erfc)===n||k.$$is_boolean&&1!=k)Math.erfc=function(a){var c=Math.abs(a),b=1/(.5*c+1),c=b*Math.exp(-c*c-1.26551223+b*(b*(b*(b*(b*
	(b*(b*(b*(.17087277*b+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-c:c};a.defn(l,"$erfc",function(a){return f.get("Math").$checked("erfc",f.get("Math")["$float!"](a))});a.defn(l,"$exp",function(a){return f.get("Math").$checked("exp",f.get("Math")["$float!"](a))});a.defn(l,"$frexp",function(a){a=f.get("Math")["$float!"](a);if(isNaN(a))return[NaN,0];var c=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,c),c]});a.defn(l,
	"$gamma",function(a){a=f.get("Math")["$float!"](a);var c,b,k,l;k=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(f.get("DomainError"),'Numerical argument is out of domain - "gamma"');
	if(f.get("Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;b=a-2;for(--a;1<b;)a*=b,b--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*f.get("Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return b=a*a,c=b*a,k=c*a,l=k*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*b)-139/(51840*c)-571/(2488320*k)+163879/(209018880*l)+5246819/(75246796800*l*a));--a;b=k[0];for(c=1;c<k.length;++c)b+=k[c]/
	(a+c);c=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,a+.5)*Math.exp(-c)*b});if((k="undefined"!==typeof Math.hypot)===n||k.$$is_boolean&&1!=k)Math.hypot=function(a,c){return Math.sqrt(a*a+c*c)};a.defn(l,"$hypot",function(a,c){return f.get("Math").$checked("hypot",f.get("Math")["$float!"](a),f.get("Math")["$float!"](c))});a.defn(l,"$ldexp",function(a,c){a=f.get("Math")["$float!"](a);c=f.get("Math")["$integer!"](c);isNaN(c)&&this.$raise(f.get("RangeError"),"float NaN out of range of integer");
	return a*Math.pow(2,c)});a.defn(l,"$lgamma",function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(f.get("Math").$gamma(a))),0>f.get("Math").$gamma(a)?-1:1]});a.defn(l,"$log",function(a,c){var b;(b=f.get("String")["$==="](a))===n||b.$$is_boolean&&1!=b||this.$raise(f.get("Opal").$type_error(a,f.get("Float")));if((b=null==c)===n||b.$$is_boolean&&1!=b){(b=f.get("String")["$==="](c))===n||b.$$is_boolean&&1!=b||this.$raise(f.get("Opal").$type_error(c,f.get("Float")));b=f.get("Math").$checked("log",f.get("Math")["$float!"](a));
	var k=f.get("Math").$checked("log",f.get("Math")["$float!"](c));return"number"===typeof b&&"number"===typeof k?b/k:b["$/"](k)}return f.get("Math").$checked("log",f.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.log10)===n||k.$$is_boolean&&1!=k)Math.log10=function(a){return Math.log(a)/Math.LN10};a.defn(l,"$log10",function(a){var c;(c=f.get("String")["$==="](a))===n||c.$$is_boolean&&1!=c||this.$raise(f.get("Opal").$type_error(a,f.get("Float")));return f.get("Math").$checked("log10",f.get("Math")["$float!"](a))});
	if((k="undefined"!==typeof Math.log2)===n||k.$$is_boolean&&1!=k)Math.log2=function(a){return Math.log(a)/Math.LN2};a.defn(l,"$log2",function(a){var c;(c=f.get("String")["$==="](a))===n||c.$$is_boolean&&1!=c||this.$raise(f.get("Opal").$type_error(a,f.get("Float")));return f.get("Math").$checked("log2",f.get("Math")["$float!"](a))});a.defn(l,"$sin",function(a){return f.get("Math").$checked("sin",f.get("Math")["$float!"](a))});if((k="undefined"!==typeof Math.sinh)===n||k.$$is_boolean&&1!=k)Math.sinh=
	function(a){return(Math.exp(a)-Math.exp(-a))/2};a.defn(l,"$sinh",function(a){return f.get("Math").$checked("sinh",f.get("Math")["$float!"](a))});a.defn(l,"$sqrt",function(a){return f.get("Math").$checked("sqrt",f.get("Math")["$float!"](a))});a.defn(l,"$tan",function(a){var c;a=f.get("Math")["$float!"](a);return(c=a["$infinite?"]())===n||c.$$is_boolean&&1!=c?f.get("Math").$checked("tan",f.get("Math")["$float!"](a)):f.get("Float").$$scope.get("NAN")});if((k="undefined"!==typeof Math.tanh)===n||k.$$is_boolean&&
	1!=k)Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))};a.defn(l,"$tanh",function(a){return f.get("Math").$checked("tanh",f.get("Math")["$float!"](a))})}(a.base)};
	Opal.modules["corelib/complex"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="warning";var k=a.top,d=a.nil,c=a.klass,b=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $to_s $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $infinite?".split(" "));
	k.$require("corelib/numeric");(function(b,$super){function k(){}var t=k=c(b,$super,"Complex",k),p=t.$$proto,r=t.$$scope;p.real=p.imag=d;a.defs(t,"$rect",function(a,b){var c,f,k,h;null==b&&(b=0);((c=(f=(k=(h=r.get("Numeric")["$==="](a),!1!==h&&h!==d?a["$real?"]():h),!1!==k&&k!==d?r.get("Numeric")["$==="](b):k),!1!==f&&f!==d?b["$real?"]():f))===d||c.$$is_boolean&&1!=c)&&this.$raise(r.get("TypeError"),"not a real");return this.$new(a,b)});(function(b){return a.alias(b,"rectangular","rect")})(a.get_singleton_class(t));
	a.defs(t,"$polar",function(a,b){var c,f,k,h;null==b&&(b=0);((c=(f=(k=(h=r.get("Numeric")["$==="](a),!1!==h&&h!==d?a["$real?"]():h),!1!==k&&k!==d?r.get("Numeric")["$==="](b):k),!1!==f&&f!==d?b["$real?"]():f))===d||c.$$is_boolean&&1!=c)&&this.$raise(r.get("TypeError"),"not a real");return this.$new(n(a,r.get("Math").$cos(b)),n(a,r.get("Math").$sin(b)))});t.$attr_reader("real","imag");a.defn(t,"$initialize",function(a,b){null==b&&(b=0);this.real=a;return this.imag=b});a.defn(t,"$coerce",function(a){var b,
	c;return(b=r.get("Complex")["$==="](a))===d||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==d?a["$real?"]():c))===d||b.$$is_boolean&&1!=b?this.$raise(r.get("TypeError"),""+a.$class()+" can't be coerced into Complex"):[r.get("Complex").$new(a,0),this]:[a,this]});a.defn(t,"$==",function(a){var b,c;return(b=r.get("Complex")["$==="](a))===d||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==d?a["$real?"]():c))===d||b.$$is_boolean&&1!=b?a["$=="](this):this.real["$=="](a)?
	this.imag["$=="](0):this.real["$=="](a):this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real())});a.defn(t,"$-@",function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())});a.defn(t,"$+",function(a){var b,c;return(b=r.get("Complex")["$==="](a))===d||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==d?a["$real?"]():c))===d||b.$$is_boolean&&1!=b?this.$__coerced__("+",a):this.$Complex(q(this.real,a),this.imag):this.$Complex(q(this.real,a.$real()),
	q(this.imag,a.$imag()))});a.defn(t,"$-",function(a){var b,c;return(b=r.get("Complex")["$==="](a))===d||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==d?a["$real?"]():c))===d||b.$$is_boolean&&1!=b?this.$__coerced__("-",a):this.$Complex(l(this.real,a),this.imag):this.$Complex(l(this.real,a.$real()),l(this.imag,a.$imag()))});a.defn(t,"$*",function(a){var b,c;return(b=r.get("Complex")["$==="](a))===d||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==d?a["$real?"]():
	c))===d||b.$$is_boolean&&1!=b?this.$__coerced__("*",a):this.$Complex(n(this.real,a),n(this.imag,a)):this.$Complex(l(n(this.real,a.$real()),n(this.imag,a.$imag())),q(n(this.real,a.$imag()),n(this.imag,a.$real())))});a.defn(t,"$/",function(a){var b,c,k,l,h;return(b=r.get("Complex")["$==="](a))===d||b.$$is_boolean&&1!=b?(b=(c=r.get("Numeric")["$==="](a),!1!==c&&c!==d?a["$real?"]():c))===d||b.$$is_boolean&&1!=b?this.$__coerced__("/",a):this.$Complex(this.real.$quo(a),this.imag.$quo(a)):(b=!1!==(c=!1!==
	(k=!1!==(l=(h=r.get("Number")["$==="](this.real),!1!==h&&h!==d?this.real["$nan?"]():h))&&l!==d?l:(h=r.get("Number")["$==="](this.imag),!1!==h&&h!==d?this.imag["$nan?"]():h))&&k!==d?k:(l=r.get("Number")["$==="](a.$real()),!1!==l&&l!==d?a.$real()["$nan?"]():l))&&c!==d?c:(k=r.get("Number")["$==="](a.$imag()),!1!==k&&k!==d?a.$imag()["$nan?"]():k))===d||b.$$is_boolean&&1!=b?f(n(this,a.$conj()),a.$abs2()):r.get("Complex").$new(r.get("Float").$$scope.get("NAN"),r.get("Float").$$scope.get("NAN"))});a.defn(t,
	"$**",function(b){var c,u,k,p,h=d,e=d,w=d,E=d,C=d,E=w=e=h=C=h=d;if(b["$=="](0))return r.get("Complex").$new(1,0);if((c=r.get("Complex")["$==="](b))===d||c.$$is_boolean&&1!=c){if((c=r.get("Integer")["$==="](b))===d||c.$$is_boolean&&1!=c){if((c=!1!==(u=r.get("Float")["$==="](b))&&u!==d?u:r.get("Rational")["$==="](b))===d||c.$$is_boolean&&1!=c)return this.$__coerced__("**",b);c=a.to_ary(this.$polar());h=null==c[0]?d:c[0];e=null==c[1]?d:c[1];return r.get("Complex").$polar(h["$**"](b),n(e,b))}if("number"===
	typeof b?0<b:b["$>"](0)){h=C=this;for(e=l(b,1);(u=e["$!="](0))!==d&&(!u.$$is_boolean||1==u);){for(;(k=(p=a.to_ary(e.$divmod(2)),w=null==p[0]?d:p[0],E=null==p[1]?d:p[1],E["$=="](0)))!==d&&(!k.$$is_boolean||1==k);)C=this.$Complex(l(n(C.$real(),C.$real()),n(C.$imag(),C.$imag())),n(n(2,C.$real()),C.$imag())),e=w;h=n(h,C);e=l(e,1)}return h}return f(r.get("Rational").$new(1,1),this)["$**"](b["$-@"]())}c=a.to_ary(this.$polar());h=null==c[0]?d:c[0];e=null==c[1]?d:c[1];w=b.$real();E=b.$imag();C=r.get("Math").$exp(l(n(w,
	r.get("Math").$log(h)),n(E,e)));h=q(n(e,w),n(E,r.get("Math").$log(h)));return r.get("Complex").$polar(C,h)});a.defn(t,"$abs",function(){return r.get("Math").$hypot(this.real,this.imag)});a.defn(t,"$abs2",function(){return q(n(this.real,this.real),n(this.imag,this.imag))});a.defn(t,"$angle",function(){return r.get("Math").$atan2(this.imag,this.real)});a.alias(t,"arg","angle");a.defn(t,"$conj",function(){return this.$Complex(this.real,this.imag["$-@"]())});a.alias(t,"conjugate","conj");a.defn(t,"$denominator",
	function(){return this.real.$denominator().$lcm(this.imag.$denominator())});a.alias(t,"divide","/");a.defn(t,"$eql?",function(a){var b,c;return b=(c=r.get("Complex")["$==="](a),!1!==c&&c!==d?this.real.$class()["$=="](this.imag.$class()):c),!1!==b&&b!==d?this["$=="](a):b});a.defn(t,"$fdiv",function(a){var b;((b=r.get("Numeric")["$==="](a))===d||b.$$is_boolean&&1!=b)&&this.$raise(r.get("TypeError"),""+a.$class()+" can't be coerced into Complex");return f(this,a)});a.defn(t,"$hash",function(){return"Complex:"+
	this.real+":"+this.imag});a.alias(t,"imaginary","imag");a.defn(t,"$inspect",function(){return"("+this.$to_s()+")"});a.alias(t,"magnitude","abs");a.defn(t,"$numerator",function(){var a=d,a=this.$denominator();return this.$Complex(n(this.real.$numerator(),f(a,this.real.$denominator())),n(this.imag.$numerator(),f(a,this.imag.$denominator())))});a.alias(t,"phase","arg");a.defn(t,"$polar",function(){return[this.$abs(),this.$arg()]});a.alias(t,"quo","/");a.defn(t,"$rationalize",function(a){var b;1<arguments.length&&
	this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");(b=this.imag["$!="](0))===d||b.$$is_boolean&&1!=b||this.$raise(r.get("RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)});a.defn(t,"$real?",function(){return!1});a.defn(t,"$rect",function(){return[this.real,this.imag]});a.alias(t,"rectangular","rect");a.defn(t,"$to_f",function(){this.imag["$=="](0)||this.$raise(r.get("RangeError"),"can't convert "+this+" into Float");
	return this.real.$to_f()});a.defn(t,"$to_i",function(){this.imag["$=="](0)||this.$raise(r.get("RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()});a.defn(t,"$to_r",function(){this.imag["$=="](0)||this.$raise(r.get("RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()});a.defn(t,"$to_s",function(){var a,b,c,f=d,f=this.real.$inspect(),f=(a=!1!==(b=(c=r.get("Number")["$==="](this.imag),!1!==c&&c!==d?this.imag["$nan?"]():c))&&b!==d?b:this.imag["$positive?"]())===
	d||a.$$is_boolean&&1!=a?q(f,"-"):q(f,"+"),f=q(f,this.imag.$abs().$inspect());(a=(b=r.get("Number")["$==="](this.imag),!1!==b&&b!==d?!1!==(c=this.imag["$nan?"]())&&c!==d?c:this.imag["$infinite?"]():b))===d||a.$$is_boolean&&1!=a||(f=q(f,"*"));return q(f,"i")});return a.cdecl(r,"I",t.$new(0,1))})(a.base,a.get("Numeric"));return function(c){c=b(c,"Kernel");var f=c.$$scope;a.defn(c,"$Complex",function(a,b){null==b&&(b=d);return!1!==b&&b!==d?f.get("Complex").$new(a,b):f.get("Complex").$new(a,0)})}(a.base)};
	Opal.modules["corelib/rational"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var d=a.top,c=a.nil,b=a.klass,
	D=a.module;a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $attr_reader $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $to_s $<= $truncate $send $convert".split(" "));d.$require("corelib/numeric");(function(d,$super){function t(){}var p=t=b(d,$super,"Rational",t),r=p.$$proto,g=p.$$scope;r.num=r.den=c;a.defs(p,"$reduce",function(a,b){var d=c;a=a.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(g.get("ZeroDivisionError"),
	"divided by 0");else if(n(b,0))a=a["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(a,b);d=a.$gcd(b);return this.$new(q(a,d),q(b,d))});a.defs(p,"$convert",function(a,b){var d,f,h;(d=!1!==(f=a["$nil?"]())&&f!==c?f:b["$nil?"]())===c||d.$$is_boolean&&1!=d||this.$raise(g.get("TypeError"),"cannot convert nil into Rational");if((d=(f=g.get("Integer")["$==="](a),!1!==f&&f!==c?g.get("Integer")["$==="](b):f))!==c&&(!d.$$is_boolean||1==d))return this.$reduce(a,b);(d=!1!==(f=!1!==(h=g.get("Float")["$==="](a))&&
	h!==c?h:g.get("String")["$==="](a))&&f!==c?f:g.get("Complex")["$==="](a))===c||d.$$is_boolean&&1!=d||(a=a.$to_r());(d=!1!==(f=!1!==(h=g.get("Float")["$==="](b))&&h!==c?h:g.get("String")["$==="](b))&&f!==c?f:g.get("Complex")["$==="](b))===c||d.$$is_boolean&&1!=d||(b=b.$to_r());return(d=(f=b["$equal?"](1),!1!==f&&f!==c?g.get("Integer")["$==="](a)["$!"]():f))===c||d.$$is_boolean&&1!=d?(d=(f=g.get("Numeric")["$==="](a),!1!==f&&f!==c?g.get("Numeric")["$==="](b):f))===c||d.$$is_boolean&&1!=d?this.$reduce(a,
	b):q(a,b):g.get("Opal")["$coerce_to!"](a,g.get("Rational"),"to_r")});p.$attr_reader("numerator","denominator");a.defn(p,"$initialize",function(a,b){this.num=a;return this.den=b});a.defn(p,"$numerator",function(){return this.num});a.defn(p,"$denominator",function(){return this.den});a.defn(p,"$coerce",function(a){var b=c,b=a;return g.get("Rational")["$==="](b)?[a,this]:g.get("Integer")["$==="](b)?[a.$to_r(),this]:g.get("Float")["$==="](b)?[a,this.$to_f()]:c});a.defn(p,"$==",function(a){var b=c,b=a;
	return g.get("Rational")["$==="](b)?this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):g.get("Integer")["$==="](b)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):g.get("Float")["$==="](b)?this.$to_f()["$=="](a):a["$=="](this)});a.defn(p,"$<=>",function(a){var b=c,b=a;return g.get("Rational")["$==="](b)?l(f(this.num,a.$denominator()),f(this.den,a.$numerator()))["$<=>"](0):g.get("Integer")["$==="](b)?l(this.num,f(this.den,a))["$<=>"](0):g.get("Float")["$==="](b)?
	this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)});a.defn(p,"$+",function(a){var b=c,d=b=c;b=a;g.get("Rational")["$==="](b)?(b=k(f(this.num,a.$denominator()),f(this.den,a.$numerator())),d=f(this.den,a.$denominator()),a=this.$Rational(b,d)):a=g.get("Integer")["$==="](b)?this.$Rational(k(this.num,f(a,this.den)),this.den):g.get("Float")["$==="](b)?k(this.$to_f(),a):this.$__coerced__("+",a);return a});a.defn(p,"$-",function(a){var b=c,d=b=c;b=a;g.get("Rational")["$==="](b)?(b=l(f(this.num,a.$denominator()),
	f(this.den,a.$numerator())),d=f(this.den,a.$denominator()),a=this.$Rational(b,d)):a=g.get("Integer")["$==="](b)?this.$Rational(l(this.num,f(a,this.den)),this.den):g.get("Float")["$==="](b)?l(this.$to_f(),a):this.$__coerced__("-",a);return a});a.defn(p,"$*",function(a){var b=c,d=b=c;b=a;g.get("Rational")["$==="](b)?(b=f(this.num,a.$numerator()),d=f(this.den,a.$denominator()),a=this.$Rational(b,d)):a=g.get("Integer")["$==="](b)?this.$Rational(f(this.num,a),this.den):g.get("Float")["$==="](b)?f(this.$to_f(),
	a):this.$__coerced__("*",a);return a});a.defn(p,"$/",function(a){var b=c,d=b=c;b=a;g.get("Rational")["$==="](b)?(b=f(this.num,a.$denominator()),d=f(this.den,a.$numerator()),a=this.$Rational(b,d)):a=g.get("Integer")["$==="](b)?a["$=="](0)?q(this.$to_f(),0):this.$Rational(this.num,f(this.den,a)):g.get("Float")["$==="](b)?q(this.$to_f(),a):this.$__coerced__("/",a);return a});a.defn(p,"$**",function(a){var b,d=c,d=a;return g.get("Integer")["$==="](d)?(b=this["$=="](0)?n(a,0):this["$=="](0))===c||b.$$is_boolean&&
	1!=b?("number"===typeof a?0<a:a["$>"](0))?this.$Rational(this.num["$**"](a),this.den["$**"](a)):n(a,0)?this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(1,1):g.get("Float").$$scope.get("INFINITY"):g.get("Float")["$==="](d)?this.$to_f()["$**"](a):g.get("Rational")["$==="](d)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?n(a,0)?this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):this.$Rational(this.num["$**"](a.$numerator()),
	this.den["$**"](a.$numerator())):(b=this["$=="](0)?n(a,0):this["$=="](0))===c||b.$$is_boolean&&1!=b?this.$to_f()["$**"](a):this.$raise(g.get("ZeroDivisionError"),"divided by 0"):this.$__coerced__("**",a)});a.defn(p,"$abs",function(){return this.$Rational(this.num.$abs(),this.den.$abs())});a.defn(p,"$ceil",function(a){null==a&&(a=0);return a["$=="](0)?q(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)});a.alias(p,"divide","/");a.defn(p,"$floor",function(a){null==a&&(a=0);
	return a["$=="](0)?q(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)});a.defn(p,"$hash",function(){return"Rational:"+this.num+":"+this.den});a.defn(p,"$inspect",function(){return"("+this.$to_s()+")"});a.alias(p,"quo","/");a.defn(p,"$rationalize",function(a){1<arguments.length&&this.$raise(g.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==a)return this;for(var b=a.$abs(),c=l(this,b),b=k(this,b),d=0,h=1,e=1,w=0,f,p,r;;){f=c.$ceil();
	if("number"===typeof f&&"number"===typeof b?f<=b:f["$<="](b))break;r=f-1;f=r*h+d;p=r*w+e;d=q(1,l(b,r));b=q(1,l(c,r));c=d;d=h;e=w;h=f;w=p}return this.$Rational(f*h+d,f*w+e)});a.defn(p,"$round",function(a){var b=c,g=c,b=c;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;b=k(f(this.num.$abs(),2),this.den);g=f(this.den,2);b=q(b,g).$truncate();return n(this.num,0)?b["$-@"]():b});a.defn(p,"$to_f",function(){return q(this.num,
	this.den)});a.defn(p,"$to_i",function(){return this.$truncate()});a.defn(p,"$to_r",function(){return this});a.defn(p,"$to_s",function(){return""+this.num+"/"+this.den});a.defn(p,"$truncate",function(a){null==a&&(a=0);return a["$=="](0)?n(this.num,0)?this.$ceil():this.$floor():this.$with_precision("truncate",a)});return(a.defn(p,"$with_precision",function(a,b){var d,k=c,h=c;((d=g.get("Integer")["$==="](b))===c||d.$$is_boolean&&1!=d)&&this.$raise(g.get("TypeError"),"not an Integer");k=10["$**"](b);
	h=f(this,k);return n(b,1)?q(h.$send(a),k).$to_i():this.$Rational(h.$send(a),k)}),c)&&"with_precision"})(a.base,a.get("Numeric"));return function(b){b=D(b,"Kernel");var c=b.$$scope;a.defn(b,"$Rational",function(a,b){null==b&&(b=1);return c.get("Rational").$convert(a,b)})}(a.base)};
	Opal.modules["corelib/time"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="warning";var k=a.top,d=a.nil,c=a.slice,b=a.klass,D=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
	k.$require("corelib/comparable");return function(k,$super){function t(){}function p(a,e,b,c,m,f){a=a.$$is_string?parseInt(a,10):g.get("Opal")["$coerce_to!"](a,g.get("Integer"),"to_int");if(e===d)e=1;else if(!e.$$is_number)if(e["$respond_to?"]("to_str"))switch(e=e.$to_str(),e.toLowerCase()){case "jan":e=1;break;case "feb":e=2;break;case "mar":e=3;break;case "apr":e=4;break;case "may":e=5;break;case "jun":e=6;break;case "jul":e=7;break;case "aug":e=8;break;case "sep":e=9;break;case "oct":e=10;break;
	case "nov":e=11;break;case "dec":e=12;break;default:e=e.$to_i()}else e=g.get("Opal")["$coerce_to!"](e,g.get("Integer"),"to_int");(1>e||12<e)&&r.$raise(g.get("ArgumentError"),"month out of range: "+e);--e;b=b===d?1:b.$$is_string?parseInt(b,10):g.get("Opal")["$coerce_to!"](b,g.get("Integer"),"to_int");(1>b||31<b)&&r.$raise(g.get("ArgumentError"),"day out of range: "+b);c=c===d?0:c.$$is_string?parseInt(c,10):g.get("Opal")["$coerce_to!"](c,g.get("Integer"),"to_int");(0>c||24<c)&&r.$raise(g.get("ArgumentError"),
	"hour out of range: "+c);m=m===d?0:m.$$is_string?parseInt(m,10):g.get("Opal")["$coerce_to!"](m,g.get("Integer"),"to_int");(0>m||59<m)&&r.$raise(g.get("ArgumentError"),"min out of range: "+m);f===d?f=0:f.$$is_number||(f=f.$$is_string?parseInt(f,10):g.get("Opal")["$coerce_to!"](f,g.get("Integer"),"to_int"));(0>f||60<f)&&r.$raise(g.get("ArgumentError"),"sec out of range: "+f);return[a,e,b,c,m,f]}var r=t=b(k,$super,"Time",t),g=r.$$scope;r.$include(g.get("Comparable"));var m="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
	u="Sun Mon Tue Wed Thu Fri Sat".split(" "),A="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),z="January February March April May June July August September October November December".split(" ");a.defs(r,"$at",function(a,e){var b;if(g.get("Time")["$==="](a))return void 0!==e&&this.$raise(g.get("TypeError"),"can't convert Time into an exact number"),b=new Date(a.getTime()),b.is_utc=a.is_utc,b;a.$$is_number||(a=g.get("Opal")["$coerce_to!"](a,g.get("Integer"),"to_int"));if(void 0===e)return new Date(1E3*
	a);e.$$is_number||(e=g.get("Opal")["$coerce_to!"](e,g.get("Integer"),"to_int"));return new Date(1E3*a+e/1E3)});a.defs(r,"$new",function(a,e,b,c,m,f,k){null==e&&(e=d);null==b&&(b=d);null==c&&(c=d);null==m&&(m=d);null==f&&(f=d);null==k&&(k=d);if(void 0===a)return new Date;k!==d&&this.$raise(g.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");f=p(a,e,b,c,m,f);a=f[0];e=f[1];b=f[2];c=f[3];m=f[4];f=f[5];e=new Date(a,e,b,c,m,0,1E3*f);100>a&&e.setFullYear(a);return e});
	a.defs(r,"$local",function(a,e,b,g,m,f,k,v,B,u){null==e&&(e=d);null==b&&(b=d);null==g&&(g=d);null==m&&(m=d);null==f&&(f=d);null==k&&(k=d);null==v&&(v=d);null==B&&(B=d);null==u&&(u=d);var l;10===arguments.length&&(l=c.call(arguments),a=l[5],e=l[4],b=l[3],g=l[2],m=l[1],f=l[0]);l=p(a,e,b,g,m,f);a=l[0];e=l[1];b=l[2];g=l[3];m=l[4];f=l[5];l=new Date(a,e,b,g,m,0,1E3*f);100>a&&l.setFullYear(a);return l});a.defs(r,"$gm",function(a,e,b,g,m,f,k,v,B,u){null==e&&(e=d);null==b&&(b=d);null==g&&(g=d);null==m&&(m=
	d);null==f&&(f=d);null==k&&(k=d);null==v&&(v=d);null==B&&(B=d);null==u&&(u=d);var l;10===arguments.length&&(l=c.call(arguments),a=l[5],e=l[4],b=l[3],g=l[2],m=l[1],f=l[0]);l=p(a,e,b,g,m,f);a=l[0];e=l[1];b=l[2];g=l[3];m=l[4];f=l[5];l=new Date(Date.UTC(a,e,b,g,m,0,1E3*f));100>a&&l.setUTCFullYear(a);l.is_utc=!0;return l});(function(b){a.alias(b,"mktime","local");return a.alias(b,"utc","gm")})(a.get_singleton_class(r));a.defs(r,"$now",function(){return this.$new()});a.defn(r,"$+",function(a){var e;(e=
	g.get("Time")["$==="](a))===d||e.$$is_boolean&&1!=e||this.$raise(g.get("TypeError"),"time + time?");a.$$is_number||(a=g.get("Opal")["$coerce_to!"](a,g.get("Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a});a.defn(r,"$-",function(a){var e;if((e=g.get("Time")["$==="](a))!==d&&(!e.$$is_boolean||1==e))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=g.get("Opal")["$coerce_to!"](a,g.get("Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;
	return a});a.defn(r,"$<=>",function(a){var e,b=d;return(e=g.get("Time")["$==="](a))===d||e.$$is_boolean&&1!=e?(b=a["$<=>"](this),(e=b["$nil?"]())===d||e.$$is_boolean&&1!=e?("number"===typeof b?0<b:b["$>"](0))?-1:("number"===typeof b?0>b:b["$<"](0))?1:0:d):this.$to_f()["$<=>"](a.$to_f())});a.defn(r,"$==",function(a){return this.$to_f()===a.$to_f()});a.defn(r,"$asctime",function(){return this.$strftime("%a %b %e %H:%M:%S %Y")});a.alias(r,"ctime","asctime");a.defn(r,"$day",function(){return this.is_utc?
	this.getUTCDate():this.getDate()});a.defn(r,"$yday",function(){var a=d,e=d,b=d,a=g.get("Time").$new(this.$year()).$to_i(),e=g.get("Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),b=86400;return n(q(l(e,a),b).$round(),1)});a.defn(r,"$isdst",function(){var a=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),e.getTimezoneOffset())});a.alias(r,"dst?","isdst");a.defn(r,"$dup",function(){var a=d,a=new Date(this.getTime());
	a.$copy_instance_variables(this);a.$initialize_dup(this);return a});a.defn(r,"$eql?",function(a){var e;return e=a["$is_a?"](g.get("Time")),!1!==e&&e!==d?this["$<=>"](a)["$zero?"]():e});a.defn(r,"$friday?",function(){return 5==this.$wday()});a.defn(r,"$hash",function(){return"Time:"+this.getTime()});a.defn(r,"$hour",function(){return this.is_utc?this.getUTCHours():this.getHours()});a.defn(r,"$inspect",function(){var a;return(a=this["$utc?"]())===d||a.$$is_boolean&&1!=a?this.$strftime("%Y-%m-%d %H:%M:%S %z"):
	this.$strftime("%Y-%m-%d %H:%M:%S UTC")});a.alias(r,"mday","day");a.defn(r,"$min",function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()});a.defn(r,"$mon",function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1});a.defn(r,"$monday?",function(){return 1==this.$wday()});a.alias(r,"month","mon");a.defn(r,"$saturday?",function(){return 6==this.$wday()});a.defn(r,"$sec",function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()});a.defn(r,"$succ",function(){var a=new Date(this.getTime()+
	1E3);a.is_utc=this.is_utc;return a});a.defn(r,"$usec",function(){return 1E3*this.getMilliseconds()});a.defn(r,"$zone",function(){var a=this.toString(),e;e=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join("");return"GMT"==e&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:e});a.defn(r,"$getgm",function(){var a=new Date(this.getTime());a.is_utc=!0;return a});a.alias(r,"getutc","getgm");a.defn(r,"$gmtime",function(){this.is_utc=!0;return this});a.alias(r,"utc","gmtime");a.defn(r,
	"$gmt?",function(){return!0===this.is_utc});a.defn(r,"$gmt_offset",function(){return 60*-this.getTimezoneOffset()});a.defn(r,"$strftime",function(a){var e=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,b,h,g,c){g="";var d=-1!==b.indexOf("0"),f=-1===b.indexOf("-"),k=-1!==b.indexOf("_"),l=-1!==b.indexOf("^"),p=-1!==b.indexOf("#"),r=(b.match(":")||[]).length;h=parseInt(h,10);d&&k&&(b.indexOf("0")<b.indexOf("_")?d=!1:k=!1);switch(c){case "Y":g+=e.$year();break;case "C":d=!k;g+=
	Math.round(e.$year()/100);break;case "y":d=!k;g+=e.$year()%100;break;case "m":d=!k;g+=e.$mon();break;case "B":g+=z[e.$mon()-1];break;case "b":case "h":k=!d;g+=A[e.$mon()-1];break;case "d":d=!k;g+=e.$day();break;case "e":k=!d;g+=e.$day();break;case "j":g+=e.$yday();break;case "H":d=!k;g+=e.$hour();break;case "k":k=!d;g+=e.$hour();break;case "I":d=!k;g+=e.$hour()%12||12;break;case "l":k=!d;g+=e.$hour()%12||12;break;case "P":g+=12<=e.$hour()?"pm":"am";break;case "p":g+=12<=e.$hour()?"PM":"AM";break;
	case "M":d=!k;g+=e.$min();break;case "S":d=!k;g+=e.$sec();break;case "L":d=!k;h=isNaN(h)?3:h;g+=e.getMilliseconds();break;case "N":h=isNaN(h)?9:h;g+=e.getMilliseconds().toString().$rjust(3,"0");g=g.$ljust(h,"0");break;case "z":a=e.getTimezoneOffset();b=Math.floor(Math.abs(a)/60);c=Math.abs(a)%60;g=g+(0>a?"+":"-")+(10>b?"0":"");g+=b;0<r&&(g+=":");g+=10>c?"0":"";g+=c;1<r&&(g+=":00");break;case "Z":g+=e.$zone();break;case "A":g+=m[e.$wday()];break;case "a":g+=u[e.$wday()];break;case "u":g+=e.$wday()+
	1;break;case "w":g+=e.$wday();break;case "V":g+=e.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":g+=e.$cweek_cyear()["$[]"](1);break;case "g":g+=e.$cweek_cyear()["$[]"](1)["$[]"](D(-2,-1,!1));break;case "s":g+=e.$to_i();break;case "n":g+="\n";break;case "t":g+="\t";break;case "%":g+="%";break;case "c":g+=e.$strftime("%a %b %e %T %Y");break;case "D":case "x":g+=e.$strftime("%m/%d/%y");break;case "F":g+=e.$strftime("%Y-%m-%d");break;case "v":g+=e.$strftime("%e-%^b-%4Y");break;case "r":g+=
	e.$strftime("%I:%M:%S %p");break;case "R":g+=e.$strftime("%H:%M");break;case "T":case "X":g+=e.$strftime("%H:%M:%S");break;default:return a}l&&(g=g.toUpperCase());p&&(g=g.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));f&&(d||k)&&(g=g.$rjust(isNaN(h)?2:h,k?" ":"0"));return g})});a.defn(r,"$sunday?",function(){return 0==this.$wday()});a.defn(r,"$thursday?",function(){return 4==this.$wday()});a.defn(r,"$to_a",function(){return[this.$sec(),this.$min(),this.$hour(),
	this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]});a.defn(r,"$to_f",function(){return this.getTime()/1E3});a.defn(r,"$to_i",function(){return parseInt(this.getTime()/1E3,10)});a.alias(r,"to_s","inspect");a.defn(r,"$tuesday?",function(){return 2==this.$wday()});a.alias(r,"tv_sec","sec");a.alias(r,"tv_usec","usec");a.alias(r,"utc?","gmt?");a.alias(r,"gmtoff","gmt_offset");a.alias(r,"utc_offset","gmt_offset");a.defn(r,"$wday",function(){return this.is_utc?
	this.getUTCDay():this.getDay()});a.defn(r,"$wednesday?",function(){return 3==this.$wday()});a.defn(r,"$year",function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()});return(a.defn(r,"$cweek_cyear",function(){var a,b=d,c=d,m=c=c=b=d,m=d,b=g.get("Time").$new(this.$year(),1,1),c=b.$wday(),b=this.$year();(a=f(c,4)?c["$!="](0):f(c,4))===d||a.$$is_boolean&&1!=a?(c=l(l(c,7),1),c["$=="](-8)&&(c=-1)):c=l(c,1);c=q(n(this.$yday(),c),7).$ceil();if(f(c,0))return g.get("Time").$new(l(this.$year(),
	1),12,31).$cweek_cyear();c["$=="](53)&&(m=g.get("Time").$new(this.$year(),12,31),m=m.$wday(),(a=f(m,3)?m["$!="](0):f(m,3))===d||a.$$is_boolean&&1!=a||(c=1,b=n(b,1)));return[c,b]}),d)&&"cweek_cyear"}(a.base,Date)};
	Opal.modules["corelib/struct"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var f=a.top,k=a.nil,d=a.slice,c=a.klass,b=a.hash2;a.add_stubs("$require $include $== $[] $upcase $const_set $new $unshift $each $define_struct_attribute $class_eval $to_proc $allocate $initialize $raise $<< $members $define_method $[]= $instance_eval $each_with_index $class $hash $=== $< $-@ $size $>= $include? $to_sym $coerce_to! $instance_of? $__id__ $eql? $enum_for $length $map $+ $join $inspect $each_pair $inject $flatten $to_a".split(" "));
	f.$require("corelib/enumerable");return function(f,$super){function y(){}var t=y=c(f,$super,"Struct",y),p=t.$$scope,r,g,m;t.$include(p.get("Enumerable"));a.defs(t,"$new",r=function(b){var g=d.call(arguments,0),c,h,e,m=r.$$p,f=m||k,l=arguments.length-1;0>l&&(l=0);for(var n=Array(l),I=0;I<l;I++)n[I]=arguments[I+1];r.$$p=null;if(!this["$=="](p.get("Struct")))return a.find_super_dispatcher(this,"new",r,m,y).apply(this,g);if(b["$[]"](0)["$=="](b["$[]"](0).$upcase()))return p.get("Struct").$const_set(b,
	this.$new.apply(this,a.to_a(n)));n.$unshift(b);return(c=(h=p.get("Class")).$new,c.$$p=(e=function(){var b=e.$$s||this,h,g,c;(h=(g=n).$each,h.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=k);return b.$define_struct_attribute(a)},c.$$s=b,c),h).call(g);!1!==f&&f!==k&&(h=b.$class_eval,h.$$p=f.$to_proc(),h).call(b);return function(b){a.defn(b,"$new",function(){var b,e=k,e=arguments.length-0;0>e&&(e=0);for(var h=Array(e),g=0;g<e;g++)h[g]=arguments[g+0];e=this.$allocate();e.$$data={};(b=e).$initialize.apply(b,
	a.to_a(h));return e});return a.alias(b,"[]","new")}(a.get_singleton_class(b))},e.$$s=this,e),c).call(h,this)});a.defs(t,"$define_struct_attribute",function(a){var b,g,h;this["$=="](p.get("Struct"))&&this.$raise(p.get("ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);(b=this.$define_method,b.$$p=(g=function(){return(g.$$s||this)["$[]"](a)},g.$$s=this,g),b).call(this,a);return(b=this.$define_method,b.$$p=(h=function(b){var g=h.$$s||this;null==b&&(b=k);return g["$[]="](a,
	b)},h.$$s=this,h),b).call(this,""+a+"=")});a.defs(t,"$members",function(){var a;null==this.members&&(this.members=k);this["$=="](p.get("Struct"))&&this.$raise(p.get("ArgumentError"),"the Struct class has no members");return!1!==(a=this.members)&&a!==k?a:this.members=[]});a.defs(t,"$inherited",function(a){var b,g,h=k;null==this.members&&(this.members=k);h=this.members;return(b=a.$instance_eval,b.$$p=(g=function(){return(g.$$s||this).members=h},g.$$s=this,g),b).call(a)});a.defn(t,"$initialize",function(){var a,
	b,g,h=arguments.length-0;0>h&&(h=0);for(var e=Array(h),c=0;c<h;c++)e[c]=arguments[c+0];return(a=(b=this.$members()).$each_with_index,a.$$p=(g=function(a,b){var h=g.$$s||this;null==a&&(a=k);null==b&&(b=k);return h["$[]="](a,e["$[]"](b))},g.$$s=this,g),a).call(b)});a.defn(t,"$members",function(){return this.$class().$members()});a.defn(t,"$hash",function(){return p.get("Hash").$new(this.$$data).$hash()});a.defn(t,"$[]",function(a){var b;(b=p.get("Integer")["$==="](a))===k||b.$$is_boolean&&1!=b?(b=p.get("String")["$==="](a))===
	k||b.$$is_boolean&&1!=b?this.$raise(p.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):((b=this.$members()["$include?"](a.$to_sym()))===k||b.$$is_boolean&&1!=b)&&this.$raise(p.get("NameError").$new("no member '"+a+"' in struct",a)):(n(a,this.$members().$size()["$-@"]())&&this.$raise(p.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$members().$size()+")"),q(a,this.$members().$size())&&this.$raise(p.get("IndexError"),"offset "+a+" too large for struct(size:"+
	this.$members().$size()+")"),a=this.$members()["$[]"](a));a=p.get("Opal")["$coerce_to!"](a,p.get("String"),"to_str");return this.$$data[a]});a.defn(t,"$[]=",function(a,b){var g;(g=p.get("Integer")["$==="](a))===k||g.$$is_boolean&&1!=g?(g=p.get("String")["$==="](a))===k||g.$$is_boolean&&1!=g?this.$raise(p.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):((g=this.$members()["$include?"](a.$to_sym()))===k||g.$$is_boolean&&1!=g)&&this.$raise(p.get("NameError").$new("no member '"+
	a+"' in struct",a)):(n(a,this.$members().$size()["$-@"]())&&this.$raise(p.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$members().$size()+")"),q(a,this.$members().$size())&&this.$raise(p.get("IndexError"),"offset "+a+" too large for struct(size:"+this.$members().$size()+")"),a=this.$members()["$[]"](a));a=p.get("Opal")["$coerce_to!"](a,p.get("String"),"to_str");return this.$$data[a]=b});a.defn(t,"$==",function(a){function b(a,g){var c,d,m;h[a.$__id__()]=!0;e[g.$__id__()]=!0;for(c in a.$$data)if(d=
	a.$$data[c],m=g.$$data[c],p.get("Struct")["$==="](d)){if(!(h.hasOwnProperty(d.$__id__())&&e.hasOwnProperty(m.$__id__())||b(d,m)))return!1}else if(!d["$=="](m))return!1;return!0}var g;if((g=a["$instance_of?"](this.$class()))===k||g.$$is_boolean&&1!=g)return!1;var h={},e={};return b(this,a)});a.defn(t,"$eql?",function(a){function b(a,g){var c,d,m;h[a.$__id__()]=!0;e[g.$__id__()]=!0;for(c in a.$$data)if(d=a.$$data[c],m=g.$$data[c],p.get("Struct")["$==="](d)){if(!(h.hasOwnProperty(d.$__id__())&&e.hasOwnProperty(m.$__id__())||
	b(d,m)))return!1}else if(!d["$eql?"](m))return!1;return!0}var g;if((g=a["$instance_of?"](this.$class()))===k||g.$$is_boolean&&1!=g)return!1;var h={},e={};return b(this,a)});a.defn(t,"$each",g=function(){var b,c,d,h,e=g.$$p||k;g.$$p=null;if(e===k)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c),b).call(this,"each");(b=(d=this.$members()).$each,b.$$p=(h=function(b){var g=h.$$s||this,c;null==b&&(b=k);return c=a.yield1(e,g["$[]"](b)),c},h.$$s=this,h),b).call(d);return this});
	a.defn(t,"$each_pair",m=function(){var b,g,c,h,e=m.$$p||k;m.$$p=null;if(e===k)return(b=this.$enum_for,b.$$p=(g=function(){return(g.$$s||this).$size()},g.$$s=this,g),b).call(this,"each_pair");(b=(c=this.$members()).$each,b.$$p=(h=function(b){var g=h.$$s||this,c;null==b&&(b=k);return c=a.yield1(e,[b,g["$[]"](b)]),c},h.$$s=this,h),b).call(c);return this});a.defn(t,"$length",function(){return this.$members().$length()});a.alias(t,"size","length");a.defn(t,"$to_a",function(){var a,b,g;return(a=(b=this.$members()).$map,
	a.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=k);return b["$[]"](a)},g.$$s=this,g),a).call(b)});a.alias(t,"values","to_a");a.defn(t,"$inspect",function(){var a,b,g,h=k,h="#<struct ";this.$class()["$=="](p.get("Struct"))&&(h=l(h,""+this.$class()+" "));h=l(h,(a=(b=this.$each_pair()).$map,a.$$p=(g=function(a,b){null==a&&(a=k);null==b&&(b=k);return""+a+"="+b.$inspect()},g.$$s=this,g),a).call(b).$join(", "));return h=l(h,">")});a.alias(t,"to_s","inspect");a.defn(t,"$to_h",function(){var a,g,c;return(a=
	(g=this.$members()).$inject,a.$$p=(c=function(a,b){var g=c.$$s||this;null==a&&(a=k);null==b&&(b=k);a["$[]="](b,g["$[]"](b));return a},c.$$s=this,c),a).call(g,b([],{}))});return(a.defn(t,"$values_at",function(){var a,b,g,h=arguments.length-0;0>h&&(h=0);for(var e=Array(h),c=0;c<h;c++)e[c]=arguments[c+0];e=(a=(b=e).$map,a.$$p=(g=function(a){null==a&&(a=k);return a.$$is_range?a.$to_a():a},g.$$s=this,g),a).call(b).$flatten();a=[];b=0;for(g=e.length;b<g;b++)e[b].$$is_number||this.$raise(p.get("TypeError"),
	"no implicit conversion of "+e[b].$class()+" into Integer"),a.push(this["$[]"](e[b]));return a}),k)&&"values_at"}(a.base,null)};
	Opal.modules["corelib/io"]=function(a){a.dynamic_require_severity="warning";var n,q,l=a.nil,f=a.klass,k=a.module,d=a.gvars;null==d.stdout&&(d.stdout=l);null==d.stderr&&(d.stderr=l);a.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $extend".split(" "));(function(c,$super){function n(){}var q=n=f(c,$super,"IO",n),y=q.$$proto,t=q.$$scope;y.tty=y.closed=l;a.cdecl(t,"SEEK_SET",0);a.cdecl(t,"SEEK_CUR",1);a.cdecl(t,"SEEK_END",2);a.defn(q,
	"$tty?",function(){return this.tty});a.defn(q,"$closed?",function(){return this.closed});q.$attr_accessor("write_proc");a.defn(q,"$write",function(a){this.write_proc(a);return a.$size()});q.$attr_accessor("sync");(function(c){c=k(c,"Writable");a.defn(c,"$<<",function(a){this.$write(a);return this});a.defn(c,"$print",function(){var a,g;null==d[","]&&(d[","]=l);var c=arguments.length-0;0>c&&(c=0);for(var f=Array(c),k=0;k<c;k++)f[k]=arguments[k+0];this.$write((a=f.$map,a.$$p=(g=function(a){var h=g.$$s||
	this;null==a&&(a=l);return h.$String(a)},g.$$s=this,g),a).call(f).$join(d[","]));return l});a.defn(c,"$puts",function(){var a,g,c=l;null==d["/"]&&(d["/"]=l);c=arguments.length-0;0>c&&(c=0);for(var f=Array(c),k=0;k<c;k++)f[k]=arguments[k+0];c=d["/"];(a=f["$empty?"]())===l||a.$$is_boolean&&1!=a?this.$write((a=f.$map,a.$$p=(g=function(a){var h=g.$$s||this;null==a&&(a=l);return h.$String(a).$chomp()},g.$$s=this,g),a).call(f).$concat([l]).$join(c)):this.$write(d["/"]);return l})})(t.base);return function(c){c=
	k(c,"Readable");var f=c.$$scope;a.defn(c,"$readbyte",function(){return this.$getbyte()});a.defn(c,"$readchar",function(){return this.$getc()});a.defn(c,"$readline",function(a){null==d["/"]&&(d["/"]=l);return this.$raise(f.get("NotImplementedError"))});a.defn(c,"$readpartial",function(a,c){return this.$raise(f.get("NotImplementedError"))})}(t.base)})(a.base,null);a.cdecl(a,"STDERR",d.stderr=a.get("IO").$new());a.cdecl(a,"STDIN",d.stdin=a.get("IO").$new());a.cdecl(a,"STDOUT",d.stdout=a.get("IO").$new());
	n=["object"===typeof process?function(a){process.stdout.write(a)}:function(a){console.log(a)}];q=d.stdout;q["$write_proc="].apply(q,n);n[n.length-1];n=["object"===typeof process?function(a){process.stderr.write(a)}:function(a){console.warn(a)}];q=d.stderr;q["$write_proc="].apply(q,n);n[n.length-1];d.stdout.$extend(a.get("IO").$$scope.get("Writable"));return d.stderr.$extend(a.get("IO").$$scope.get("Writable"))};
	Opal.modules["corelib/main"]=function(a){a.dynamic_require_severity="warning";var n=a.top,q=a.nil;a.add_stubs(["$include"]);a.defs(n,"$to_s",function(){return"main"});return(a.defs(n,"$include",function(l){return a.get("Object").$include(l)}),q)&&"include"};
	Opal.modules["corelib/dir"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass;a.add_stubs(["$[]"]);return function(l,$super){function k(){}var d=k=q(l,$super,"Dir",k);return function(c){var b=c.$$scope,d;a.defn(c,"$chdir",d=function(b){var c,k=d.$$p||n,l=n;d.$$p=null;try{return l=a.current_dir,a.current_dir=b,c=a.yieldX(k,[]),c}finally{a.current_dir=l}});a.defn(c,"$pwd",function(){return a.current_dir||"."});a.alias(c,"getwd","pwd");return(a.defn(c,"$home",function(){var a;return!1!==
	(a=b.get("ENV")["$[]"]("HOME"))&&a!==n?a:"."}),n)&&"home"}(a.get_singleton_class(d))}(a.base,null)};
	Opal.modules["corelib/file"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass,l=a.range;a.add_stubs("$join $compact $split $== $first $[]= $home $each $pop $<< $[] $gsub $find $=~".split(" "));return function(f,$super){function d(){}var c=d=q(f,$super,"File",d),b=c.$$scope;a.cdecl(b,"Separator",a.cdecl(b,"SEPARATOR","/"));a.cdecl(b,"ALT_SEPARATOR",n);a.cdecl(b,"PATH_SEPARATOR",":");return function(b){var c=b.$$scope;a.defn(b,"$expand_path",function(a,b){var d,f,g,m=n,l=n;null==
	b&&(b=n);a=[b,a].$compact().$join(c.get("SEPARATOR"));m=a.$split(c.get("SEPARATOR"));l=[];if(m.$first()["$=="]("~"))m["$[]="](0,c.get("Dir").$home());(d=(f=m).$each,d.$$p=(g=function(a){null==a&&(a=n);return a["$=="]("..")?l.$pop():l["$<<"](a)},g.$$s=this,g),d).call(f);return l.$join(c.get("SEPARATOR"))});a.alias(b,"realpath","expand_path");a.defn(b,"$dirname",function(a){return this.$split(a)["$[]"](l(0,-2,!1))});a.defn(b,"$basename",function(a){return this.$split(a)["$[]"](-1)});a.defn(b,"$exist?",
	function(b){return null!=a.modules[b]});a.alias(b,"exists?","exist?");a.defn(b,"$directory?",function(b){var d,f,l,g=n,g=n,g=[],m;for(m in a.modules)g.push(m);b=b.$gsub(new RegExp("(^."+c.get("SEPARATOR")+"+|"+c.get("SEPARATOR")+"+$)"));return g=(d=(f=g).$find,d.$$p=(l=function(a){null==a&&(a=n);return a["$=~"](new RegExp("^"+b))},l.$$s=this,l),d).call(f)});a.defn(b,"$join",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),d=0;d<a;d++)b[d]=arguments[d+0];return b.$join(c.get("SEPARATOR")).$gsub(new RegExp(""+
	c.get("SEPARATOR")+"+"),c.get("SEPARATOR"))});return(a.defn(b,"$split",function(a){return a.$split(c.get("SEPARATOR"))}),n)&&"split"}(a.get_singleton_class(c))}(a.base,a.get("IO"))};
	Opal.modules["corelib/process"]=function(a){a.dynamic_require_severity="warning";var n=a.nil,q=a.klass;a.add_stubs(["$to_f","$now","$new"]);(function(l,$super){function k(){}var d=k=q(l,$super,"Process",k),c=d.$$scope;a.cdecl(c,"CLOCK_REALTIME",0);a.cdecl(c,"CLOCK_MONOTONIC",1);a.defs(d,"$pid",function(){return 0});a.defs(d,"$times",function(){var a=n,a=c.get("Time").$now().$to_f();return c.get("Benchmark").$$scope.get("Tms").$new(a,a,a,a,a)});return(a.defs(d,"$clock_gettime",function(a,d){return c.get("Time").$now().$to_f()}),
	n)&&"clock_gettime"})(a.base,null);(function(l,$super){function k(){}var d=k=q(l,$super,"Signal",k);return(a.defs(d,"$trap",function(){return n}),n)&&"trap"})(a.base,null);return function(l,$super){function k(){}var d=k=q(l,$super,"GC",k);return(a.defs(d,"$start",function(){return n}),n)&&"start"}(a.base,null)};
	Opal.modules["corelib/unsupported"]=function(a){function n(a){d[a]||(d[a]=!0,q.$warn(a))}a.dynamic_require_severity="warning";var q=a.top,l=a.nil,f=a.klass,k=a.module;a.add_stubs(["$warn","$raise","$%","$module_function"]);var d={};(function(c,$super){function d(){}var k=d=f(c,$super,"String",d),n=k.$$scope;a.defn(k,"$<<",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))});a.defn(k,"$capitalize!",function(){return this.$raise(n.get("NotImplementedError"),
	"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))});a.defn(k,"$chomp!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))});a.defn(k,"$chop!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))});a.defn(k,"$downcase!",function(){return this.$raise(n.get("NotImplementedError"),
	"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))});a.defn(k,"$gsub!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))});a.defn(k,"$lstrip!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))});a.defn(k,"$next!",function(){return this.$raise(n.get("NotImplementedError"),
	"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))});a.defn(k,"$reverse!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))});a.defn(k,"$slice!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))});a.defn(k,"$squeeze!",function(){return this.$raise(n.get("NotImplementedError"),
	"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))});a.defn(k,"$strip!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))});a.defn(k,"$sub!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))});a.defn(k,"$succ!",function(){return this.$raise(n.get("NotImplementedError"),
	"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))});a.defn(k,"$swapcase!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))});a.defn(k,"$tr!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))});a.defn(k,"$tr_s!",function(){return this.$raise(n.get("NotImplementedError"),
	"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))});return(a.defn(k,"$upcase!",function(){return this.$raise(n.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))}),l)&&"upcase!"})(a.base,null);(function(c){c=k(c,"Kernel");var b=c.$$scope;a.defn(c,"$freeze",function(){!0===l?this.$raise(b.get("NotImplementedError"),"Object freezing is not supported by Opal"):n("Object freezing is not supported by Opal");
	return this});a.defn(c,"$frozen?",function(){!0===l?this.$raise(b.get("NotImplementedError"),"Object freezing is not supported by Opal"):n("Object freezing is not supported by Opal");return!1})})(a.base);(function(c){c=k(c,"Kernel");var b=c.$$scope;a.defn(c,"$taint",function(){!0===l?this.$raise(b.get("NotImplementedError"),"Object tainting is not supported by Opal"):n("Object tainting is not supported by Opal");return this});a.defn(c,"$untaint",function(){!0===l?this.$raise(b.get("NotImplementedError"),
	"Object tainting is not supported by Opal"):n("Object tainting is not supported by Opal");return this});a.defn(c,"$tainted?",function(){!0===l?this.$raise(b.get("NotImplementedError"),"Object tainting is not supported by Opal"):n("Object tainting is not supported by Opal");return!1})})(a.base);(function(c){c=k(c,"Marshal");var b=c.$$scope;c.$module_function();a.defn(c,"$dump",function(){return this.$raise(b.get("NotImplementedError"),"Marshalling is not supported by Opal")});a.defn(c,"$load",function(){return this.$raise(b.get("NotImplementedError"),
	"Marshalling is not supported by Opal")});a.defn(c,"$restore",function(){return this.$raise(b.get("NotImplementedError"),"Marshalling is not supported by Opal")})})(a.base);(function(c,$super){function d(){}var k=d=f(c,$super,"Module",d);a.defn(k,"$public",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+0];0===c.length&&(this.$$module_function=!1);return l});a.alias(k,"private","public");a.alias(k,"protected","public");a.alias(k,"nesting","public");a.defn(k,
	"$private_class_method",function(){return this});a.alias(k,"public_class_method","private_class_method");a.defn(k,"$private_method_defined?",function(a){return!1});a.defn(k,"$private_constant",function(){return l});a.alias(k,"protected_method_defined?","private_method_defined?");a.alias(k,"public_instance_methods","instance_methods");return a.alias(k,"public_method_defined?","method_defined?")})(a.base,null);(function(c){c=k(c,"Kernel");a.defn(c,"$private_methods",function(){return[]});a.alias(c,
	"private_instance_methods","private_methods")})(a.base);return function(c){c=k(c,"Kernel");var b=c.$$scope;a.defn(c,"$eval",function(){return this.$raise(b.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+b.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))})}(a.base)};
	(function(a){a.dynamic_require_severity="warning";var n=a.top;a.add_stubs(["$require"]);n.$require("opal/base");n.$require("opal/mini");n.$require("corelib/array/inheritance");n.$require("corelib/string/inheritance");n.$require("corelib/string/encoding");n.$require("corelib/math");n.$require("corelib/complex");n.$require("corelib/rational");n.$require("corelib/time");n.$require("corelib/struct");n.$require("corelib/io");n.$require("corelib/main");n.$require("corelib/dir");n.$require("corelib/file");
	n.$require("corelib/process");return n.$require("corelib/unsupported")})(Opal);
	Opal.modules.set=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}a.dynamic_require_severity="ignore";var l=a.nil,f=a.breaker,k=a.klass,d=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));(function(c,
	$super){function d(){}var x=d=k(c,$super,"Set",d),y=x.$$scope,t,p,r,g,m;x.$$proto.hash=l;x.$include(y.get("Enumerable"));a.defs(x,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var g=Array(a),c=0;c<a;c++)g[c]=arguments[c+0];return this.$new(g)});a.defn(x,"$initialize",t=function(a){var g,c,h,e=t.$$p||l;null==a&&(a=l);t.$$p=null;this.hash=y.get("Hash").$new();if((g=a["$nil?"]())!==l&&(!g.$$is_boolean||1==g))return l;((g=y.get("Enumerable")["$==="](a))===l||g.$$is_boolean&&1!=g)&&this.$raise(y.get("ArgumentError"),
	"value must be enumerable");return!1!==e&&e!==l?(g=(c=a).$each,g.$$p=(h=function(a){var g=h.$$s||this;null==a&&(a=l);return g.$add(e.$call(a))},h.$$s=this,h),g).call(c):this.$merge(a)});a.defn(x,"$dup",function(){var a=l,a=this.$class().$new();return a.$merge(this)});a.defn(x,"$-",function(a){var g;((g=a["$respond_to?"]("each"))===l||g.$$is_boolean&&1!=g)&&this.$raise(y.get("ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)});a.alias(x,"difference","-");a.defn(x,"$inspect",
	function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"});a.defn(x,"$==",function(a){var g,c,h;return(g=this["$equal?"](a))===l||g.$$is_boolean&&1!=g?(g=a["$instance_of?"](this.$class()))===l||g.$$is_boolean&&1!=g?(g=(c=a["$is_a?"](y.get("Set")),!1!==c&&c!==l?this.$size()["$=="](a.$size()):c))===l||g.$$is_boolean&&1!=g?!1:(g=(c=a)["$all?"],g.$$p=(h=function(a){var g=h.$$s||this;null==g.hash&&(g.hash=l);null==a&&(a=l);return g.hash["$include?"](a)},h.$$s=this,h),g).call(c):this.hash["$=="](a.$instance_variable_get("@hash")):
	!0});a.defn(x,"$add",function(a){this.hash["$[]="](a,!0);return this});a.alias(x,"<<","add");a.defn(x,"$classify",p=function(){var g,c,d,h,e=p.$$p||l,m=l;p.$$p=null;if(e===l)return this.$enum_for("classify");m=(g=(c=y.get("Hash")).$new,g.$$p=(d=function(a,e){var h=d.$$s||this;null==a&&(a=l);null==e&&(e=l);return a["$[]="](e,h.$class().$new())},d.$$s=this,d),g).call(c);(g=this.$each,g.$$p=(h=function(h){var g;null==h&&(h=l);return m["$[]"]((g=a.yield1(e,h))===f?f.$v:g).$add(h)},h.$$s=this,h),g).call(this);
	return m});a.defn(x,"$collect!",r=function(){var g,c,d=r.$$p||l,h=l;r.$$p=null;if(d===l)return this.$enum_for("collect!");h=this.$class().$new();(g=this.$each,g.$$p=(c=function(e){var g;null==e&&(e=l);return h["$<<"]((g=a.yield1(d,e))===f?f.$v:g)},c.$$s=this,c),g).call(this);return this.$replace(h)});a.alias(x,"map!","collect!");a.defn(x,"$delete",function(a){this.hash.$delete(a);return this});a.defn(x,"$delete?",function(a){var g;if((g=this["$include?"](a))===l||g.$$is_boolean&&1!=g)return l;this.$delete(a);
	return this});a.defn(x,"$delete_if",g=function(){try{var c,d,m,h,e,f=g.$$p||l;g.$$p=null;!1!==(c=f!==l)&&c!==l?c:a.ret(this.$enum_for("delete_if"));(c=(d=(h=this.$select,h.$$p=(e=function(e){var h;null==e&&(e=l);return h=a.yield1(f,e),h},e.$$s=this,e),h).call(this)).$each,c.$$p=(m=function(a){var e=m.$$s||this;null==e.hash&&(e.hash=l);null==a&&(a=l);return e.hash.$delete(a)},m.$$s=this,m),c).call(d);return this}catch(k){if(k===a.returner)return k.$v;throw k;}});a.defn(x,"$add?",function(a){var g;
	return(g=this["$include?"](a))===l||g.$$is_boolean&&1!=g?this.$add(a):l});a.defn(x,"$each",m=function(){var a,g,c=m.$$p||l;m.$$p=null;if(c===l)return this.$enum_for("each");(a=(g=this.hash).$each_key,a.$$p=c.$to_proc(),a).call(g);return this});a.defn(x,"$empty?",function(){return this.hash["$empty?"]()});a.defn(x,"$eql?",function(a){var g,c;return this.hash["$eql?"]((g=a.$instance_eval,g.$$p=(c=function(){var a=c.$$s||this;null==a.hash&&(a.hash=l);return a.hash},c.$$s=this,c),g).call(a))});a.defn(x,
	"$clear",function(){this.hash.$clear();return this});a.defn(x,"$include?",function(a){return this.hash["$include?"](a)});a.alias(x,"member?","include?");a.defn(x,"$merge",function(a){var g,c;(g=a.$each,g.$$p=(c=function(a){var e=c.$$s||this;null==a&&(a=l);return e.$add(a)},c.$$s=this,c),g).call(a);return this});a.defn(x,"$replace",function(a){this.$clear();this.$merge(a);return this});a.defn(x,"$size",function(){return this.hash.$size()});a.alias(x,"length","size");a.defn(x,"$subtract",function(a){var g,
	c;(g=a.$each,g.$$p=(c=function(a){var e=c.$$s||this;null==a&&(a=l);return e.$delete(a)},c.$$s=this,c),g).call(a);return this});a.defn(x,"$|",function(a){var g;((g=a["$respond_to?"]("each"))===l||g.$$is_boolean&&1!=g)&&this.$raise(y.get("ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)});a.defn(x,"$superset?",function(a){var g,c;!1!==(g=a["$is_a?"](y.get("Set")))&&g!==l?g:this.$raise(y.get("ArgumentError"),"value must be a set");return n(this.$size(),a.$size())?!1:(g=a["$all?"],
	g.$$p=(c=function(a){var e=c.$$s||this;null==a&&(a=l);return e["$include?"](a)},c.$$s=this,c),g).call(a)});a.alias(x,">=","superset?");a.defn(x,"$proper_superset?",function(a){var g,c;!1!==(g=a["$is_a?"](y.get("Set")))&&g!==l?g:this.$raise(y.get("ArgumentError"),"value must be a set");return q(this.$size(),a.$size())?!1:(g=a["$all?"],g.$$p=(c=function(a){var e=c.$$s||this;null==a&&(a=l);return e["$include?"](a)},c.$$s=this,c),g).call(a)});a.alias(x,">","proper_superset?");a.defn(x,"$subset?",function(a){var g,
	c;!1!==(g=a["$is_a?"](y.get("Set")))&&g!==l?g:this.$raise(y.get("ArgumentError"),"value must be a set");return n(a.$size(),this.$size())?!1:(g=this["$all?"],g.$$p=(c=function(h){null==h&&(h=l);return a["$include?"](h)},c.$$s=this,c),g).call(this)});a.alias(x,"<=","subset?");a.defn(x,"$proper_subset?",function(a){var g,c;!1!==(g=a["$is_a?"](y.get("Set")))&&g!==l?g:this.$raise(y.get("ArgumentError"),"value must be a set");return q(a.$size(),this.$size())?!1:(g=this["$all?"],g.$$p=(c=function(h){null==
	h&&(h=l);return a["$include?"](h)},c.$$s=this,c),g).call(this)});a.alias(x,"<","proper_subset?");a.alias(x,"+","|");a.alias(x,"union","|");return(a.defn(x,"$to_a",function(){return this.hash.$keys()}),l)&&"to_a"})(a.base,null);return function(c){c=d(c,"Enumerable");var b=c.$$scope,f;a.defn(c,"$to_set",f=function(c){var d,k,p=f.$$p||l,n=arguments.length-1;0>n&&(n=0);for(var g=Array(n),m=0;m<n;m++)g[m]=arguments[m+1];null==c&&(c=b.get("Set"));f.$$p=null;return(d=(k=c).$new,d.$$p=p.$to_proc(),d).apply(k,
	[this].concat(a.to_a(g)))})}(a.base)};
	Opal.modules.strscan=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.klass;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $private".split(" "));return function(l,$super){function k(){}var d=k=q(l,$super,"StringScanner",k),c=d.$$proto;c.pos=c.string=c.working=c.matched=c.prev_pos=c.match=n;d.$attr_reader("pos");d.$attr_reader("matched");a.defn(d,"$initialize",function(a){this.string=a;this.pos=0;this.matched=n;this.working=a;return this.match=[]});d.$attr_reader("string");
	a.defn(d,"$beginning_of_line?",function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)});a.alias(d,"bol?","beginning_of_line?");a.defn(d,"$scan",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=n:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):n});a.defn(d,"$scan_until",
	function(a){a=this.$anchor(a);for(var c=this.pos,d=this.working,k;;)if(k=a.exec(d),c+=1,d=d.substr(1),null==k){if(0===d.length)return this.matched=n}else return this.matched=this.string.substr(this.pos,c-this.pos-1+k[0].length),this.prev_pos=c-1,this.pos=c,this.working=d.substr(k[0].length),this.matched});a.defn(d,"$[]",function(a){var c=this.match;0>a&&(a+=c.length);return 0>a||a>=c.length||null==c[a]?n:c[a]});a.defn(d,"$check",function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?
	this.matched=n:this.matched=a[0]});a.defn(d,"$check_until",function(a){var c=this.prev_pos,d=this.pos;a=this.$scan_until(a);a!==n&&(this.matched=a.substr(-1),this.working=this.string.substr(d));this.prev_pos=c;this.pos=d;return a});a.defn(d,"$peek",function(a){return this.working.substring(0,a)});a.defn(d,"$eos?",function(){return 0===this.working.length});a.defn(d,"$exist?",function(a){a=a.exec(this.working);return null==a?n:0==a.index?0:a.index+1});a.defn(d,"$skip",function(a){a=this.$anchor(a);
	a=a.exec(this.working);if(null==a)return this.matched=n;a=a[0];var c=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=c;this.working=this.working.substring(c);return c});a.defn(d,"$skip_until",function(a){a=this.$scan_until(a);if(a===n)return n;this.matched=a.substr(-1);return a.length});a.defn(d,"$get_byte",function(){var a=n;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=n;return a});
	a.alias(d,"getch","get_byte");a.defn(d,"$match?",function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return n;this.prev_pos=this.pos;return a[0].length});a.defn(d,"$pos=",function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)});a.defn(d,"$post_match",function(){return this.matched===n?n:this.string.substr(this.pos)});a.defn(d,"$pre_match",function(){return this.matched===n?n:this.string.substr(0,this.prev_pos)});a.defn(d,"$reset",function(){this.working=
	this.string;this.matched=n;return this.pos=0});a.defn(d,"$rest",function(){return this.working});a.defn(d,"$rest?",function(){return 0!==this.working.length});a.defn(d,"$rest_size",function(){return this.$rest().$size()});a.defn(d,"$terminate",function(){var a;this.match=n;return a=[this.string.$length()],this["$pos="].apply(this,a),a[a.length-1]});a.defn(d,"$unscan",function(){this.pos=this.prev_pos;this.match=this.prev_pos=n;return this});d.$private();return(a.defn(d,"$anchor",function(a){return new RegExp("^"+
	a.toString().substr(1,a.toString().length-2))}),n)&&"anchor"}(a.base,null)};
	Opal.modules["asciidoctor/opal_ext/dir"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.klass;a.add_stubs(["$[]"]);return function(l,$super){function k(){}var d=k=q(l,$super,"Dir",k),c=d.$$scope;a.defs(d,"$pwd",function(){var a;return!1!==(a=c.get("ENV")["$[]"]("PWD"))&&a!==n?a:"."});a.defs(d,"$getwd",function(){var a;return!1!==(a=c.get("ENV")["$[]"]("PWD"))&&a!==n?a:"."});return(a.defs(d,"$home",function(){return c.get("ENV")["$[]"]("HOME")}),n)&&"home"}(a.base,null)};
	Opal.modules["asciidoctor/opal_ext/file"]=function(a){function n(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="ignore";var q=a.nil,l=a.breaker,f=a.module,k=a.klass,d=a.gvars,c=a.range;a.add_stubs("$new $attr_reader $read $size $to_enum $chomp $each_line $* $rindex $[] $+ $- $nil_or_empty? $nil? $===".split(" "));(function(b){b=f(b,"Kernel");var c=b.$$scope,d;a.defn(b,"$open",d=function(b){var f,k,l=d.$$p||q,g=q,g=arguments.length-1;0>g&&(g=0);for(var m=
	Array(g),n=0;n<g;n++)m[n]=arguments[n+1];d.$$p=null;g=(f=c.get("File")).$new.apply(f,[b].concat(a.to_a(m)));return l!==q?(k=a.yield1(l,g),k):g})})(a.base);(function(b,$super){function f(){}var y=f=k(b,$super,"File",f),t=y.$$proto,p=y.$$scope,r;t.eof=t.path=q;a.cdecl(p,"SEPARATOR","/");a.cdecl(p,"ALT_SEPARATOR",q);y.$attr_reader("eof");y.$attr_reader("lineno");y.$attr_reader("path");a.defn(y,"$initialize",function(a,b){this.path=a;this.contents=q;this.eof=!1;return this.lineno=0});a.defn(y,"$read",
	function(){var a,b=q;return(a=this.eof)===q||a.$$is_boolean&&1!=a?(b=p.get("File").$read(this.path),this.eof=!0,this.lineno=b.$size(),b):""});a.defn(y,"$each_line",r=function(b){var c,f=r.$$p||q,k=q;null==d["/"]&&(d["/"]=q);null==b&&(b=d["/"]);r.$$p=null;if((c=this.eof)!==q&&(!c.$$is_boolean||1==c))return f!==q?this:[].$to_enum();if(f!==q){k=p.get("File").$read(this.path);this.eof=!1;this.lineno=0;for(var n=k.$chomp(),k=k.length!=n.length,n=n.split(b),h=0,e=n.length;h<e;h++)this.lineno+=1,h<e-1||
	k?(c=a.yield1(f,n[h]+b))===l?l.$v:c:(c=a.yield1(f,n[h]))===l?l.$v:c;this.eof=!0;return this}return this.$read().$each_line()});a.defs(y,"$expand_path",function(a){return a});a.defs(y,"$join",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];a=p.get("SEPARATOR");return"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)});a.defs(y,"$basename",function(a){var b,d=q;return(b=d=a.$rindex(p.get("SEPARATOR")))===q||b.$$is_boolean&&1!=b?a:a["$[]"](c(n(d,
	1),-1,!1))});a.defs(y,"$dirname",function(a){var b,d=q;return(b=d=a.$rindex(p.get("SEPARATOR")))===q||b.$$is_boolean&&1!=b?".":a["$[]"](c(0,"number"===typeof d?d-1:d["$-"](1),!1))});a.defs(y,"$extname",function(a){var b,d=q;if((b=a["$nil_or_empty?"]())!==q&&(!b.$$is_boolean||1==b))return"";d=a["$[]"](c(1,-1,!1)).$rindex(".");return(b=d["$nil?"]())===q||b.$$is_boolean&&1!=b?a["$[]"](c(n(d,1),-1,!1)):""});a.defs(y,"$file?",function(a){return!0});a.defs(y,"$readable?",function(a){return!0});return(a.defs(y,
	"$read",function(a){var b=q;return function(){b=p.get("JAVASCRIPT_PLATFORM");if("node"["$==="](b))return __webpack_require__(13).readFileSync(a,"utf8");if("java-nashorn"["$==="](b)){var c=Java.type("java.nio.file.Paths"),d=[];Java.type("java.nio.file.Files").readAllLines(c.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){d.push(a)});return d.join("\n")}if("browser"["$==="](b)){var d="",f=-1;try{c=new XMLHttpRequest,c.open("GET",a,!1),c.addEventListener("load",function(){f=this.status;
	if(0==f||200==f)d=this.responseText}),c.overrideMimeType("text/plain"),c.send()}catch(h){f=0}if(404==f||0==f&&""==d)throw p.get("IOError").$new("No such file or directory: "+a);return d}return"standalone"["$==="](b)?read(a):""}()}),q)&&"read"})(a.base,null);return function(b,$super){function c(){}var d=c=k(b,$super,"IO",c),f=d.$$scope;return(a.defs(d,"$read",function(a){return f.get("File").$read(a)}),q)&&"read"}(a.base,null)};
	Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.klass;a.add_stubs(["$[]="]);return function(l,$super){function k(){}var d=k=q(l,$super,"MatchData",k);d.$$proto.matches=n;return(a.defn(d,"$[]=",function(a,b){return this.matches["$[]="](a,b)}),n)&&"[]="}(a.base,null)};Opal.modules["asciidoctor/opal_ext/kernel"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.module;return function(l){l=q(l,"Kernel");a.defn(l,"$freeze",function(){return n})}(a.base)};
	Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){a.dynamic_require_severity="ignore";var n;n=a.nil;var q=a.gvars;null==q.stdout&&(q.stdout=n);null==q.stderr&&(q.stderr=n);a.add_stubs(["$write_proc="]);a=[function(a){print(a)}];n=q.stdout;n["$write_proc="].apply(n,a);a[a.length-1];return a=[function(a){print(a)}],n=q.stderr,n["$write_proc="].apply(n,a),a[a.length-1]};
	Opal.modules["asciidoctor/opal_ext"]=function(a){a.dynamic_require_severity="ignore";var n=a.top,q=a.nil,l=q;a.add_stubs(["$require","$==="]);a.cdecl(a,"JAVASCRIPT_PLATFORM","undefined"!==typeof module&&module.exports?"node":"undefined"!==typeof XMLHttpRequest?"browser":"undefined"!==typeof Java&&Java.type?"java-nashorn":"undefined"!==typeof java?"java-rhino":"standalone");n.$require("strscan");n.$require("asciidoctor/opal_ext/dir");n.$require("asciidoctor/opal_ext/file");n.$require("asciidoctor/opal_ext/match_data");
	n.$require("asciidoctor/opal_ext/kernel");l=a.get("JAVASCRIPT_PLATFORM");a="java-nashorn"["$==="](l)?n.$require("asciidoctor/opal_ext/nashorn/io"):q;return a};Opal.modules["asciidoctor/version"]=function(a){a.dynamic_require_severity="ignore";var n=a.module,n=n(a.base,"Asciidoctor").$$scope;a.cdecl(n,"VERSION","1.5.4")};
	Opal.modules["asciidoctor/timings"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var f=a.nil,k=a.module,d=a.klass,c=a.hash2,b=a.gvars;a.add_stubs("$[]= $now $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(D){(function(k,
	$super){function t(){}var p=t=d(k,$super,"Timings",t),r=p.$$proto;r.timers=r.log=f;a.defn(p,"$initialize",function(){this.log=c([],{});return this.timers=c([],{})});a.defn(p,"$start",function(b){return this.timers["$[]="](b,a.get("Time").$now())});a.defn(p,"$record",function(b){return this.log["$[]="](b,n(a.get("Time").$now(),this.timers.$delete(b)))});a.defn(p,"$read_parse",function(){var a,b=f;return q(b=l(!1!==(a=this.log["$[]"]("read"))&&a!==f?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==f?a:0),
	0)?b:f});a.defn(p,"$convert",function(){var a;return!1!==(a=this.log["$[]"]("convert"))&&a!==f?a:0});a.defn(p,"$read_parse_convert",function(){var a,b=f;return q(b=l(l(!1!==(a=this.log["$[]"]("read"))&&a!==f?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==f?a:0),!1!==(a=this.log["$[]"]("convert"))&&a!==f?a:0),0)?b:f});a.defn(p,"$total",function(){var a,b=f;return q(b=l(l(l(!1!==(a=this.log["$[]"]("read"))&&a!==f?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==f?a:0),!1!==(a=this.log["$[]"]("convert"))&&a!==
	f?a:0),!1!==(a=this.log["$[]"]("write"))&&a!==f?a:0),0)?b:f});return(a.defn(p,"$print_report",function(a,c){null==b.stdout&&(b.stdout=f);null==a&&(a=b.stdout);null==c&&(c=f);!1!==c&&c!==f&&a.$puts("Input file: "+c);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))}),f)&&"print_report"})(k(D,
	"Asciidoctor").$$scope.base,null)}(a.base)};
	Opal.modules["asciidoctor/core_ext/object/nil_or_empty"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.klass;a.add_stubs(["$respond_to?"]);(function(l,$super){function k(){}var d=k=q(l,$super,"NilClass",k),c;return(c=d["$respond_to?"]("nil_or_empty?"))===n||c.$$is_boolean&&1!=c?a.alias(d,"nil_or_empty?","nil?"):n})(a.base,null);(function(l,$super){function k(){}var d=k=q(l,$super,"String",k),c;return(c=d["$respond_to?"]("nil_or_empty?"))===n||c.$$is_boolean&&1!=c?a.alias(d,"nil_or_empty?",
	"empty?"):n})(a.base,null);(function(l,$super){function k(){}var d=k=q(l,$super,"Array",k),c;return(c=d["$respond_to?"]("nil_or_empty?"))===n||c.$$is_boolean&&1!=c?a.alias(d,"nil_or_empty?","empty?"):n})(a.base,null);(function(l,$super){function k(){}var d=k=q(l,$super,"Hash",k),c;return(c=d["$respond_to?"]("nil_or_empty?"))===n||c.$$is_boolean&&1!=c?a.alias(d,"nil_or_empty?","empty?"):n})(a.base,null);return function(l,$super){function k(){}var d=k=q(l,$super,"Numeric",k),c;return(c=d["$respond_to?"]("nil_or_empty?"))===
	n||c.$$is_boolean&&1!=c?a.alias(d,"nil_or_empty?","nil?"):n}(a.base,null)};Opal.modules["asciidoctor/core_ext"]=function(a){a.dynamic_require_severity="ignore";var n=a.top,q=a.nil;a.add_stubs(["$require","$=="]);n.$require("asciidoctor/core_ext/object/nil_or_empty");if(a.get("RUBY_ENGINE")["$=="]("opal"))return q};
	Opal.modules["asciidoctor/helpers"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.module,l=a.range,f=a.gvars;a.add_stubs("$require $== $=== $fail $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $to_a $bytes $[] $map $rstrip $lines $encode $force_encoding $join $[]= $encoding $nil_or_empty? $each_line $include? $=~ $gsub $sprintf $each_byte $extname $-@ $length $basename $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));return function(k){(function(d){d=
	q(d,"Helpers");var c=d.$$scope;a.defs(d,"$require_library",function(b,c,d){var f=n,k=n;null==c&&(c=!0);null==d&&(d="abort");try{return this.$require(b)}catch(l){if(a.rescue(l,[a.get("LoadError")])){f=l;try{if(!1!==c&&c!==n)return c["$=="](!0)&&(c=b),k=d,"abort"["$==="](k)?this.$fail("asciidoctor: FAILED: required gem '"+c+"' is not installed. Processing aborted."):"warn"["$==="](k)?this.$warn("asciidoctor: WARNING: optional gem '"+c+"' is not installed. Functionality disabled."):n;k=d;return"abort"["$==="](k)?
	this.$fail("asciidoctor: FAILED: "+f.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](k)?this.$warn("asciidoctor: WARNING: "+f.$message().$chomp(".")+". Functionality disabled."):n}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else throw l;}});a.defs(d,"$normalize_lines",function(b){return b.$class()["$=="](a.get("String"))?this.$normalize_lines_from_string(b):this.$normalize_lines_array(b)});a.defs(d,"$normalize_lines_array",function(b){var d,f,k,q,p,r,g=n,m=n,u=n,A=n;if((d=b["$empty?"]())!==
	n&&(!d.$$is_boolean||1==d))return[];g=(m=b["$[]"](0))["$[]"](l(0,2,!1)).$bytes().$to_a();if((d=c.get("COERCE_ENCODING"))===n||d.$$is_boolean&&1!=d){if(g["$=="](c.get("BOM_BYTES_UTF_8")))b["$[]="](0,m["$[]"](l(3,-1,!1)));return(d=b.$map,d.$$p=(r=function(a){null==a&&(a=n);return a.$rstrip()},r.$$s=this,r),d).call(b)}u=a.get("Encoding").$$scope.get("UTF_8");if((A=g["$[]"](l(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE")))return(d=(f=b.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](l(1,
	-1,!1)).$encode(u).$lines()).$map,d.$$p=(k=function(a){null==a&&(a=n);return a.$rstrip()},k.$$s=this,k),d).call(f);if(A["$=="](c.get("BOM_BYTES_UTF_16BE")))return b["$[]="](0,m.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](l(1,-1,!1))),(d=b.$map,d.$$p=(q=function(b){null==b&&(b=n);return""+b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(u).$rstrip()},q.$$s=this,q),d).call(b);if(g["$[]"](l(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8")))b["$[]="](0,m.$force_encoding(u)["$[]"](l(1,
	-1,!1)));return(d=b.$map,d.$$p=(p=function(a){null==a&&(a=n);return a.$encoding()["$=="](u)?a.$rstrip():a.$force_encoding(u).$rstrip()},p.$$s=this,p),d).call(b)});a.defs(d,"$normalize_lines_from_string",function(b){var d,f,k,q=n,p=n,r=n;if((d=b["$nil_or_empty?"]())!==n&&(!d.$$is_boolean||1==d))return[];(d=c.get("COERCE_ENCODING"))===n||d.$$is_boolean&&1!=d?b["$[]"](l(0,2,!1)).$bytes().$to_a()["$=="](c.get("BOM_BYTES_UTF_8"))&&(b=b["$[]"](l(3,-1,!1))):(q=a.get("Encoding").$$scope.get("UTF_8"),p=b["$[]"](l(0,
	2,!1)).$bytes().$to_a(),(r=p["$[]"](l(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](l(1,-1,!1)).$encode(q):r["$=="](c.get("BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](l(1,-1,!1)).$encode(q):p["$[]"](l(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8"))?b=b.$encoding()["$=="](q)?b["$[]"](l(1,-1,!1)):b.$force_encoding(q)["$[]"](l(1,-1,!1)):b.$encoding()["$=="](q)||(b=b.$force_encoding(q)));return(d=
	(f=b.$each_line()).$map,d.$$p=(k=function(a){null==a&&(a=n);return a.$rstrip()},k.$$s=this,k),d).call(f)});a.defs(d,"$uriish?",function(a){var d;return d=a["$include?"](":"),!1!==d&&d!==n?a["$=~"](c.get("UriSniffRx")):d});a.defs(d,"$uri_prefix",function(a){var d,k;return(d=(k=a["$include?"](":"),!1!==k&&k!==n?a["$=~"](c.get("UriSniffRx")):k))===n||d.$$is_boolean&&1!=d?n:(d=f["~"])===n?n:d["$[]"](0)});a.cdecl(c,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(d,"$encode_uri",function(a){var d,
	k;return(d=a.$gsub,d.$$p=(k=function(){var a=k.$$s||this,b,c,d,g;return(b=(c=((g=f["~"])===n?n:g["$[]"](0)).$each_byte()).$map,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=n);return b.$sprintf("%%%02X",a)},d.$$s=a,d),b).call(c).$join()},k.$$s=this,k),d).call(a,c.get("REGEXP_ENCODE_URI_CHARS"))});a.defs(d,"$rootname",function(b){var c,d=n;return(c=(d=a.get("File").$extname(b))["$empty?"]())===n||c.$$is_boolean&&1!=c?b["$[]"](l(0,d.$length()["$-@"](),!0)):b});a.defs(d,"$basename",function(b,c){var d;
	null==c&&(c=!1);return!1!==c&&c!==n?a.get("File").$basename(b,!1!==(d=a.get("File").$extname(b))&&d!==n?d:""):a.get("File").$basename(b)});a.defs(d,"$mkdir_p",function(b){var c,d,f=n;return(c=a.get("File")["$directory?"](b))===n||c.$$is_boolean&&1!=c?(f=a.get("File").$dirname(b),(c=(d=a.get("File")["$directory?"](f=a.get("File").$dirname(b))["$!"](),!1!==d&&d!==n?f["$!="]("."):d))===n||c.$$is_boolean&&1!=c||this.$mkdir_p(f),a.get("Dir").$mkdir(b)):n})})(q(k,"Asciidoctor").$$scope.base)}(a.base)};
	Opal.modules["asciidoctor/substitutors"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var k=a.nil,d=a.breaker,c=a.slice,b=a.module,D=a.hash2,x=a.gvars,y=a.range;a.add_stubs("$join $keys $[] $+ $attr_reader $! $== $=== $each $has_key? $<< $empty? $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $nil_or_empty? $[]= $size $unescape_brackets $resolve_pass_subs $> $- $end_with? $parse_attributes $start_with? $to_sym $attributes $document $basebackend? $to_i $convert $new $clear $convert_quoted_text $gsub! $do_replacement $tr $length $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $unescape_bracketed_text $inject $strip $map $pop $rstrip $extensions $inline_macros? $config $process_method $regexp $instance $inline_macros $register $basename $split_simple_csv $normalize_string $!= $!~ $delete $chop $attr? $sub $chomp $encode_uri $sub_inline_xrefs $sub_inline_anchors $find $id $references $index $text $rootname $key $escape $attr $read_next_id $callouts $push $parse_quoted_text_attributes $shorthand_property_syntax $shift $concat $parse_into $parse $each_char $=~ $chr $dup $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_lines_to_highlight $highlight $to_a $uniq $sort $option? $resolve_block_subs".split(" "));
	return function(t){(function(p){p=b(p,"Substitutors");var r=p.$$scope;a.cdecl(r,"SPECIAL_CHARS",D(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.cdecl(r,"SPECIAL_CHARS_PATTERN",new RegExp("["+r.get("SPECIAL_CHARS").$keys().$join()+"]"));a.cdecl(r,"SUBS",D("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),
	header:["specialcharacters","attributes"],pass:[]}));a.cdecl(r,"COMPOSITE_SUBS",D(["none","normal","verbatim","specialchars"],{none:[],normal:r.get("SUBS")["$[]"]("normal"),verbatim:r.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]}));a.cdecl(r,"SUB_SYMBOLS",D("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.cdecl(r,"SUB_OPTIONS",D(["block","inline"],{block:n(n(r.get("COMPOSITE_SUBS").$keys(),
	r.get("SUBS")["$[]"]("normal")),["callouts"]),inline:n(r.get("COMPOSITE_SUBS").$keys(),r.get("SUBS")["$[]"]("normal"))}));a.cdecl(r,"SUB_HIGHLIGHT",["coderay","pygments"]);a.cdecl(r,"PASS_START","\u0096");a.cdecl(r,"PASS_END","\u0097");a.cdecl(r,"PASS_MATCH",/\u0096(\d+)\u0097/);a.cdecl(r,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);p.$attr_reader("passthroughs");a.defn(p,"$apply_subs",function(b,c,d){var f,l,h,e,w,p=k,C=k,M=k,I=k;null==this.passthroughs&&
	(this.passthroughs=k);null==c&&(c="normal");null==d&&(d=!1);if((f=c["$!"]())!==k&&(!f.$$is_boolean||1==f))return b;c["$=="]("normal")?c=r.get("SUBS")["$[]"]("normal"):!1!==d&&d!==k&&((f=a.get("Symbol")["$==="](c))===k||f.$$is_boolean&&1!=f?(p=[],(f=(l=c).$each,f.$$p=(h=function(a){var b;null==a&&(a=k);return(b=r.get("COMPOSITE_SUBS")["$has_key?"](a))===k||b.$$is_boolean&&1!=b?p["$<<"](a):p=n(p,r.get("COMPOSITE_SUBS")["$[]"](a))},h.$$s=this,h),f).call(l),c=p):c=!1!==(f=r.get("COMPOSITE_SUBS")["$[]"](c))&&
	f!==k?f:[c]);if((f=c["$empty?"]())!==k&&(!f.$$is_boolean||1==f))return b;C=(f=M=a.get("Array")["$==="](b))===k||f.$$is_boolean&&1!=f?b:q(b,r.get("EOL"));(f=I=c["$include?"]("macros"))===k||f.$$is_boolean&&1!=f||(C=this.$extract_passthroughs(C),(f=this.passthroughs["$empty?"]())===k||f.$$is_boolean&&1!=f||(I=!1));(f=(e=c).$each,f.$$p=(w=function(a){var b=w.$$s||this,e,h=k;null==a&&(a=k);h=a;return"specialcharacters"["$==="](h)?C=b.$sub_specialchars(C):"quotes"["$==="](h)?C=b.$sub_quotes(C):"attributes"["$==="](h)?
	C=q(b.$sub_attributes(C.$split(r.get("EOL"))),r.get("EOL")):"replacements"["$==="](h)?C=b.$sub_replacements(C):"macros"["$==="](h)?C=b.$sub_macros(C):"highlight"["$==="](h)?C=b.$highlight_source(C,c["$include?"]("callouts")):"callouts"["$==="](h)?(e=c["$include?"]("highlight"))===k||e.$$is_boolean&&1!=e?C=b.$sub_callouts(C):k:"post_replacements"["$==="](h)?C=b.$sub_post_replacements(C):b.$warn("asciidoctor: WARNING: unknown substitution type "+a)},w.$$s=this,w),f).call(e);!1!==I&&I!==k&&(C=this.$restore_passthroughs(C));
	return!1!==M&&M!==k?C.$split(r.get("EOL")):C});a.defn(p,"$apply_normal_subs",function(b){var c;return this.$apply_subs((c=a.get("Array")["$==="](b))===k||c.$$is_boolean&&1!=c?b:q(b,r.get("EOL")))});a.defn(p,"$apply_title_subs",function(a){return this.$apply_subs(a,r.get("SUBS")["$[]"]("title"))});a.defn(p,"$apply_header_subs",function(a){return this.$apply_subs(a,r.get("SUBS")["$[]"]("header"))});a.defn(p,"$extract_passthroughs",function(b){var c,d,p,n,h,e,w,E,C=k,M=k,I=k,v=k;null==this.document&&
	(this.document=k);C=this.document.$compat_mode();(c=!1!==(d=!1!==(p=b["$include?"]("++"))&&p!==k?p:b["$include?"]("$$"))&&d!==k?d:b["$include?"]("ss:"))===k||c.$$is_boolean&&1!=c||(b=(c=(d=b).$gsub,c.$$p=(n=function(){var b=n.$$s||this,e,h=k,g=k,c=k,d=c=k,m=k,v=k,w=k,h=k;null==b.passthroughs&&(b.passthroughs=k);null==x["~"]&&(x["~"]=k);h=x["~"];g=k;if((e=(c=h["$[]"](4))["$nil_or_empty?"]())===k||e.$$is_boolean&&1!=e){if((e=!1!==C&&C!==k?c["$=="]("++"):C)!==k&&(!e.$$is_boolean||1==e))return(e=h["$[]"](2)["$nil_or_empty?"]())===
	k||e.$$is_boolean&&1!=e?""+h["$[]"](1)+"["+h["$[]"](2)+"]"+h["$[]"](3)+"++"+b.$extract_passthroughs(h["$[]"](5))+"++":""+h["$[]"](1)+h["$[]"](3)+"++"+b.$extract_passthroughs(h["$[]"](5))+"++";d=h["$[]"](2);(e=a.get("RUBY_ENGINE_OPAL"))===k||e.$$is_boolean&&1!=e||d["$=="]("")&&(d=k);m=h["$[]"](3).$size();v=h["$[]"](5);w=!1;if(!1!==d&&d!==k){if(l(m,0))return""+h["$[]"](1)+"["+d+"]"+q("\\",f(m,1))+c+h["$[]"](5)+c+")";h["$[]"](1)["$=="]("\\")?(g="["+d+"]",d=k):((e=c["$=="]("++")?d["$end_with?"]("x-"):
	c["$=="]("++"))===k||e.$$is_boolean&&1!=e||(w=!0,d=d["$[]"](y(0,-2,!0))),d=b.$parse_attributes(d))}else if(l(m,0))return""+h["$[]"](1)+"["+d+"]"+q("\\",f(m,1))+c+h["$[]"](5)+c;h=c["$=="]("+++")?[]:["specialcharacters"];c=b.passthroughs.$size();if(!1!==d&&d!==k)if(!1!==w&&w!==k)b.passthroughs["$[]="](c,D(["text","subs","type","attributes"],{text:v,subs:r.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:d}));else b.passthroughs["$[]="](c,D(["text","subs","type","attributes"],{text:v,subs:h,
	type:"unquoted",attributes:d}));else b.passthroughs["$[]="](c,D(["text","subs"],{text:v,subs:h}))}else{if(h["$[]"](6)["$=="]("\\"))return h["$[]"](0)["$[]"](y(1,-1,!1));b.passthroughs["$[]="](c=b.passthroughs.$size(),D(["text","subs"],{text:b.$unescape_brackets(h["$[]"](8)),subs:(e=h["$[]"](7)["$nil_or_empty?"]())===k||e.$$is_boolean&&1!=e?b.$resolve_pass_subs(h["$[]"](7)):[]}))}return""+g+r.get("PASS_START")+c+r.get("PASS_END")},n.$$s=this,n),c).call(d,r.get("PassInlineMacroRx")));c=a.to_ary(r.get("PassInlineRx")["$[]"](C));
	M=null==c[0]?k:c[0];I=null==c[1]?k:c[1];v=null==c[2]?k:c[2];(c=!1!==(p=b["$include?"](M))&&p!==k?p:(h=!1!==I&&I!==k)?b["$include?"](I):I)===k||c.$$is_boolean&&1!=c||(b=(c=(p=b).$gsub,c.$$p=(e=function(){var b=e.$$s||this,h,g=k,c=k,d=k,m=k,f=k,v=k,w=k,f=g=k;null==b.passthroughs&&(b.passthroughs=k);null==x["~"]&&(x["~"]=k);g=x["~"];c=g["$[]"](1);d=g["$[]"](2);m=(h=g["$[]"](3)["$start_with?"]("\\"))===k||h.$$is_boolean&&1!=h?k:"\\";f=g["$[]"](4);v=g["$[]"](5);(h=a.get("RUBY_ENGINE_OPAL"))===k||h.$$is_boolean&&
	1!=h||d["$=="]("")&&(d=k);!1!==C&&C!==k?w=!0:(h=w=!1!==d&&d!==k?d["$end_with?"]("x-"):d)===k||h.$$is_boolean&&1!=h||(d=d["$[]"](y(0,-2,!0)));if(!1!==d&&d!==k){if((h=f["$=="]("`")?w["$!"]():f["$=="]("`"))!==k&&(!h.$$is_boolean||1==h))return""+c+"["+d+"]"+m+"`"+b.$extract_passthroughs(v)+"`";if(!1!==m&&m!==k)return""+c+"["+d+"]"+g["$[]"](3)["$[]"](y(1,-1,!1));c["$=="]("\\")?(c="["+d+"]",d=k):d=b.$parse_attributes(d)}else{if((h=f["$=="]("`")?w["$!"]():f["$=="]("`"))!==k&&(!h.$$is_boolean||1==h))return""+
	c+m+"`"+b.$extract_passthroughs(v)+"`";if(!1!==m&&m!==k)return""+c+g["$[]"](3)["$[]"](y(1,-1,!1))}g=b.passthroughs.$size();if(!1!==C&&C!==k)b.passthroughs["$[]="](g,D(["text","subs","attributes","type"],{text:v,subs:["specialcharacters"],attributes:d,type:"monospaced"}));else if(!1!==d&&d!==k)if(!1!==w&&w!==k)f=f["$=="]("`")?["specialcharacters"]:r.get("SUBS")["$[]"]("normal"),b.passthroughs["$[]="](g,D(["text","subs","attributes","type"],{text:v,subs:f,attributes:d,type:"monospaced"}));else b.passthroughs["$[]="](g,
	D(["text","subs","attributes","type"],{text:v,subs:["specialcharacters"],attributes:d,type:"unquoted"}));else b.passthroughs["$[]="](g,D(["text","subs"],{text:v,subs:["specialcharacters"]}));return""+c+r.get("PASS_START")+g+r.get("PASS_END")},e.$$s=this,e),c).call(p,v));(c=(h=b["$include?"](":"),!1!==h&&h!==k?!1!==(w=b["$include?"]("stem:"))&&w!==k?w:b["$include?"]("math:"):h))===k||c.$$is_boolean&&1!=c||(b=(c=(h=b).$gsub,c.$$p=(E=function(){var a=E.$$s||this,b,e=k,h=k,g=k,c=k,d=e=k;null==a.document&&
	(a.document=k);null==a.passthroughs&&(a.passthroughs=k);null==x["~"]&&(x["~"]=k);e=x["~"];if((b=e["$[]"](0)["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return e["$[]"](0)["$[]"](y(1,-1,!1));(h=e["$[]"](1).$to_sym())["$=="]("stem")&&(h=((b=(g=a.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===k||b.$$is_boolean&&1!=b?g:"asciimath").$to_sym());c=a.$unescape_brackets(e["$[]"](3));e=(b=e["$[]"](2)["$nil_or_empty?"]())===k||b.$$is_boolean&&1!=b?a.$resolve_pass_subs(e["$[]"](2)):
	(b=a.document["$basebackend?"]("html"))===k||b.$$is_boolean&&1!=b?[]:["specialcharacters"];a.passthroughs["$[]="](d=a.passthroughs.$size(),D(["text","subs","type"],{text:c,subs:e,type:h}));return""+r.get("PASS_START")+d+r.get("PASS_END")},E.$$s=this,E),c).call(h,r.get("StemInlineMacroRx")));return b});a.defn(p,"$restore_passthroughs",function(a,b){var c,d,f,h;null==this.passthroughs&&(this.passthroughs=k);null==b&&(b=!0);try{return(c=(d=!1!==b&&b!==k)?!1!==(f=this.passthroughs["$empty?"]())&&f!==
	k?f:a["$include?"](r.get("PASS_START"))["$!"]():b)===k||c.$$is_boolean&&1!=c?(c=(d=a).$gsub,c.$$p=(h=function(){var a=h.$$s||this,b,g=k,c=k,d=k,m=k;null==a.passthroughs&&(a.passthroughs=k);null==x["~"]&&(x["~"]=k);g=a.passthroughs["$[]"](x["~"]["$[]"](1).$to_i());c=(b=d=g["$[]"]("subs"))===k||b.$$is_boolean&&1!=b?g["$[]"]("text"):a.$apply_subs(g["$[]"]("text"),d);(b=m=g["$[]"]("type"))===k||b.$$is_boolean&&1!=b||(c=r.get("Inline").$new(a,"quoted",c,D(["type","attributes"],{type:m,attributes:g["$[]"]("attributes")})).$convert());
	return(b=c["$include?"](r.get("PASS_START")))===k||b.$$is_boolean&&1!=b?c:a.$restore_passthroughs(c,!1)},h.$$s=this,h),c).call(d,r.get("PASS_MATCH")):a}finally{!1!==b&&b!==k&&this.passthroughs.$clear()}});a.defn(p,"$sub_specialchars",function(a){var b,c;return(b=r.get("SUPPORTS_GSUB_RESULT_HASH"))===k||b.$$is_boolean&&1!=b?(b=a.$gsub,b.$$p=(c=function(){var a;return r.get("SPECIAL_CHARS")["$[]"]((a=x["~"])===k?k:a["$[]"](0))},c.$$s=this,c),b).call(a,r.get("SPECIAL_CHARS_PATTERN")):a.$gsub(r.get("SPECIAL_CHARS_PATTERN"),
	r.get("SPECIAL_CHARS"))});a.alias(p,"sub_specialcharacters","sub_specialchars");a.defn(p,"$sub_quotes",function(b){var c,d,f,l,h,e=k;null==this.document&&(this.document=k);(c=a.get("RUBY_ENGINE_OPAL"))===k||c.$$is_boolean&&1!=c?(e=""+b,(c=(l=r.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,c.$$p=(h=function(a,b,g){var c=h.$$s||this,d,m,f;null==a&&(a=k);null==b&&(b=k);null==g&&(g=k);return(d=(m=e)["$gsub!"],d.$$p=(f=function(){var e=f.$$s||this;null==x["~"]&&(x["~"]=k);return e.$convert_quoted_text(x["~"],
	a,b)},f.$$s=c,f),d).call(m,g)},h.$$s=this,h),c).call(l)):(e=b,(c=(d=r.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,c.$$p=(f=function(a,b,h){var g=f.$$s||this,c,d,m;null==a&&(a=k);null==b&&(b=k);null==h&&(h=k);return e=(c=(d=e).$gsub,c.$$p=(m=function(){var e=m.$$s||this;null==x["~"]&&(x["~"]=k);return e.$convert_quoted_text(x["~"],a,b)},m.$$s=g,m),c).call(d,h)},f.$$s=this,f),c).call(d));return e});a.defn(p,"$sub_replacements",function(b){var c,d,f,l,h,e=k;(c=a.get("RUBY_ENGINE_OPAL"))===
	k||c.$$is_boolean&&1!=c?(e=""+b,(c=(l=r.get("REPLACEMENTS")).$each,c.$$p=(h=function(a,b,g){var c=h.$$s||this,d,m,f;null==a&&(a=k);null==b&&(b=k);null==g&&(g=k);return(d=(m=e)["$gsub!"],d.$$p=(f=function(){var a=f.$$s||this;null==x["~"]&&(x["~"]=k);return a.$do_replacement(x["~"],b,g)},f.$$s=c,f),d).call(m,a)},h.$$s=this,h),c).call(l)):(e=b,(c=(d=r.get("REPLACEMENTS")).$each,c.$$p=(f=function(a,b,h){var g=f.$$s||this,c,d,m;null==a&&(a=k);null==b&&(b=k);null==h&&(h=k);return e=(c=(d=e).$gsub,c.$$p=
	(m=function(){var a=m.$$s||this;null==x["~"]&&(x["~"]=k);return a.$do_replacement(x["~"],b,h)},m.$$s=g,m),c).call(d,a)},f.$$s=this,f),c).call(d));return e});a.defn(p,"$do_replacement",function(a,b,c){var d,f=k,f=k;(d=(f=a["$[]"](0))["$include?"]("\\"))===k||d.$$is_boolean&&1!=d?(f=c,a="none"["$==="](f)?b:"leading"["$==="](f)?""+a["$[]"](1)+b:"bounding"["$==="](f)?""+a["$[]"](1)+b+a["$[]"](2):k):a=f.$tr("\\","");return a});a.defn(p,"$sub_attributes",function(b,c){var f,l,p,h=k,e=k,w=k,E=k;null==this.document&&
	(this.document=k);null==c&&(c=D([],{}));if((f=b["$nil_or_empty?"]())!==k&&(!f.$$is_boolean||1==f))return b;(f=h=a.get("String")["$==="](b))===k||f.$$is_boolean&&1!=f||(b=[b]);e=this.document.$attributes();w=k;E=[];(f=(l=b).$each,f.$$p=(p=function(b){var h=p.$$s||this,g,f,l,u,q=k,F=k;null==b&&(b=k);F=q=!1;(g=b["$include?"]("{"))===k||g.$$is_boolean&&1!=g||(b=(g=(f=b).$gsub,g.$$p=(l=function(){var b=l.$$s||this,h,g,f=k,v=k,p=k,I=k,u=k,C=k,O=k,A=k,E=k;null==b.document&&(b.document=k);null==x["~"]&&(x["~"]=
	k);f=x["~"];if((h=!1!==(g=f["$[]"](1)["$=="]("\\"))&&g!==k?g:f["$[]"](4)["$=="]("\\"))===k||h.$$is_boolean&&1!=h){if((h=f["$[]"](3)["$nil_or_empty?"]()["$!"]())===k||h.$$is_boolean&&1!=h)return(h=e["$key?"](E=f["$[]"](2).$downcase()))===k||h.$$is_boolean&&1!=h?(h=r.get("INTRINSIC_ATTRIBUTES")["$key?"](E))===k||h.$$is_boolean&&1!=h?function(){u=!1!==(h=w)&&h!==k?h:w=!1!==(g=c["$[]"]("attribute_missing"))&&g!==k?g:e.$fetch("attribute-missing",r.get("Compliance").$attribute_missing());if("skip"["$==="](u))return f["$[]"](0);
	if("drop-line"["$==="](u))return b.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+E),q=!0,d.$v="",d;if("warn"["$==="](u))return b.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+E),f["$[]"](0);F=!0;return""}():r.get("INTRINSIC_ATTRIBUTES")["$[]"](E):e["$[]"](E);v=n((p=f["$[]"](3)).$length(),1);I=f["$[]"](2)["$[]"](y(v,-1,!1));return function(){u=p;if("set"["$==="](u)){C=I.$split(":");h=a.to_ary(r.get("Parser").$store_attribute(C["$[]"](0),
	!1!==(g=C["$[]"](1))&&g!==k?g:"",b.document));O=null==h[1]?k:h[1];if((!1===O||O===k)&&e.$fetch("attribute-undefined",r.get("Compliance").$attribute_undefined())["$=="]("drop-line"))return q=!0,d.$v="",d;F=!0;return""}if("counter"["$==="](u)||"counter2"["$==="](u))return C=I.$split(":"),A=b.document.$counter(C["$[]"](0),C["$[]"](1)),p["$=="]("counter2")?(F=!0,""):A;b.$warn("asciidoctor: WARNING: illegal attribute directive: "+f["$[]"](3));return f["$[]"](0)}()}return"{"+f["$[]"](2)+"}"},l.$$s=h,l),
	g).call(f,r.get("AttributeReferenceRx")));return(g=!1!==(u=q)&&u!==k?u:!1!==F&&F!==k?b["$empty?"]():F)===k||g.$$is_boolean&&1!=g?E["$<<"](b):k},p.$$s=this,p),f).call(l);return!1!==h&&h!==k?q(E,r.get("EOL")):E});a.defn(p,"$sub_macros",function(b){var d,f,l,p,h,e,w,n,C,q,I,v,B,O,L,F,P,N,t,T,U=k,V=k,J=k,Q=k,K=k,R=k;null==this.document&&(this.document=k);if((d=b["$nil_or_empty?"]())!==k&&(!d.$$is_boolean||1==d))return b;U=D([],{});U["$[]="]("square_bracket",b["$include?"]("["));U["$[]="]("round_bracket",
	b["$include?"]("("));U["$[]="]("colon",V=b["$include?"](":"));U["$[]="]("macroish",(d=U["$[]"]("square_bracket"),!1!==d&&d!==k?V:d));U["$[]="]("macroish_short_form",(d=(f=U["$[]"]("square_bracket"),!1!==f&&f!==k?V:f),!1!==d&&d!==k?b["$include?"](":["):d));J=this.document.$attributes()["$has_key?"]("linkattrs");Q=this.document.$attributes()["$has_key?"]("experimental");K=""+b;!1!==Q&&Q!==k&&((d=(f=U["$[]"]("macroish_short_form"),!1!==f&&f!==k?!1!==(l=K["$include?"]("kbd:"))&&l!==k?l:K["$include?"]("btn:"):
	f))===k||d.$$is_boolean&&1!=d||(K=(d=(f=K).$gsub,d.$$p=(p=function(){var a=p.$$s||this,b,e,h,g=k,c=k,g=g=k;null==x["~"]&&(x["~"]=k);g=x["~"];if((b=(c=g["$[]"](0))["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return c["$[]"](y(1,-1,!1));if((b=c["$start_with?"]("kbd"))===k||b.$$is_boolean&&1!=b){if((b=c["$start_with?"]("btn"))===k||b.$$is_boolean&&1!=b)return k;g=a.$unescape_bracketed_text(g["$[]"](1));return r.get("Inline").$new(a,"button",g).$convert()}g=a.$unescape_bracketed_text(g["$[]"](1));
	g=g["$=="]("+")?["+"]:(b=(e=g.$split(r.get("KbdDelimiterRx"))).$inject,b.$$p=(h=function(a,b){var e;null==a&&(a=k);null==b&&(b=k);if((e=b["$end_with?"]("++"))===k||e.$$is_boolean&&1!=e)a["$<<"](b.$strip());else a["$<<"](b["$[]"](y(0,-3,!1)).$strip()),a["$<<"]("+");return a},h.$$s=a,h),b).call(e,[]);return r.get("Inline").$new(a,"kbd",k,D(["attributes"],{attributes:D(["keys"],{keys:g})})).$convert()},p.$$s=this,p),d).call(f,r.get("KbdBtnInlineMacroRx"))),(d=(l=U["$[]"]("macroish"),!1!==l&&l!==k?K["$include?"]("menu:"):
	l))===k||d.$$is_boolean&&1!=d||(K=(d=(l=K).$gsub,d.$$p=(h=function(){var a=h.$$s||this,b,e,g,c=k,d=k,m=c=d=k,m=c=k;null==x["~"]&&(x["~"]=k);c=x["~"];if((b=(d=c["$[]"](0))["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return d["$[]"](y(1,-1,!1));d=c["$[]"](1);c=c["$[]"](2);(b=c["$!"]())===k||b.$$is_boolean&&1!=b?(b=m=(e=c["$include?"]("&gt;"))===k||e.$$is_boolean&&1!=e?(e=c["$include?"](","))===k||e.$$is_boolean&&1!=e?k:",":"&gt;")===k||b.$$is_boolean&&1!=b?(m=[],c=c.$rstrip()):(m=(b=(e=c.$split(m)).$map,
	b.$$p=(g=function(a){null==a&&(a=k);return a.$strip()},g.$$s=a,g),b).call(e),c=m.$pop()):(m=[],c=k);return r.get("Inline").$new(a,"menu",k,D(["attributes"],{attributes:D(["menu","submenus","menuitem"],{menu:d,submenus:m,menuitem:c})})).$convert()},h.$$s=this,h),d).call(l,r.get("MenuInlineMacroRx"))),(d=(e=K["$include?"]('"'),!1!==e&&e!==k?K["$include?"]("&gt;"):e))===k||d.$$is_boolean&&1!=d||(K=(d=(e=K).$gsub,d.$$p=(w=function(){var b=w.$$s||this,e,h,g,d,m=k,f=k,v=f=m=m=k;null==x["~"]&&(x["~"]=k);
	m=x["~"];if((e=(f=m["$[]"](0))["$start_with?"]("\\"))!==k&&(!e.$$is_boolean||1==e))return f["$[]"](y(1,-1,!1));m=m["$[]"](1);e=a.to_ary((h=(g=m.$split("&gt;")).$map,h.$$p=(d=function(a){null==a&&(a=k);return a.$strip()},d.$$s=b,d),h).call(g));m=null==e[0]?k:e[0];f=c.call(e,1);v=f.$pop();return r.get("Inline").$new(b,"menu",k,D(["attributes"],{attributes:D(["menu","submenus","menuitem"],{menu:m,submenus:f,menuitem:v})})).$convert()},w.$$s=this,w),d).call(e,r.get("MenuInlineRx"))));(d=(n=R=this.document.$extensions(),
	!1!==n&&n!==k?R["$inline_macros?"]():n))===k||d.$$is_boolean&&1!=d||(d=(n=R.$inline_macros()).$each,d.$$p=(C=function(a){var b=C.$$s||this,e,h,g;null==a&&(a=k);return K=(e=(h=K).$gsub,e.$$p=(g=function(){var b=g.$$s||this,e,h=k,c=k,h=k;null==x["~"]&&(x["~"]=k);h=x["~"];if((e=h["$[]"](0)["$start_with?"]("\\"))!==k&&(!e.$$is_boolean||1==e))return h["$[]"](0)["$[]"](y(1,-1,!1));c=h["$[]"](1);h=a.$config()["$[]"]("format")["$=="]("short")?D([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?
	b.$parse_attributes(h["$[]"](2),!1!==(e=a.$config()["$[]"]("pos_attrs"))&&e!==k?e:[],D(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):D(["text"],{text:b.$unescape_bracketed_text(h["$[]"](2))});return a.$process_method()["$[]"](b,c,h)},g.$$s=b,g),e).call(h,a.$instance().$regexp())},C.$$s=this,C),d).call(n);(d=(q=U["$[]"]("macroish"),!1!==q&&q!==k?!1!==(I=K["$include?"]("image:"))&&I!==k?I:K["$include?"]("icon:"):q))===k||d.$$is_boolean&&1!=d||(K=(d=(q=K).$gsub,d.$$p=(v=function(){var a=
	v.$$s||this,b,e,h,g=k,c=e=k,d=k,d=g=k;null==a.document&&(a.document=k);null==x["~"]&&(x["~"]=k);g=x["~"];if((b=g["$[]"](0)["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return g["$[]"](0)["$[]"](y(1,-1,!1));e=a.$unescape_bracketed_text(g["$[]"](2));(b=g["$[]"](0)["$start_with?"]("icon:"))===k||b.$$is_boolean&&1!=b?(c="image",d=["alt","width","height"]):(c="icon",d=["size"]);g=a.$sub_attributes(g["$[]"](1));c["$=="]("icon")||a.document.$register("images",g);d=a.$parse_attributes(e,d);b="alt";
	e=d;!1!==(h=e["$[]"](b))&&h!==k?h:e["$[]="](b,r.get("Helpers").$basename(g,!0).$tr("_-"," "));return r.get("Inline").$new(a,"image",k,D(["type","target","attributes"],{type:c,target:g,attributes:d})).$convert()},v.$$s=this,v),d).call(q,r.get("ImageInlineMacroRx")));(d=!1!==(I=U["$[]"]("macroish_short_form"))&&I!==k?I:U["$[]"]("round_bracket"))===k||d.$$is_boolean&&1!=d||(K=(d=(I=K).$gsub,d.$$p=(B=function(){var b=B.$$s||this,e,h,g=k,c=k,d=k,m=k,g=g=k;null==b.document&&(b.document=k);null==x["~"]&&
	(x["~"]=k);g=x["~"];if((e=g["$[]"](0)["$start_with?"]("\\"))!==k&&(!e.$$is_boolean||1==e))return g["$[]"](0)["$[]"](y(1,-1,!1));if((e=a.get("RUBY_ENGINE_OPAL"))!==k&&(!e.$$is_boolean||1==e)&&g["$[]"](1)["$=="](""))g["$[]="](1,k);c=0;d=k;if((e=m=g["$[]"](1))===k||e.$$is_boolean&&1!=e)d=g["$[]"](3),(e=(h=d["$start_with?"]("("),!1!==h&&h!==k?d["$end_with?"](")"):h))===k||e.$$is_boolean&&1!=e?c=2:(d=d["$[]"](y(1,-1,!0)),c=3);if((e=!1!==(h=m["$=="]("indexterm"))&&h!==k?h:c["$=="](3))===k||e.$$is_boolean&&
	1!=e)return g=(e=m["$!"]())===k||e.$$is_boolean&&1!=e?b.$normalize_string(g["$[]"](2),!0):b.$normalize_string(d),b.document.$register("indexterms",[g]),r.get("Inline").$new(b,"indexterm",g,D(["type"],{type:"visible"})).$convert();g=(e=m["$!"]())===k||e.$$is_boolean&&1!=e?b.$split_simple_csv(b.$normalize_string(g["$[]"](2),!0)):b.$split_simple_csv(b.$normalize_string(d));b.document.$register("indexterms",[].concat(a.to_a(g)));return r.get("Inline").$new(b,"indexterm",k,D(["attributes"],{attributes:D(["terms"],
	{terms:g})})).$convert()},B.$$s=this,B),d).call(I,r.get("IndextermInlineMacroRx")));(d=(b=!1!==V&&V!==k)?K["$include?"]("://"):V)===k||d.$$is_boolean&&1!=d||(K=(d=(b=K).$gsub,d.$$p=(O=function(){var b=O.$$s||this,e,h,g,c,d=k,m=k,f=k,v=k,w=k,l=w=k,d=k;null==b.document&&(b.document=k);null==x["~"]&&(x["~"]=k);d=x["~"];if((e=d["$[]"](2)["$start_with?"]("\\"))!==k&&(!e.$$is_boolean||1==e))return""+d["$[]"](1)+d["$[]"](2)["$[]"](y(1,-1,!1))+d["$[]"](3);if((e=a.get("RUBY_ENGINE_OPAL"))!==k&&(!e.$$is_boolean||
	1==e)&&d["$[]"](3)["$=="](""))d["$[]="](3,k);if((e=(h=d["$[]"](1)["$=="]("link:"))?d["$[]"](3)["$!"]():d["$[]"](1)["$=="]("link:"))!==k&&(!e.$$is_boolean||1==e))return d["$[]"](0);m=(e=d["$[]"](1)["$!="]("link:"))===k||e.$$is_boolean&&1!=e?"":d["$[]"](1);f=d["$[]"](2);v="";if((e=!1!==(h=d["$[]"](3))&&h!==k?h:f["$!~"](r.get("UriTerminator")))===k||e.$$is_boolean&&1!=e)w=x["~"]["$[]"](0),")"["$==="](w)?(f=f["$[]"](y(0,-2,!1)),v=")"):";"["$==="](w)?(e=(h=m["$start_with?"]("&lt;"),!1!==h&&h!==k?f["$end_with?"]("&gt;"):
	h))===k||e.$$is_boolean&&1!=e?(e=f["$end_with?"](");"))===k||e.$$is_boolean&&1!=e?(f=f["$[]"](y(0,-2,!1)),v=";"):(f=f["$[]"](y(0,-3,!1)),v=");"):(m=m["$[]"](y(4,-1,!1)),f=f["$[]"](y(0,-5,!1))):":"["$==="](w)&&((e=f["$end_with?"]("):"))===k||e.$$is_boolean&&1!=e?(f=f["$[]"](y(0,-2,!1)),v=":"):(f=f["$[]"](y(0,-3,!1)),v="):"));b.document.$register("links",f);w=D(["type","target"],{type:"link",target:f});l=k;if((e=d["$[]"](3)["$nil_or_empty?"]())===k||e.$$is_boolean&&1!=e){if((e=!1!==J&&J!==k?!1!==(g=
	d["$[]"](3)["$start_with?"]('"'))&&g!==k?g:(c=d["$[]"](3)["$include?"](","),!1!==c&&c!==k?d["$[]"](3)["$include?"]("="):c):J)===k||e.$$is_boolean&&1!=e)d=b.$sub_attributes(d["$[]"](3).$gsub("\\]","]"));else{l=b.$parse_attributes(b.$sub_attributes(d["$[]"](3).$gsub("\\]","]")),[]);if((e=l["$has_key?"]("id"))!==k&&(!e.$$is_boolean||1==e))w["$[]="]("id",l.$delete("id"));d=!1!==(e=l["$[]"](1))&&e!==k?e:""}(e=d["$end_with?"]("^"))===k||e.$$is_boolean&&1!=e||(d=d.$chop(),!1!==l&&l!==k?(e="window",h=l,!1!==
	(g=h["$[]"](e))&&g!==k?g:h["$[]="](e,"_blank")):l=D(["window"],{window:"_blank"}))}else d="";if((e=d["$empty?"]())!==k&&(!e.$$is_boolean||1==e))if(d=(e=b.document["$attr?"]("hide-uri-scheme"))===k||e.$$is_boolean&&1!=e?f:f.$sub(r.get("UriSniffRx"),""),!1!==l&&l!==k)l["$[]="]("role",("bare "+l["$[]"]("role")).$chomp(" "));else l=D(["role"],{role:"bare"});if(!1!==l&&l!==k)w["$[]="]("attributes",l);return""+m+r.get("Inline").$new(b,"anchor",d,w).$convert()+v},O.$$s=this,O),d).call(b,r.get("LinkInlineRx")));
	(d=!1!==(L=(F=U["$[]"]("macroish"),!1!==F&&F!==k?K["$include?"]("link:"):F))&&L!==k?L:K["$include?"]("mailto:"))===k||d.$$is_boolean&&1!=d||(K=(d=(L=K).$gsub,d.$$p=(P=function(){var a=P.$$s||this,b,e,h,g=k,c=k,d=k,m=e=k,f=k,g=k;null==a.document&&(a.document=k);null==x["~"]&&(x["~"]=k);g=x["~"];if((b=g["$[]"](0)["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return g["$[]"](0)["$[]"](y(1,-1,!1));c=g["$[]"](1);d=g["$[]"](0)["$start_with?"]("mailto:");e=!1!==d&&d!==k?"mailto:"+c:c;m=D(["type","target"],
	{type:"link",target:e});f=k;if((b=!1!==J&&J!==k?!1!==(h=g["$[]"](2)["$start_with?"]('"'))&&h!==k?h:g["$[]"](2)["$include?"](","):J)===k||b.$$is_boolean&&1!=b)g=a.$sub_attributes(g["$[]"](2).$gsub("\\]","]"));else{f=a.$parse_attributes(a.$sub_attributes(g["$[]"](2).$gsub("\\]","]")),[]);if((b=f["$key?"]("id"))!==k&&(!b.$$is_boolean||1==b))m["$[]="]("id",f.$delete("id"));!1===d||d===k||(b=f["$key?"](2))===k||b.$$is_boolean&&1!=b||(e=m["$[]="]("target",""+e+"?subject="+r.get("Helpers").$encode_uri(f["$[]"](2))),
	(b=f["$key?"](3))===k||b.$$is_boolean&&1!=b||(e=m["$[]="]("target",""+e+"&amp;body="+r.get("Helpers").$encode_uri(f["$[]"](3)))));g=f["$[]"](1)}a.document.$register("links",e);(b=g["$end_with?"]("^"))===k||b.$$is_boolean&&1!=b||(g=g.$chop(),!1!==f&&f!==k?(b="window",e=f,!1!==(h=e["$[]"](b))&&h!==k?h:e["$[]="](b,"_blank")):f=D(["window"],{window:"_blank"}));if((b=g["$empty?"]())!==k&&(!b.$$is_boolean||1==b))if(!1!==d&&d!==k)g=c;else if(g=(b=a.document["$attr?"]("hide-uri-scheme"))===k||b.$$is_boolean&&
	1!=b?c:c.$sub(r.get("UriSniffRx"),""),!1!==f&&f!==k)f["$[]="]("role",("bare "+f["$[]"]("role")).$chomp(" "));else f=D(["role"],{role:"bare"});if(!1!==f&&f!==k)m["$[]="]("attributes",f);return r.get("Inline").$new(a,"anchor",g,m).$convert()},P.$$s=this,P),d).call(L,r.get("LinkInlineMacroRx")));(d=K["$include?"]("@"))===k||d.$$is_boolean&&1!=d||(K=(d=(F=K).$gsub,d.$$p=(N=function(){var a=N.$$s||this,b,e=k,h=k,e=e=k;null==a.document&&(a.document=k);null==x["~"]&&(x["~"]=k);e=x["~"];h=e["$[]"](0);if((b=
	e=e["$[]"](1))!==k&&(!b.$$is_boolean||1==b))return"\\"["$==="](e)?h["$[]"](y(1,-1,!1)):h;e="mailto:"+h;a.document.$register("links",e);return r.get("Inline").$new(a,"anchor",h,D(["type","target"],{type:"link",target:e})).$convert()},N.$$s=this,N),d).call(F,r.get("EmailInlineMacroRx")));(d=(t=U["$[]"]("macroish_short_form"),!1!==t&&t!==k?K["$include?"]("footnote"):t))===k||d.$$is_boolean&&1!=d||(K=(d=(t=K).$gsub,d.$$p=(T=function(){var b=T.$$s||this,e,h,g,c,d=k,m=k,f=k,v=d=k,w=k,f=k;null==b.document&&
	(b.document=k);null==x["~"]&&(x["~"]=k);d=x["~"];if((e=d["$[]"](0)["$start_with?"]("\\"))!==k&&(!e.$$is_boolean||1==e))return d["$[]"](0)["$[]"](y(1,-1,!1));d["$[]"](1)["$=="]("footnote")?(m=k,f=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(d["$[]"](2),!0))),!1),d=b.document.$counter("footnote-number"),b.document.$register("footnotes",r.get("Document").$$scope.get("Footnote").$new(d,m,f)),w=v=k):(e=a.to_ary(d["$[]"](2).$split(",",2)),m=null==e[0]?k:e[0],f=null==
	e[1]?k:e[1],m=m.$strip(),(e=f["$nil_or_empty?"]())===k||e.$$is_boolean&&1!=e?(f=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(f,!0))),!1),d=b.document.$counter("footnote-number"),b.document.$register("footnotes",r.get("Document").$$scope.get("Footnote").$new(d,m,f)),v="ref",w=k):((e=f=(h=(g=b.document.$references()["$[]"]("footnotes")).$find,h.$$p=(c=function(a){null==a&&(a=k);return a.$id()["$=="](m)},c.$$s=b,c),h).call(g))===k||e.$$is_boolean&&1!=e?(d=k,f=
	m):(d=f.$index(),f=f.$text()),w=m,m=k,v="xref"));return r.get("Inline").$new(b,"footnote",f,D(["attributes","id","target","type"],{attributes:D(["index"],{index:d}),id:m,target:w,type:v})).$convert()},T.$$s=this,T),d).call(t,r.get("FootnoteInlineMacroRx")));return this.$sub_inline_xrefs(this.$sub_inline_anchors(K,U),U)});a.defn(p,"$sub_inline_anchors",function(b,c){var d,f,l,h,e,w,p;null==c&&(c=k);(d=(f=!1!==(l=c["$!"]())&&l!==k?l:c["$[]"]("square_bracket"),!1!==f&&f!==k?b["$include?"]("[[["):f))===
	k||d.$$is_boolean&&1!=d||(b=(d=(f=b).$gsub,d.$$p=(h=function(){var a=h.$$s||this,b,e=k,g=e=k;null==x["~"]&&(x["~"]=k);e=x["~"];if((b=e["$[]"](0)["$start_with?"]("\\"))!==k&&(!b.$$is_boolean||1==b))return e["$[]"](0)["$[]"](y(1,-1,!1));e=g=e["$[]"](1);return r.get("Inline").$new(a,"anchor",g,D(["type","target"],{type:"bibref",target:e})).$convert()},h.$$s=this,h),d).call(f,r.get("InlineBiblioAnchorRx")));(d=!1!==(l=(e=!1!==(w=c["$!"]())&&w!==k?w:c["$[]"]("square_bracket"),!1!==e&&e!==k?b["$include?"]("[["):
	e))&&l!==k?l:(e=!1!==(w=c["$!"]())&&w!==k?w:c["$[]"]("macroish"),!1!==e&&e!==k?b["$include?"]("anchor:"):e))===k||d.$$is_boolean&&1!=d||(b=(d=(l=b).$gsub,d.$$p=(p=function(){var b=p.$$s||this,e,h,g=k,c=k,g=k;null==x["~"]&&(x["~"]=k);g=x["~"];if((e=g["$[]"](0)["$start_with?"]("\\"))!==k&&(!e.$$is_boolean||1==e))return g["$[]"](0)["$[]"](y(1,-1,!1));if((e=a.get("RUBY_ENGINE_OPAL"))!==k&&(!e.$$is_boolean||1==e)){if(g["$[]"](1)["$=="](""))g["$[]="](1,k);if(g["$[]"](2)["$=="](""))g["$[]="](2,k);if(g["$[]"](4)["$=="](""))g["$[]="](4,
	k)}c=!1!==(e=g["$[]"](1))&&e!==k?e:g["$[]"](3);g=!1!==(e=!1!==(h=g["$[]"](2))&&h!==k?h:g["$[]"](4))&&e!==k?e:"["+c+"]";return r.get("Inline").$new(b,"anchor",g,D(["type","target"],{type:"ref",target:c})).$convert()},p.$$s=this,p),d).call(l,r.get("InlineAnchorRx")));return b});a.defn(p,"$sub_inline_xrefs",function(b,c){var d,f,l,h;null==c&&(c=k);(d=!1!==(f=!1!==(l=c["$!"]())&&l!==k?l:c["$[]"]("macroish"))&&f!==k?f:b["$include?"]("&lt;&lt;"))===k||d.$$is_boolean&&1!=d||(b=(d=(f=b).$gsub,d.$$p=(h=function(){var b=
	h.$$s||this,g,c,d,m,f,v,l=k,p=k,n=k,F=p=l=k,u=k,F=k;null==b.document&&(b.document=k);null==x["~"]&&(x["~"]=k);l=x["~"];if((g=l["$[]"](0)["$start_with?"]("\\"))!==k&&(!g.$$is_boolean||1==g))return l["$[]"](0)["$[]"](y(1,-1,!1));if((g=a.get("RUBY_ENGINE_OPAL"))!==k&&(!g.$$is_boolean||1==g)&&l["$[]"](1)["$=="](""))l["$[]="](1,k);if((g=l["$[]"](1))===k||g.$$is_boolean&&1!=g){if(p=l["$[]"](2),(g=l["$[]"](3)["$nil_or_empty?"]())===k||g.$$is_boolean&&1!=g)n=l["$[]"](3)}else g=a.to_ary((c=(d=l["$[]"](1).$split(",",
	2)).$map,c.$$p=(m=function(a){null==a&&(a=k);return a.$strip()},m.$$s=b,m),c).call(d)),p=null==g[0]?k:g[0],n=null==g[1]?k:g[1],p=p.$sub(r.get("DoubleQuotedRx"),"\\2"),n=(g=n["$nil_or_empty?"]())===k||g.$$is_boolean&&1!=g?n.$sub(r.get("DoubleQuotedMultiRx"),"\\2"):k;(g=p["$include?"]("#"))===k||g.$$is_boolean&&1!=g?l=k:(g=a.to_ary(p.$split("#")),l=null==g[0]?k:g[0],p=null==g[1]?k:g[1]);!1!==l&&l!==k?(l=r.get("Helpers").$rootname(l),(g=!1!==(c=b.document.$attributes()["$[]"]("docname")["$=="](l))&&
	c!==k?c:b.document.$references()["$[]"]("includes")["$include?"](l))===k||g.$$is_boolean&&1!=g?(F=!1!==p&&p!==k?""+l+"#"+p:l,l=""+b.document.$attributes()["$[]"]("relfileprefix")+l+b.document.$attributes().$fetch("outfilesuffix",".html"),u=!1!==p&&p!==k?""+l+"#"+p:l):(F=p,l=k,u="#"+p)):((g=(c=(f=b.document.$references()["$[]"]("ids")["$has_key?"](p)["$!"](),!1!==f&&f!==k?!1!==(v=p["$include?"](" "))&&v!==k?v:p.$downcase()["$!="](p):f),!1!==c&&c!==k?F=(f=r.get("RUBY_MIN_VERSION_1_9"))===k||f.$$is_boolean&&
	1!=f?b.document.$references()["$[]"]("ids").$index(p):b.document.$references()["$[]"]("ids").$key(p):c))===k||g.$$is_boolean&&1!=g||(p=F),F=p,u="#"+p);return r.get("Inline").$new(b,"anchor",n,D(["type","target","attributes"],{type:"xref",target:u,attributes:D(["path","fragment","refid"],{path:l,fragment:p,refid:F})})).$convert()},h.$$s=this,h),d).call(f,r.get("XrefInlineMacroRx")));return b});a.defn(p,"$sub_callouts",function(b){var c,d,f=k,f=(c=this["$attr?"]("line-comment"))===k||c.$$is_boolean&&
	1!=c?r.get("CalloutSourceRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+r.get("CalloutSourceRxt"));return(c=b.$gsub,c.$$p=(d=function(){var a=d.$$s||this,b=k;null==a.document&&(a.document=k);null==x["~"]&&(x["~"]=k);b=x["~"];return b["$[]"](1)["$=="]("\\")?b["$[]"](0).$sub("\\",""):r.get("Inline").$new(a,"callout",b["$[]"](3),D(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},d.$$s=this,d),c).call(b,f)});a.defn(p,"$sub_post_replacements",function(a){var b,
	c,d,f,h=k,e=k;null==this.document&&(this.document=k);null==this.attributes&&(this.attributes=k);if((b=!1!==(c=this.document.$attributes()["$has_key?"]("hardbreaks"))&&c!==k?c:this.attributes["$has_key?"]("hardbreaks-option"))===k||b.$$is_boolean&&1!=b)return(b=a["$include?"]("+"))===k||b.$$is_boolean&&1!=b?a:(b=a.$gsub,b.$$p=(f=function(){var a=f.$$s||this;null==x["~"]&&(x["~"]=k);return r.get("Inline").$new(a,"break",x["~"]["$[]"](1),D(["type"],{type:"line"})).$convert()},f.$$s=this,f),b).call(a,
	r.get("LineBreakRx"));h=a.$split(r.get("EOL"));if(h.$size()["$=="](1))return a;e=h.$pop();return q((b=(c=h).$map,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=k);return r.get("Inline").$new(b,"break",a.$rstrip().$chomp(r.get("LINE_BREAK")),D(["type"],{type:"line"})).$convert()},d.$$s=this,d),b).call(c).$push(e),r.get("EOL"))});a.defn(p,"$convert_quoted_text",function(a,b,c){var d,f=k,h=k,e=f=k,f=k;if((d=a["$[]"](0)["$start_with?"]("\\"))!==k&&(!d.$$is_boolean||1==d)){if((d=c["$=="]("constrained")?
	(h=a["$[]"](2))["$nil_or_empty?"]()["$!"]():c["$=="]("constrained"))===k||d.$$is_boolean&&1!=d)return a["$[]"](0)["$[]"](y(1,-1,!1));f="["+h+"]"}if(c["$=="]("constrained")){if(!1!==f&&f!==k)return""+f+r.get("Inline").$new(this,"quoted",a["$[]"](3),D(["type"],{type:b})).$convert();(d=f=this.$parse_quoted_text_attributes(a["$[]"](2)))===k||d.$$is_boolean&&1!=d?e=k:(e=f.$delete("id"),b["$=="]("mark")&&(b="unquoted"));return""+a["$[]"](1)+r.get("Inline").$new(this,"quoted",a["$[]"](3),D(["type","id",
	"attributes"],{type:b,id:e,attributes:f})).$convert()}(d=f=this.$parse_quoted_text_attributes(a["$[]"](1)))===k||d.$$is_boolean&&1!=d?e=k:(e=f.$delete("id"),b["$=="]("mark")&&(b="unquoted"));return r.get("Inline").$new(this,"quoted",a["$[]"](2),D(["type","id","attributes"],{type:b,id:e,attributes:f})).$convert()});a.defn(p,"$parse_quoted_text_attributes",function(b){var d,f,p,n=k,h=k,e=k,e=n=k;if(!1===b||b===k)return k;if((d=b["$empty?"]())!==k&&(!d.$$is_boolean||1==d))return D([],{});(d=b["$include?"]("{"))===
	k||d.$$is_boolean&&1!=d||(b=this.$sub_attributes(b));b=b.$strip();(d=b["$include?"](","))===k||d.$$is_boolean&&1!=d||(d=a.to_ary(b.$split(",",2)),b=null==d[0]?k:d[0]);if((d=b["$empty?"]())===k||d.$$is_boolean&&1!=d){if((d=(f=!1!==(p=b["$start_with?"]("."))&&p!==k?p:b["$start_with?"]("#"),!1!==f&&f!==k?r.get("Compliance").$shorthand_property_syntax():f))===k||d.$$is_boolean&&1!=d)return D(["role"],{role:b});n=b.$split("#",2);l(n.$length(),1)?(d=a.to_ary(n["$[]"](1).$split(".")),h=null==d[0]?k:d[0],
	e=c.call(d,1)):(h=k,e=[]);n=(d=n["$[]"](0)["$empty?"]())===k||d.$$is_boolean&&1!=d?n["$[]"](0).$split("."):[];l(n.$length(),1)&&n.$shift();l(e.$length(),0)&&n.$concat(e);e=D([],{});if(!1!==h&&h!==k)e["$[]="]("id",h);if((d=n["$empty?"]())===k||d.$$is_boolean&&1!=d)e["$[]="]("role",q(n," "));return e}return D([],{})});a.defn(p,"$parse_attributes",function(a,b,d){var c,f=k,h=k;null==this.document&&(this.document=k);null==b&&(b=["role"]);null==d&&(d=D([],{}));if(!1===a||a===k)return k;if((c=a["$empty?"]())!==
	k&&(!c.$$is_boolean||1==c))return D([],{});(c=d["$[]"]("sub_input"))===k||c.$$is_boolean&&1!=c||(a=this.document.$sub_attributes(a));(c=d["$[]"]("unescape_input"))===k||c.$$is_boolean&&1!=c||(a=this.$unescape_bracketed_text(a));f=k;(c=d.$fetch("sub_result",!0))===k||c.$$is_boolean&&1!=c||(f=this);return(c=h=d["$[]"]("into"))===k||c.$$is_boolean&&1!=c?r.get("AttributeList").$new(a,f).$parse(b):r.get("AttributeList").$new(a,f).$parse_into(h,b)});a.defn(p,"$unescape_bracketed_text",function(a){var b;
	return(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?a.$strip().$tr(r.get("EOL")," ").$gsub("\\]","]"):""});a.defn(p,"$normalize_string",function(a,b){var c;null==b&&(b=!1);return(c=a["$empty?"]())===k||c.$$is_boolean&&1!=c?!1!==b&&b!==k?this.$unescape_brackets(a.$strip().$tr(r.get("EOL")," ")):a.$strip().$tr(r.get("EOL")," "):""});a.defn(p,"$unescape_brackets",function(a){var b;return(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?a.$gsub("\\]","]"):""});a.defn(p,"$split_simple_csv",function(a){var b,
	c,d,f,h=k,e=k,l=k;(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?(b=a["$include?"]('"'))===k||b.$$is_boolean&&1!=b?h=(b=(d=a.$split(",")).$map,b.$$p=(f=function(a){null==a&&(a=k);return a.$strip()},f.$$s=this,f),b).call(d):(h=[],e=[],l=!1,(b=a.$each_char,b.$$p=(c=function(a){var b=k;null==a&&(a=k);return function(){b=a;if(","["$==="](b)){if(!1!==l&&l!==k)return e.$push(a);h["$<<"](e.$join().$strip());return e=[]}return'"'["$==="](b)?l=l["$!"]():e.$push(a)}()},c.$$s=this,c),b).call(a),h["$<<"](e.$join().$strip())):
	h=[];return h});a.defn(p,"$resolve_subs",function(a,b,c,d){var p,h,e,w=k,E=k,C=k,t=k;null==b&&(b="block");null==c&&(c=k);null==d&&(d=k);if((p=a["$nil_or_empty?"]())!==k&&(!p.$$is_boolean||1==p))return[];w=k;E=r.get("SubModifierSniffRx")["$=~"](a);(p=(h=a.$tr(" ","").$split(",")).$each,p.$$p=(e=function(a){var e,h,d,g=k,l=h=h=h=k,g=k;null==a&&(a=k);g=k;!1!==E&&E!==k&&((h=a.$chr())["$=="]("+")?(g="append",a=a["$[]"](y(1,-1,!1))):h["$=="]("-")?(g="remove",a=a["$[]"](y(1,-1,!1))):(e=a["$end_with?"]("+"))===
	k||e.$$is_boolean&&1!=e||(g="prepend",a=a.$chop()));a=a.$to_sym();(e=(h=b["$=="]("inline"))?!1!==(d=a["$=="]("verbatim"))&&d!==k?d:a["$=="]("v"):b["$=="]("inline"))===k||e.$$is_boolean&&1!=e?(e=r.get("COMPOSITE_SUBS")["$key?"](a))===k||e.$$is_boolean&&1!=e?(e=(h=b["$=="]("inline")?a.$length()["$=="](1):b["$=="]("inline"),!1!==h&&h!==k?r.get("SUB_SYMBOLS")["$key?"](a):h))===k||e.$$is_boolean&&1!=e?h=[a]:(h=r.get("SUB_SYMBOLS")["$[]"](a),h=(e=l=r.get("COMPOSITE_SUBS")["$[]"](h))===k||e.$$is_boolean&&
	1!=e?[h]:l):h=r.get("COMPOSITE_SUBS")["$[]"](a):h=["specialcharacters"];if(!1!==g&&g!==k)return!1!==(e=w)&&e!==k?e:w=!1!==c&&c!==k?c.$dup():[],"append"["$==="](g)?w=n(w,h):"prepend"["$==="](g)?w=n(h,w):"remove"["$==="](g)?w=f(w,h):k;!1!==(e=w)&&e!==k?e:w=[];return w=n(w,h)},e.$$s=this,e),p).call(h);C=w["$&"](r.get("SUB_OPTIONS")["$[]"](b));if((p=f(w,C)["$empty?"]())===k||p.$$is_boolean&&1!=p)t=f(w,C),this.$warn("asciidoctor: WARNING: invalid substitution type"+(l(t.$size(),1)?"s":"")+(!1!==d&&d!==
	k?" for ":k)+d+": "+q(t,", "));return C});a.defn(p,"$resolve_block_subs",function(a,b,c){return this.$resolve_subs(a,"block",b,c)});a.defn(p,"$resolve_pass_subs",function(a){return this.$resolve_subs(a,"inline",k,"passthrough macro")});a.defn(p,"$highlight_source",function(b,c,d){var f,l,h,e,w,p=k,C=k,t=k,I=k,v=k,B=k,O=k,L=C=k,F=k,P=p=k,N=k;null==this.document&&(this.document=k);null==this.passthroughs&&(this.passthroughs=k);null==d&&(d=k);p=!1!==(f=d)&&f!==k?f:d=this.document.$attributes()["$[]"]("source-highlighter");
	if("coderay"["$==="](p)){if((f=!1!==(l=C=null==a.Object.$$scope.CodeRay?k:"constant")&&l!==k?l:this.document.$attributes()["$[]"]("coderay-unavailable"))===k||f.$$is_boolean&&1!=f)(f=r.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===k||f.$$is_boolean&&1!=f?C=!0:this.document.$set_attr("coderay-unavailable",!0)}else if("pygments"["$==="](p)){if((f=!1!==(l=C=null==a.Object.$$scope.Pygments?k:"constant")&&l!==k?l:this.document.$attributes()["$[]"]("pygments-unavailable"))===k||f.$$is_boolean&&
	1!=f)(f=r.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===k||f.$$is_boolean&&1!=f?C=!0:this.document.$set_attr("pygments-unavailable",!0)}else C=!1;if(!1===C||C===k)return this.$sub_source(b,c);t=0;I=!1;!1!==c&&c!==k?(v=D([],{}),B=-1,O=(f=this["$attr?"]("line-comment"))===k||f.$$is_boolean&&1!=f?r.get("CalloutExtractRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+r.get("CalloutExtractRxt")),b=q((f=(l=b.$split(r.get("EOL"))).$map,f.$$p=
	(h=function(a){var b=h.$$s||this,e,c,d;null==a&&(a=k);t=n(t,1);return(e=(c=a).$gsub,e.$$p=(d=function(){var a,b,e,h=k;null==x["~"]&&(x["~"]=k);h=x["~"];if(h["$[]"](1)["$=="]("\\"))return h["$[]"](0).$sub("\\","");(a=t,b=v,!1!==(e=b["$[]"](a))&&e!==k?e:b["$[]="](a,[]))["$<<"](h["$[]"](3));B=t;return k},d.$$s=b,d),e).call(c,O)},h.$$s=this,h),f).call(l),r.get("EOL")),I=B["$=="](t),(f=v["$empty?"]())===k||f.$$is_boolean&&1!=f||(v=k)):v=k;L=C=k;p=d;if("coderay"["$==="](p))(f=C=(e=this["$attr?"]("linenums"))===
	k||e.$$is_boolean&&1!=e?k:(!1!==(e=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&e!==k?e:"table").$to_sym())===k||f.$$is_boolean&&1!=f||(f=this["$attr?"]("highlight",k,!1))===k||f.$$is_boolean&&1!=f||(L=this.$resolve_lines_to_highlight(this.$attr("highlight",k,!1))),F=a.get("CodeRay").$$scope.get("Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",D(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(f=this.document.$attributes()["$[]"]("coderay-css"))&&
	f!==k?f:"class").$to_sym(),line_numbers:C,line_number_anchors:!1,highlight_lines:L,bold_every:!1})).$highlight(b);else if("pygments"["$==="](p)){p=!1!==(f=a.get("Pygments").$$scope.get("Lexer")["$[]"](this.$attr("language",k,!1)))&&f!==k?f:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text");P=D(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0});(!1!==(f=this.document.$attributes()["$[]"]("pygments-css"))&&f!==k?f:"class")["$=="]("class")||(P["$[]="]("noclasses",
	!0),P["$[]="]("style",!1!==(f=this.document.$attributes()["$[]"]("pygments-style"))&&f!==k?f:r.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE")));if((f=this["$attr?"]("highlight",k,!1))!==k&&(!f.$$is_boolean||1==f)&&((f=(L=this.$resolve_lines_to_highlight(this.$attr("highlight",k,!1)))["$empty?"]())===k||f.$$is_boolean&&1!=f))P["$[]="]("hl_lines",q(L," "));(f=this["$attr?"]("linenums"))===k||f.$$is_boolean&&1!=f?(P["$[]="]("nowrap",!0),F=p.$highlight(b,D(["options"],{options:P}))):P["$[]="]("linenos",
	!1!==(f=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&f!==k?f:"table")["$=="]("table")?(C="table",F=p.$highlight(b,D(["options"],{options:P})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):F=p.$highlight(b,D(["options"],{options:P})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")}if((f=this.passthroughs["$empty?"]())===k||f.$$is_boolean&&1!=f)F=F.$gsub(r.get("PASS_MATCH_HI"),""+r.get("PASS_START")+"\\1"+r.get("PASS_END"));
	if((f=(e=!1!==c&&c!==k)?v:c)===k||f.$$is_boolean&&1!=f)return F;t=0;N=C["$!="]("table");return q((f=(e=F.$split(r.get("EOL"))).$map,f.$$p=(w=function(a){var b=w.$$s||this,e,h,c,d=k,g=k,f=k,d=k;null==b.document&&(b.document=k);null==a&&(a=k);if(!1===N||N===k){if((e=a["$include?"]('<td class="code">'))===k||e.$$is_boolean&&1!=e)return a;N=!0}t=n(t,1);if((e=d=v.$delete(t))===k||e.$$is_boolean&&1!=e)return a;g=k;(e=(h=!1!==I&&I!==k)?v["$empty?"]():I)===k||e.$$is_boolean&&1!=e||((e=f=a.$index("</pre>"))===
	k||e.$$is_boolean&&1!=e?a=""+a.$chomp(" ")+" ":(g=a["$[]"](y(f,-1,!1)),a=""+a["$[]"](y(0,f,!0)).$chomp(" ")+" "));if(d.$size()["$=="](1))return""+a+r.get("Inline").$new(b,"callout",d["$[]"](0),D(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()+g;d=q((e=(h=d).$map,e.$$p=(c=function(a){var b=c.$$s||this;null==b.document&&(b.document=k);null==a&&(a=k);return r.get("Inline").$new(b,"callout",a,D(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},c.$$s=b,c),e).call(h)," ");
	return""+a+d+g},w.$$s=this,w),f).call(e),r.get("EOL"))});a.defn(p,"$resolve_lines_to_highlight",function(b){var c,d,l,p=k,p=[];(c=(d=b.$delete(" ").$split(r.get("DataDelimiterRx"))).$map,c.$$p=(l=function(b){var e,c=k,d=k,g=k,d=k;null==b&&(b=k);c=!1;(e=b["$start_with?"]("!"))===k||e.$$is_boolean&&1!=e||(b=b["$[]"](y(1,-1,!1)),c=!0);if((e=b["$include?"]("-"))===k||e.$$is_boolean&&1!=e)return!1!==c&&c!==k?p.$delete(b.$to_i()):p["$<<"](b.$to_i());e=a.to_ary(b.$split("-",2));d=null==e[0]?k:e[0];g=null==
	e[1]?k:e[1];d=y(d.$to_i(),g.$to_i(),!1).$to_a();return!1!==c&&c!==k?p=f(p,d):p.$concat(d)},l.$$s=this,l),c).call(d);return p.$sort().$uniq()});a.defn(p,"$sub_source",function(a,b){return!1!==b&&b!==k?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)});a.defn(p,"$lock_in_subs",function(){var a,b,c,d,f,h=k,e=h=k;null==this.default_subs&&(this.default_subs=k);null==this.content_model&&(this.content_model=k);null==this.context&&(this.context=k);null==this.attributes&&(this.attributes=
	k);null==this.style&&(this.style=k);null==this.document&&(this.document=k);null==this.subs&&(this.subs=k);if((a=this.default_subs)===k||a.$$is_boolean&&1!=a)if(h=this.content_model,"simple"["$==="](h))h=r.get("SUBS")["$[]"]("normal");else if("verbatim"["$==="](h))h=(a=!1!==(b=this.context["$=="]("listing"))&&b!==k?b:(c=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))===k||a.$$is_boolean&&1!=a?this.context["$=="]("verse")?r.get("SUBS")["$[]"]("normal"):
	r.get("SUBS")["$[]"]("basic"):r.get("SUBS")["$[]"]("verbatim");else if("raw"["$==="](h))h=this.context["$=="]("stem")?r.get("SUBS")["$[]"]("basic"):r.get("SUBS")["$[]"]("pass");else return k;else h=this.default_subs;(a=e=this.attributes["$[]"]("subs"))===k||a.$$is_boolean&&1!=a?this.subs=h.$dup():this.subs=this.$resolve_block_subs(e,h,this.context);return(a=(b=(c=(d=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"),!1!==d&&d!==k?this.attributes["$[]"]("language"):
	d),!1!==c&&c!==k?this.document["$basebackend?"]("html"):c),!1!==b&&b!==k?r.get("SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):b))===k||a.$$is_boolean&&1!=a?k:this.subs=(a=(b=this.subs).$map,a.$$p=(f=function(a){null==a&&(a=k);return a["$=="]("specialcharacters")?"highlight":a},f.$$s=this,f),a).call(b)})})(b(t,"Asciidoctor").$$scope.base)}(a.base)};
	Opal.modules["asciidoctor/abstract_node"]=function(a){function n(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}a.dynamic_require_severity="ignore";var l=a.nil,f=a.module,k=a.klass,d=a.hash2,c=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $=== $attributes $nil? $has_key? $[]= $update $converter $include? $split $* $push $delete $attr? $empty? $extname $image_uri $attr $normalize_web_path $< $safe $uriish? $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $respond_to? $binread $open $read $encode64 $require_library $! $content_type $web_path $new $open_uri $normalize_lines_from_string $fetch $read_asset $!= $is_root? $join $base_dir $system_path $relative_path".split(" "));
	return function(b){(function(b,$super){function f(){}var t=f=k(b,$super,"AbstractNode",f),p=t.$$proto,r=t.$$scope;p.document=p.attributes=p.path_resolver=p.style=l;t.$include(r.get("Substitutors"));t.$attr_reader("parent");t.$attr_reader("document");t.$attr_reader("context");t.$attr_reader("node_name");t.$attr_accessor("id");t.$attr_reader("attributes");a.defn(t,"$initialize",function(a,b,c){var f;null==c&&(c=d([],{}));b["$=="]("document")?this.document=a:!1!==a&&a!==l?(this.parent=a,this.document=
	a.$document()):this.document=this.parent=l;this.context=b;this.node_name=b.$to_s();this.attributes=(f=c["$key?"]("attributes"))===l||f.$$is_boolean&&1!=f?d([],{}):c["$[]"]("attributes").$dup();return this.passthroughs=d([],{})});a.defn(t,"$parent=",function(a){this.parent=a;this.document=a.$document();return l});a.defn(t,"$inline?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(t,"$block?",function(){return this.$raise(a.get("NotImplementedError"))});a.defn(t,"$attr",function(b,
	c,d){var f,k;null==c&&(c=l);null==d&&(d=!0);(f=a.get("Symbol")["$==="](b))===l||f.$$is_boolean&&1!=f||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return!1!==d&&d!==l?!1!==(f=!1!==(k=this.attributes["$[]"](b))&&k!==l?k:this.document.$attributes()["$[]"](b))&&f!==l?f:c:!1!==(f=this.attributes["$[]"](b))&&f!==l?f:c});a.defn(t,"$attr?",function(b,c,d){var f;null==c&&(c=l);null==d&&(d=!0);(f=a.get("Symbol")["$==="](b))===l||f.$$is_boolean&&1!=f||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return(f=
	c["$nil?"]())===l||f.$$is_boolean&&1!=f?!1!==d&&d!==l?c["$=="](!1!==(f=this.attributes["$[]"](b))&&f!==l?f:this.document.$attributes()["$[]"](b)):c["$=="](this.attributes["$[]"](b)):!1!==(f=this.attributes["$has_key?"](b))&&f!==l?f:!1!==d&&d!==l?this.document.$attributes()["$has_key?"](b):d});a.defn(t,"$set_attr",function(a,b,c){var d;null==c&&(c=!0);return(d=c["$=="](!1)?this.attributes["$key?"](a):c["$=="](!1))===l||d.$$is_boolean&&1!=d?(this.attributes["$[]="](a,b),!0):!1});a.defn(t,"$set_option",
	function(a){var b;if((b=this.attributes["$has_key?"]("options"))===l||b.$$is_boolean&&1!=b)this.attributes["$[]="]("options",a);else this.attributes["$[]="]("options",""+this.attributes["$[]"]("options")+","+a);return this.attributes["$[]="](""+a+"-option","")});a.defn(t,"$option?",function(a){return this.attributes["$has_key?"](""+a+"-option")});a.defn(t,"$update_attributes",function(a){this.attributes.$update(a);return l});a.defn(t,"$converter",function(){return this.document.$converter()});a.defn(t,
	"$role?",function(a){var b;null==a&&(a=l);return!1!==a&&a!==l?a["$=="](!1!==(b=this.attributes["$[]"]("role"))&&b!==l?b:this.document.$attributes()["$[]"]("role")):!1!==(b=this.attributes["$has_key?"]("role"))&&b!==l?b:this.document.$attributes()["$has_key?"]("role")});a.defn(t,"$role",function(){var a;return!1!==(a=this.attributes["$[]"]("role"))&&a!==l?a:this.document.$attributes()["$[]"]("role")});a.defn(t,"$has_role?",function(a){var b,c,d=l;return(b=d=!1!==(c=this.attributes["$[]"]("role"))&&
	c!==l?c:this.document.$attributes()["$[]"]("role"))===l||b.$$is_boolean&&1!=b?!1:d.$split(" ")["$include?"](a)});a.defn(t,"$roles",function(){var a,b,c=l;return(a=c=!1!==(b=this.attributes["$[]"]("role"))&&b!==l?b:this.document.$attributes()["$[]"]("role"))===l||a.$$is_boolean&&1!=a?[]:c.$split(" ")});a.defn(t,"$add_role",function(a){var b,c,d=l;return(b=(d=(!1!==(c=this.attributes["$[]"]("role"))&&c!==l?c:"").$split(" "))["$include?"](a))===l||b.$$is_boolean&&1!=b?this.attributes["$[]="]("role",
	n(d.$push(a)," ")):l});a.defn(t,"$remove_role",function(a){var b,c,d=l;if((b=(d=(!1!==(c=this.attributes["$[]"]("role"))&&c!==l?c:"").$split(" "))["$include?"](a))===l||b.$$is_boolean&&1!=b)return l;d.$delete(a);return this.attributes["$[]="]("role",n(d," "))});a.defn(t,"$reftext?",function(){var a;return!1!==(a=this.attributes["$has_key?"]("reftext"))&&a!==l?a:this.document.$attributes()["$has_key?"]("reftext")});a.defn(t,"$reftext",function(){var a;return!1!==(a=this.attributes["$[]"]("reftext"))&&
	a!==l?a:this.document.$attributes()["$[]"]("reftext")});a.defn(t,"$icon_uri",function(b){var c,d=l;return(c=this["$attr?"]("icon"))===l||c.$$is_boolean&&1!=c?this.$image_uri(""+b+"."+this.document.$attr("icontype","png"),"iconsdir"):(c=a.get("File").$extname(d=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())===l||c.$$is_boolean&&1!=c?d:""+d+"."+this.document.$attr("icontype","png")});a.defn(t,"$media_uri",function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,!1!==b&&
	b!==l?this.document.$attr(b):l)});a.defn(t,"$image_uri",function(a,b){var c,d,f,h,e=l,k=l;null==b&&(b="imagesdir");return(c=q((e=this.document).$safe(),r.get("SafeMode").$$scope.get("SECURE"))?e["$attr?"]("data-uri"):q((e=this.document).$safe(),r.get("SafeMode").$$scope.get("SECURE")))===l||c.$$is_boolean&&1!=c?this.$normalize_web_path(a,!1!==b&&b!==l?e.$attr(b):l):(c=!1!==(d=r.get("Helpers")["$uriish?"](a))&&d!==l?d:(f=(h=!1!==b&&b!==l?k=e.$attr(b):b,!1!==h&&h!==l?r.get("Helpers")["$uriish?"](k):
	h),!1!==f&&f!==l?a=this.$normalize_web_path(a,k,!1):f))===l||c.$$is_boolean&&1!=c?this.$generate_data_uri(a,b):(c=e["$attr?"]("allow-uri-read"))===l||c.$$is_boolean&&1!=c?a:this.$generate_data_uri_from_uri(a,e["$attr?"]("cache-uri"))});a.defn(t,"$generate_data_uri",function(b,f){var k,p,n,h=l,e=h=l,w=l;null==f&&(f=l);h=a.get("File").$extname(b);h=h["$=="](".svg")?"image/svg+xml":"image/"+h["$[]"](c(1,-1,!1));e=!1!==f&&f!==l?this.$normalize_system_path(b,this.document.$attr(f),l,d(["target_name"],
	{target_name:"image"})):this.$normalize_system_path(b);if((k=a.get("File")["$readable?"](e))===l||k.$$is_boolean&&1!=k)return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+e),"data:"+h+":base64,";w=l;w=(k=a.get("IO")["$respond_to?"]("binread"))===l||k.$$is_boolean&&1!=k?(k=(p=a.get("File")).$open,k.$$p=(n=function(a){null==a&&(a=l);return a.$read()},n.$$s=this,n),k).call(p,e,"rb"):a.get("IO").$binread(e);return"data:"+h+";base64,"+a.get("Base64").$encode64(w).$delete(r.get("EOL"))});
	a.defn(t,"$generate_data_uri_from_uri",function(b,c){var d,f,k=l,h=l;null==c&&(c=!1);!1!==c&&c!==l?r.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(d=a.get("RUBY_ENGINE_OPAL")["$!"]())===l||d.$$is_boolean&&1!=d||a.get("OpenURI");try{return k=l,h=(d=this.$open,d.$$p=(f=function(a){null==a&&(a=l);k=a.$content_type();return a.$read()},f.$$s=this,f),d).call(this,b,"rb"),"data:"+k+";base64,"+a.get("Base64").$encode64(h).$delete(r.get("EOL"))}catch(e){try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+
	b),b}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(t,"$read_contents",function(b,c){var f,k,p,h,e,w=l,q=l,C=l;null==c&&(c=d([],{}));w=this.document;if((f=!1!==(k=r.get("Helpers")["$uriish?"](b))&&k!==l?k:(p=(h=q=c["$[]"]("start"),!1!==h&&h!==l?r.get("Helpers")["$uriish?"](q):h),!1!==p&&p!==l?b=(!1!==(h=this.path_resolver)&&h!==l?h:this.path_resolver=r.get("PathResolver").$new()).$web_path(b,q):p))===l||f.$$is_boolean&&1!=f)b=this.$normalize_system_path(b,c["$[]"]("start"),l,d(["target_name"],
	{target_name:!1!==(f=c["$[]"]("label"))&&f!==l?f:"asset"})),C=this.$read_asset(b,d(["normalize","warn_on_failure"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",!0)}));else if((f=w["$attr?"]("allow-uri-read"))===l||f.$$is_boolean&&1!=f)(f=c.$fetch("warn_on_failure",!0))===l||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(!1!==(f=c["$[]"]("label"))&&f!==l?f:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),C=l;else{(f=
	w["$attr?"]("cache-uri"))===l||f.$$is_boolean&&1!=f||r.get("Helpers").$require_library("open-uri/cached","open-uri-cached");try{C=(f=(k=a.get("OpenURI")).$open_uri,f.$$p=(e=function(a){null==a&&(a=l);return a.$read()},e.$$s=this,e),f).call(k,b),(f=c["$[]"]("normalize"))===l||f.$$is_boolean&&1!=f||(C=n(r.get("Helpers").$normalize_lines_from_string(C),r.get("EOL")))}catch(t){try{(f=c.$fetch("warn_on_failure",!0))===l||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: could not retrieve contents of "+
	(!1!==(f=c["$[]"]("label"))&&f!==l?f:"asset")+" at URI: "+b),C=l}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}return C});a.defn(t,"$read_asset",function(b,c){var f;null==c&&(c=d([],{}));if((f=a.get("Hash")["$==="](c))===l||f.$$is_boolean&&1!=f)c=d(["warn_on_failure"],{warn_on_failure:c["$!="](!1)});return(f=a.get("File")["$readable?"](b))===l||f.$$is_boolean&&1!=f?((f=c["$[]"]("warn_on_failure"))===l||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+
	b),l):(f=c["$[]"]("normalize"))===l||f.$$is_boolean&&1!=f?a.get("IO").$read(b):n(r.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(b)),r.get("EOL"))});a.defn(t,"$normalize_web_path",function(a,b,c){var d;null==b&&(b=l);null==c&&(c=!0);return(d=!1!==c&&c!==l?r.get("Helpers")["$uriish?"](a):c)===l||d.$$is_boolean&&1!=d?(!1!==(d=this.path_resolver)&&d!==l?d:this.path_resolver=r.get("PathResolver").$new()).$web_path(a,b):a});a.defn(t,"$normalize_system_path",function(b,c,f,k){var p,h=l,
	e=l;null==c&&(c=l);null==f&&(f=l);null==k&&(k=d([],{}));h=!1!==(p=this.path_resolver)&&p!==l?p:this.path_resolver=r.get("PathResolver").$new();if(q((e=this.document).$safe(),r.get("SafeMode").$$scope.get("SAFE")))if(!1!==c&&c!==l){if((p=h["$is_root?"](c))===l||p.$$is_boolean&&1!=p)c=a.get("File").$join(e.$base_dir(),c)}else c=e.$base_dir();else{if(!1===c||c===l)c=e.$base_dir();if(!1===f||f===l)f=e.$base_dir()}return h.$system_path(b,c,f,k)});a.defn(t,"$normalize_asset_path",function(a,b,c){null==
	b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),l,d(["target_name","recover"],{target_name:b,recover:c}))});a.defn(t,"$relative_path",function(a){var b;return(!1!==(b=this.path_resolver)&&b!==l?b:this.path_resolver=r.get("PathResolver").$new()).$relative_path(a,this.document.$base_dir())});a.defn(t,"$is_uri?",function(a){return r.get("Helpers")["$uriish?"](a)});return(a.defn(t,"$list_marker_keyword",function(a){var b;null==a&&(a=l);return r.get("ORDERED_LIST_KEYWORDS")["$[]"](!1!==
	(b=a)&&b!==l?b:this.style)}),l)&&"list_marker_keyword"})(f(b,"Asciidoctor").$$scope.base,null)}(a.base)};
	Opal.modules["asciidoctor/abstract_block"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var l=a.nil,f=a.breaker,k=a.slice,d=a.module,c=a.klass,b=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $! $nil_or_empty? $apply_title_subs $title $empty? $<< $select $context $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $delete $title? $attributes $counter_increment $index= $+ $sectname $counter $numbered $number= $attr $caption= $special $doctype $assign_index $reindex_sections".split(" "));return function(D){D=
	d(D,"Asciidoctor").$$scope;(function(d,$super){function t(){}var p=t=c(d,$super,"AbstractBlock",t),r=p.$$proto,g=p.$$scope,m,u;r.document=r.attributes=r.blocks=r.source_location=r.subs=r.title=r.subbed_title=r.caption=r.next_section_index=r.context=r.style=r.id=r.header=r.next_section_number=l;p.$attr_accessor("content_model");p.$attr_reader("subs");p.$attr_reader("blocks");p.$attr_accessor("level");p.$attr_writer("title");p.$attr_accessor("style");p.$attr_accessor("caption");p.$attr_accessor("source_location");
	a.defn(p,"$initialize",m=function(c,d,h){var e=k.call(arguments,0),g,f=m.$$p;null==h&&(h=b([],{}));m.$$p=null;a.find_super_dispatcher(this,"initialize",m,f).apply(this,e);this.content_model="compound";this.subs=[];this.default_subs=l;this.blocks=[];this.style=this.caption=this.title=this.id=l;this.level=d["$=="]("document")?0:(g=!1!==c&&c!==l?d["$!="]("section"):c)===l||g.$$is_boolean&&1!=g?l:c.$level();this.next_section_index=0;this.next_section_number=1;return this.source_location=l});a.defn(p,
	"$block?",function(){return!0});a.defn(p,"$inline?",function(){return!1});a.defn(p,"$context=",function(a){this.context=a;return this.node_name=a.$to_s()});a.defn(p,"$convert",function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)});a.alias(p,"render","convert");a.defn(p,"$content",function(){var a,b,h;return n((a=(b=this.blocks).$map,a.$$p=(h=function(a){null==a&&(a=l);return a.$convert()},h.$$s=this,h),a).call(b),g.get("EOL"))});a.defn(p,"$file",function(){var a;
	return(a=this.source_location)===l||a.$$is_boolean&&1!=a?l:this.source_location.$file()});a.defn(p,"$lineno",function(){var a;return(a=this.source_location)===l||a.$$is_boolean&&1!=a?l:this.source_location.$lineno()});a.defn(p,"$sub?",function(a){return this.subs["$include?"](a)});a.defn(p,"$title?",function(){return this.title["$nil_or_empty?"]()["$!"]()});a.defn(p,"$title",function(){var a,b;return(a=(b=this.subbed_title,null!=b&&b!==l)?"instance-variable":l)===l||a.$$is_boolean&&1!=a?(a=this.title)===
	l||a.$$is_boolean&&1!=a?this.title:this.subbed_title=this.$apply_title_subs(this.title):this.subbed_title});a.defn(p,"$captioned_title",function(){return""+this.caption+this.$title()});a.defn(p,"$blocks?",function(){return this.blocks["$empty?"]()["$!"]()});a.defn(p,"$<<",function(a){this.blocks["$<<"](a);return this});a.alias(p,"append","<<");a.defn(p,"$sections",function(){var a,b,h;return(a=(b=this.blocks).$select,a.$$p=(h=function(a){null==a&&(a=l);return a.$context()["$=="]("section")},h.$$s=
	this,h),a).call(b)});a.defn(p,"$sections?",function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)});a.defn(p,"$find_by",u=function(c){var d,h,e,g,m,k,p,n=u.$$p||l,v=l,B=l,r=l,q=l,F=l,P=l;null==c&&(c=b([],{}));u.$$p=null;v=[];if((d=(h=(e=(g=!1!==(m=B=(r=c["$[]"]("context"))["$!"]())&&m!==l?m:r["$=="](this.context),!1!==g&&g!==l?!1!==(m=(q=c["$[]"]("style"))["$!"]())&&m!==l?m:q["$=="](this.style):g),!1!==e&&e!==l?!1!==(g=(F=c["$[]"]("role"))["$!"]())&&g!==l?g:this["$has_role?"](F):
	e),!1!==h&&h!==l?!1!==(e=(P=c["$[]"]("id"))["$!"]())&&e!==l?e:P["$=="](this.id):h))!==l&&(!d.$$is_boolean||1==d)){if(!1!==P&&P!==l)return n!==l?(d=(h=a.yield1(n,this))===f?f.$v:h)===l||d.$$is_boolean&&1!=d?v:[this]:[this];if(n!==l){if((d=(h=a.yield1(n,this))===f?f.$v:h)!==l&&(!d.$$is_boolean||1==d))v["$<<"](this)}else v["$<<"](this)}(d=(h=(e=this.context["$=="]("document"))?!1!==(g=B)&&g!==l?g:r["$=="]("section"):this.context["$=="]("document"),!1!==h&&h!==l?this["$header?"]():h))===l||d.$$is_boolean&&
	1!=d||v.$concat((d=(h=this.header).$find_by,d.$$p=n.$to_proc(),d).call(h,c));r["$=="]("document")||(this.context["$=="]("dlist")?(d=!1!==(e=B)&&e!==l?e:r["$!="]("section"))===l||d.$$is_boolean&&1!=d||(d=(e=this.blocks.$flatten()).$each,d.$$p=(k=function(a){var b,e;null==a&&(a=l);return!1!==a&&a!==l?v.$concat((b=(e=a).$find_by,b.$$p=n.$to_proc(),b).call(e,c)):l},k.$$s=this,k),d).call(e):d=(g=(m=this.blocks).$each,g.$$p=(p=function(a){var b,e;null==a&&(a=l);return(b=r["$=="]("section")?a.$context()["$!="]("section"):
	r["$=="]("section"))===l||b.$$is_boolean&&1!=b?v.$concat((b=(e=a).$find_by,b.$$p=n.$to_proc(),b).call(e,c)):l},p.$$s=this,p),g).call(m));return v});a.alias(p,"query","find_by");a.defn(p,"$remove_sub",function(a){this.subs.$delete(a);return l});a.defn(p,"$assign_caption",function(a,b){var h,e,c=l,d=c=c=l;null==a&&(a=l);null==b&&(b=l);if((h=!1!==(e=this["$title?"]())&&e!==l?e:this.caption["$!"]())===l||h.$$is_boolean&&1!=h)return l;!1!==a&&a!==l?this.caption=a:(h=c=this.document.$attributes()["$[]"]("caption"))===
	l||h.$$is_boolean&&1!=h?(h=this["$title?"]())===l||h.$$is_boolean&&1!=h||(!1!==(h=b)&&h!==l?h:b=this.context.$to_s(),c=""+b+"-caption",(h=c=this.document.$attributes()["$[]"](c))===l||h.$$is_boolean&&1!=h||(d=this.document.$counter_increment(""+b+"-number",this),this.caption=""+c+" "+d+". ")):this.caption=c;return l});a.defn(p,"$assign_index",function(a){var b,h,e,c=l,d=l;b=[this.next_section_index];h=a;h["$index="].apply(h,b);b[b.length-1];this.next_section_index=q(this.next_section_index,1);return a.$sectname()["$=="]("appendix")?
	(c=this.document.$counter("appendix-number","A"),(b=a.$numbered())===l||b.$$is_boolean&&1!=b||(b=[c],h=a,h["$number="].apply(h,b),b[b.length-1]),(b=(d=this.document.$attr("appendix-caption",""))["$!="](""))===l||b.$$is_boolean&&1!=b?(b=[""+c+". "],h=a,h["$caption="].apply(h,b),b[b.length-1]):(b=[""+d+" "+c+": "],h=a,h["$caption="].apply(h,b),b[b.length-1])):(b=a.$numbered())===l||b.$$is_boolean&&1!=b?l:(b=(h=!1!==(e=a.$level()["$=="](1))&&e!==l?e:a.$level()["$=="](0)?a.$special():a.$level()["$=="](0),
	!1!==h&&h!==l?this.document.$doctype()["$=="]("book"):h))===l||b.$$is_boolean&&1!=b?(b=[this.next_section_number],h=a,h["$number="].apply(h,b),b[b.length-1],this.next_section_number=q(this.next_section_number,1)):(b=[this.document.$counter("chapter-number",1)],h=a,h["$number="].apply(h,b),b[b.length-1])});return(a.defn(p,"$reindex_sections",function(){var a,b,h;this.next_section_number=this.next_section_index=0;return(a=(b=this.blocks).$each,a.$$p=(h=function(a){var b=h.$$s||this;null==a&&(a=l);return a.$context()["$=="]("section")?
	(b.$assign_index(a),a.$reindex_sections()):l},h.$$s=this,h),a).call(b)}),l)&&"reindex_sections"})(D.base,D.get("AbstractNode"))}(a.base)};
	Opal.modules["asciidoctor/attribute_list"]=function(a){function n(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}a.dynamic_require_severity="ignore";var q=a.nil,l=a.module,f=a.klass,k=a.hash2;a.add_stubs("$== $new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $skip_blank $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $each $split $tr $empty? $apply_normal_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(d){(function(c,
	$super){function d(){}var l=d=f(c,$super,"AttributeList",d),y=l.$$proto,t=l.$$scope;y.attributes=y.scanner=y.delimiter=y.block=y.delimiter_skip_pattern=y.delimiter_boundary_pattern=q;a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(t,"CG_BLANK","[ \\t]"),a.cdecl(t,"CC_WORD","a-zA-Z0-9_"),a.cdecl(t,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(t,"BoundaryRxs",k(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+t.get("CG_BLANK")+"*(,|$))")}));a.cdecl(t,"EscapedQuoteRxs",k(['"',"'"],{'"':/\\"/,
	"'":/\\'/}));a.cdecl(t,"NameRx",new RegExp(""+t.get("CG_WORD")+"["+t.get("CC_WORD")+"\\-.]*"));a.cdecl(t,"BlankRx",new RegExp(""+t.get("CG_BLANK")+"+"));a.cdecl(t,"SkipRxs",k(["blank",","],{blank:t.get("BlankRx"),",":new RegExp(""+t.get("CG_BLANK")+"*(,|$)")}));a.defn(l,"$initialize",function(c,d,g){null==d&&(d=q);null==g&&(g=",");this.scanner=a.get("StringScanner").$new(c);this.block=d;this.delimiter=g;this.delimiter_skip_pattern=t.get("SkipRxs")["$[]"](g);this.delimiter_boundary_pattern=t.get("BoundaryRxs")["$[]"](g);
	return this.attributes=q});a.defn(l,"$parse_into",function(a,c){null==c&&(c=[]);return a.$update(this.$parse(c))});a.defn(l,"$parse",function(a){var c,d,f=q;null==a&&(a=[]);if((c=this.attributes)!==q&&(!c.$$is_boolean||1==c))return this.attributes;this.attributes=k([],{});for(f=0;(d=this.$parse_attribute(f,a))!==q&&(!d.$$is_boolean||1==d)&&((d=this.scanner["$eos?"]())===q||d.$$is_boolean&&1!=d);)this.$skip_delimiter(),f=n(f,1);return this.attributes});a.defn(l,"$rekey",function(a){return t.get("AttributeList").$rekey(this.attributes,
	a)});a.defs(l,"$rekey",function(a,c){var d,f;(d=c.$each_with_index,d.$$p=(f=function(c,d){var g,h=q,e=q;null==c&&(c=q);null==d&&(d=q);if(!1===c||c===q)return q;h=n(d,1);return(g=e=a["$[]"](h))===q||g.$$is_boolean&&1!=g?q:a["$[]="](c,e)},f.$$s=this,f),d).call(c);return a});a.defn(l,"$parse_attribute",function(a,c){var d,f,k,l,t=q,h=q,e=h=q,w=q,E=q,h=t=w=q;null==a&&(a=0);null==c&&(c=[]);t=!1;this.$skip_blank();if((h=this.scanner.$peek(1))["$=="]('"'))h=this.$parse_attribute_value(this.scanner.$get_byte()),
	e=q;else if(h["$=="]("'"))h=this.$parse_attribute_value(this.scanner.$get_byte()),e=q,t=!0;else{h=this.$scan_name();w=0;E=q;if((d=this.scanner["$eos?"]())===q||d.$$is_boolean&&1!=d)w=!1!==(d=this.$skip_blank())&&d!==q?d:0,E=this.scanner.$get_byte();else if(!1===h||h===q)return!1;if((d=!1!==(f=E["$!"]())&&f!==q?f:E["$=="](this.delimiter))===q||d.$$is_boolean&&1!=d)if((d=!1!==(f=E["$!="]("="))&&f!==q?f:h["$!"]())===q||d.$$is_boolean&&1!=d){if(this.$skip_blank(),(d=this.scanner.$peek(1))!==q&&(!d.$$is_boolean||
	1==d))if((E=this.scanner.$get_byte())["$=="]('"'))e=this.$parse_attribute_value(E);else if(E["$=="]("'"))e=this.$parse_attribute_value(E),t=!0;else if(E["$=="](this.delimiter))e=q;else if(e=""+E+this.$scan_to_delimiter(),e["$=="]("None"))return!0}else h=""+h+" "["$*"](w)+E+this.$scan_to_delimiter(),e=q;else e=q}if(!1!==e&&e!==q)if(w=h,"options"["$==="](w)||"opts"["$==="](w))h="options",(d=(f=e.$tr(" ","").$split(",")).$each,d.$$p=(k=function(a){var e=k.$$s||this;null==e.attributes&&(e.attributes=
	q);null==a&&(a=q);return e.attributes["$[]="](""+a+"-option","")},k.$$s=this,k),d).call(f),this.attributes["$[]="](h,e);else if("title"["$==="](w))this.attributes["$[]="](h,e);else this.attributes["$[]="](h,(d=(l=!1!==t&&t!==q?e["$empty?"]()["$!"]():t,!1!==l&&l!==q?this.block:l))===q||d.$$is_boolean&&1!=d?e:this.block.$apply_normal_subs(e));else{t=(d=(l=!1!==t&&t!==q?h["$empty?"]()["$!"]():t,!1!==l&&l!==q?this.block:l))===q||d.$$is_boolean&&1!=d?h:this.block.$apply_normal_subs(h);if((d=h=c["$[]"](a))!==
	q&&(!d.$$is_boolean||1==d))this.attributes["$[]="](h,t);this.attributes["$[]="](n(a,1),t)}return!0});a.defn(l,"$parse_attribute_value",function(a){var c,d=q;if(this.scanner.$peek(1)["$=="](a))return this.scanner.$get_byte(),"";if((c=d=this.$scan_to_quote(a))===q||c.$$is_boolean&&1!=c)return""+a+this.$scan_to_delimiter();this.scanner.$get_byte();return d.$gsub(t.get("EscapedQuoteRxs")["$[]"](a),a)});a.defn(l,"$skip_blank",function(){return this.scanner.$skip(t.get("BlankRx"))});a.defn(l,"$skip_delimiter",
	function(){return this.scanner.$skip(this.delimiter_skip_pattern)});a.defn(l,"$scan_name",function(){return this.scanner.$scan(t.get("NameRx"))});a.defn(l,"$scan_to_delimiter",function(){return this.scanner.$scan(this.delimiter_boundary_pattern)});return(a.defn(l,"$scan_to_quote",function(a){return this.scanner.$scan(t.get("BoundaryRxs")["$[]"](a))}),q)&&"scan_to_quote"})(l(d,"Asciidoctor").$$scope.base,null)}(a.base)};
	Opal.modules["asciidoctor/block"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var q=a.nil,l=a.slice,f=a.module,k=a.klass,d=a.hash2;a.add_stubs("$default= $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));return function(c){c=f(c,"Asciidoctor").$$scope;(function(b,
	$super){function c(){}var f=c=k(b,$super,"Block",c),t=f.$$proto,p=f.$$scope,r,g,m;t.attributes=t.content_model=t.lines=t.subs=t.blocks=t.context=t.style=q;t=["simple"];r=a.cdecl(p,"DEFAULT_CONTENT_MODEL",d("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}));r["$default="].apply(r,t);t[t.length-1];a.alias(f,
	"blockname","context");f.$attr_accessor("lines");a.defn(f,"$initialize",g=function(b,c,f){var h=l.call(arguments,0),e,m=g.$$p,k=q,n=q;null==f&&(f=d([],{}));g.$$p=null;a.find_super_dispatcher(this,"initialize",g,m).apply(this,h);this.content_model=!1!==(e=f["$[]"]("content_model"))&&e!==q?e:p.get("DEFAULT_CONTENT_MODEL")["$[]"](c);(e=f["$key?"]("subs"))===q||e.$$is_boolean&&1!=e?(this.subs=[],this.default_subs=q):(e=k=f["$[]"]("subs"))===q||e.$$is_boolean&&1!=e?(this.subs=[],this.default_subs=[],this.attributes.$delete("subs")):
	(k["$=="]("default")?this.default_subs=f["$[]"]("default_subs"):(e=a.get("Array")["$==="](k))===q||e.$$is_boolean&&1!=e?(this.default_subs=q,this.attributes["$[]="]("subs",""+k)):(this.default_subs=k.$dup(),this.attributes.$delete("subs")),this.$lock_in_subs());return(e=(n=f["$[]"]("source"))["$nil_or_empty?"]())===q||e.$$is_boolean&&1!=e?(e=a.get("String")["$==="](n))===q||e.$$is_boolean&&1!=e?this.lines=n.$dup():this.lines=p.get("Helpers").$normalize_lines_from_string(n):this.lines=[]});a.defn(f,
	"$content",m=function(){var b=l.call(arguments,0),c,d,h=this,e=m.$$p,g=q,f=q,k=q,r=q;m.$$p=null;return function(){g=h.content_model;if("compound"["$==="](g))return a.find_super_dispatcher(h,"content",m,e).apply(h,b);if("simple"["$==="](g))return h.$apply_subs(n(h.lines,p.get("EOL")),h.subs);if("verbatim"["$==="](g)||"raw"["$==="](g)){f=h.$apply_subs(h.lines,h.subs);var l=f.$size();if("number"===typeof l?2>l:l["$<"](2))return f["$[]"](0);for(;(c=(d=k=f["$[]"](0),!1!==d&&d!==q?k.$rstrip()["$empty?"]():
	d))!==q&&(!c.$$is_boolean||1==c);)f.$shift();for(;(c=(d=r=f["$[]"](-1),!1!==d&&d!==q?r.$rstrip()["$empty?"]():d))!==q&&(!c.$$is_boolean||1==c);)f.$pop();return n(f,p.get("EOL"))}h.content_model["$=="]("empty")||h.$warn("Unknown content model '"+h.content_model+"' for block: "+h.$to_s());return q}()});a.defn(f,"$source",function(){return n(this.lines,p.get("EOL"))});return(a.defn(f,"$to_s",function(){var a=q,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();
	return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"}),q)&&"to_s"})(c.base,c.get("AbstractBlock"))}(a.base)};
	Opal.modules["asciidoctor/callouts"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var l=a.nil,f=a.module,k=a.klass,d=a.hash2;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(c){(function(b,$super){function c(){}var f=c=k(b,
	$super,"Callouts",c),t=f.$$proto;t.co_index=t.lists=t.list_index=l;a.defn(f,"$initialize",function(){this.lists=[];this.list_index=0;return this.$next_list()});a.defn(f,"$register",function(a){var b=l;this.$current_list()["$<<"](d(["ordinal","id"],{ordinal:a.$to_i(),id:b=this.$generate_next_callout_id()}));this.co_index=n(this.co_index,1);return b});a.defn(f,"$read_next_id",function(){var a=l,b=l,a=l,b=this.$current_list(),c=this.co_index,d=b.$size();if("number"===typeof c&&"number"===typeof d?c<=
	d:c["$<="](d))a=b["$[]"](q(this.co_index,1))["$[]"]("id");this.co_index=n(this.co_index,1);return a});a.defn(f,"$callout_ids",function(a){var b,c,d;return(b=(c=this.$current_list()).$map,b.$$p=(d=function(b){null==b&&(b=l);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":l},d.$$s=this,d),b).call(c).$join().$chop()});a.defn(f,"$current_list",function(){return this.lists["$[]"](q(this.list_index,1))});a.defn(f,"$next_list",function(){this.list_index=n(this.list_index,1);var a=this.lists.$size(),
	b=this.list_index;if("number"===typeof a&&"number"===typeof b?a<b:a["$<"](b))this.lists["$<<"]([]);this.co_index=1;return l});a.defn(f,"$rewind",function(){this.co_index=this.list_index=1;return l});a.defn(f,"$generate_next_callout_id",function(){return this.$generate_callout_id(this.list_index,this.co_index)});return(a.defn(f,"$generate_callout_id",function(a,b){return"CO"+a+"-"+b}),l)&&"generate_callout_id"})(f(c,"Asciidoctor").$$scope.base,null)}(a.base)};
	Opal.modules["asciidoctor/converter/base"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.module,l=a.klass,f=a.hash2;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(k){k=q(k,"Asciidoctor").$$scope;q(k.base,"Converter");n;(function(a,$super){function b(){}var f=b=l(a,$super,"Base",b);return f.$include(f.$$scope.get("Converter"))})(k.get("Converter"),null);(function(d,$super){function b(){}var k=b=l(d,$super,"BuiltIn",b);a.defn(k,"$initialize",function(a,
	b){null==b&&f([],{});return n});a.defn(k,"$convert",function(a,b,d){var k;null==b&&(b=n);null==d&&(d=f([],{}));!1!==(k=b)&&k!==n?k:b=a.$node_name();return(k=d["$empty?"]())===n||k.$$is_boolean&&1!=k?this.$send(b,a,d):this.$send(b,a)});a.alias(k,"handles?","respond_to?");a.defn(k,"$content",function(a){return a.$content()});a.alias(k,"pass","content");return(a.defn(k,"$skip",function(a){return n}),n)&&"skip"})(k.get("Converter"),null)}(a.base)};
	Opal.modules["asciidoctor/converter/factory"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.module,l=a.klass,f=a.hash2;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $== $[] $clear $is_a? $=== $key?".split(" "));return function(k){(function(d){(function(c,$super){function d(){}var k=d=l(c,$super,"Factory",d),q=k.$$proto,t=k.$$scope;q.converters=q.star_converter=n;k.__default__=n;(function(c){a.defn(c,
	"$default",function(c){var d,f;null==this.__default__&&(this.__default__=n);null==c&&(c=!0);if(!1===c||c===n)c=!1!==(d=this.__default__)&&d!==n?d:this.$new();else{if(!1===(d=this.__default__)||d===n){var k;a:{try{((f=null==a.Object.$$scope.ThreadSafe?n:"constant")===n||f.$$is_boolean&&1!=f)&&this.$require("thread_safe".$to_s());k=this.$new(a.get("ThreadSafe").$$scope.get("Cache").$new());break a}catch(l){if(a.rescue(l,[a.get("LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");
	k=this.$new();break a}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}else throw l;}k=void 0}d=this.__default__=k}c=d}return c});a.defn(c,"$register",function(a,c){null==c&&(c=["*"]);return this.$default().$register(a,c)});a.defn(c,"$resolve",function(a){return this.$default().$resolve(a)});a.defn(c,"$create",function(a,c){null==c&&(c=f([],{}));return this.$default().$create(a,c)});a.defn(c,"$converters",function(){return this.$default().$converters()});return(a.defn(c,"$unregister_all",function(){return this.$default().$unregister_all()}),
	n)&&"unregister_all"})(a.get_singleton_class(k));k.$attr_reader("converters");a.defn(k,"$initialize",function(a){var c;null==a&&(a=n);this.converters=!1!==(c=a)&&c!==n?c:f([],{});return this.star_converter=n});a.defn(k,"$register",function(a,c){var d,f,k;null==c&&(c=["*"]);(d=(f=c).$each,d.$$p=(k=function(c){var d=k.$$s||this;null==d.converters&&(d.converters=n);null==c&&(c=n);d.converters["$[]="](c,a);return c["$=="]("*")?d.star_converter=a:n},k.$$s=this,k),d).call(f);return n});a.defn(k,"$resolve",
	function(a){var c,d;return c=this.converters,!1!==c&&c!==n?!1!==(d=this.converters["$[]"](a))&&d!==n?d:this.star_converter:c});a.defn(k,"$unregister_all",function(){this.converters.$clear();return this.star_converter=n});return(a.defn(k,"$create",function(c,d){var g,m=this,k=n,l=k=n,q=n;null==d&&(d=f([],{}));if((g=k=m.$resolve(c))!==n&&(!g.$$is_boolean||1==g))return(g=k["$is_a?"](a.get("Class")))===n||g.$$is_boolean&&1!=g?k:k.$new(c,d);k=function(){l=c;if("html5"["$==="](l)){var e;try{e=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?
	"constant":n}catch(h){if(h.$$class===a.NameError)e=n;else throw h;}((g=e)===n||g.$$is_boolean&&1!=g)&&m.$require("asciidoctor/converter/html5".$to_s());return t.get("Html5Converter").$new(c,d)}if("docbook5"["$==="](l)){var f;try{f=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":n}catch(h){if(h.$$class===a.NameError)f=n;else throw h;}((g=f)===n||g.$$is_boolean&&1!=g)&&m.$require("asciidoctor/converter/docbook5".$to_s());return t.get("DocBook5Converter").$new(c,
	d)}if("docbook45"["$==="](l)){var k;try{k=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":n}catch(h){if(h.$$class===a.NameError)k=n;else throw h;}((g=k)===n||g.$$is_boolean&&1!=g)&&m.$require("asciidoctor/converter/docbook45".$to_s());return t.get("DocBook45Converter").$new(c,d)}if("manpage"["$==="](l)){var q;try{q=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":n}catch(h){if(h.$$class===a.NameError)q=
	n;else throw h;}((g=q)===n||g.$$is_boolean&&1!=g)&&m.$require("asciidoctor/converter/manpage".$to_s());return t.get("ManPageConverter").$new(c,d)}return n}();if((g=d["$key?"]("template_dirs"))===n||g.$$is_boolean&&1!=g)return k;var h;try{h=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":n}catch(w){if(w.$$class===a.NameError)h=n;else throw w;}((g=h)===n||g.$$is_boolean&&1!=g)&&m.$require("asciidoctor/converter/template".$to_s());var e;try{e=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?
	"constant":n}catch(w){if(w.$$class===a.NameError)e=n;else throw w;}((g=e)===n||g.$$is_boolean&&1!=g)&&m.$require("asciidoctor/converter/composite".$to_s());q=t.get("TemplateConverter").$new(c,d["$[]"]("template_dirs"),d);return t.get("CompositeConverter").$new(c,q,k)}),n)&&"create"})(q(d,"Converter").$$scope.base,null)})(q(k,"Asciidoctor").$$scope.base)}(a.base)};
	Opal.modules["asciidoctor/converter"]=function(a){a.dynamic_require_severity="ignore";var n=a.top,q=a.nil,l=a.module,f=a.range,k=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $extend $include $respond_to? $write $chomp $open $require".split(" "));(function(d){d=l(d,"Asciidoctor").$$scope;(function(c){c=l(c,"Converter");var b=c.$$scope;(function(b){b=l(b,"Config");var c=b.$$scope;a.defn(b,"$register_for",function(){var b,d,f,k,g,m=
	q,m=arguments.length-0;0>m&&(m=0);for(var l=Array(m),n=0;n<m;n++)l[n]=arguments[n+0];c.get("Factory").$register(this,l);m=function(a){return a}(a.get_singleton_class(this));l["$=="](["*"])?(b=(d=m).$send,b.$$p=(f=function(a){return!0},f.$$s=this,f),b).call(d,"define_method","converts?"):(b=(k=m).$send,b.$$p=(g=function(a){null==a&&(a=q);return l["$include?"](a)},g.$$s=this,g),b).call(k,"define_method","converts?");return q})})(b.base);(function(b){b=l(b,"BackendInfo");var c=b.$$scope;a.defn(b,"$backend_info",
	function(){var a;null==this.backend_info&&(this.backend_info=q);return!1!==(a=this.backend_info)&&a!==q?a:this.backend_info=this.$setup_backend_info()});a.defn(b,"$setup_backend_info",function(){var b,d=q,l=q,n=q,g=q;null==this.backend&&(this.backend=q);((b=this.backend)===q||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+this.$class());d=this.backend.$sub(c.get("TrailingDigitsRx"),"");(b=l=c.get("DEFAULT_EXTENSIONS")["$[]"](d))===q||b.$$is_boolean&&
	1!=b?(d="html",l=".html",g=n="html"):n=l["$[]"](f(1,-1,!1));return k(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:d,outfilesuffix:l,filetype:n,htmlsyntax:g})});a.defn(b,"$filetype",function(a){null==a&&(a=q);return!1!==a&&a!==q?this.$backend_info()["$[]="]("filetype",a):this.$backend_info()["$[]"]("filetype")});a.defn(b,"$basebackend",function(a){null==a&&(a=q);return!1!==a&&a!==q?this.$backend_info()["$[]="]("basebackend",a):this.$backend_info()["$[]"]("basebackend")});a.defn(b,
	"$outfilesuffix",function(a){null==a&&(a=q);return!1!==a&&a!==q?this.$backend_info()["$[]="]("outfilesuffix",a):this.$backend_info()["$[]"]("outfilesuffix")});a.defn(b,"$htmlsyntax",function(a){null==a&&(a=q);return!1!==a&&a!==q?this.$backend_info()["$[]="]("htmlsyntax",a):this.$backend_info()["$[]"]("htmlsyntax")})})(b.base);(function(b){var c=b.$$scope;return(a.defn(b,"$included",function(a){return a.$extend(c.get("Config"))}),q)&&"included"})(a.get_singleton_class(c));c.$include(b.get("Config"));
	c.$include(b.get("BackendInfo"));a.defn(c,"$initialize",function(a,b){null==b&&k([],{});this.backend=a;return this.$setup_backend_info()});a.defn(c,"$convert",function(b,c,d){null==d&&k([],{});return this.$raise(a.get("NotImplementedError"))});a.alias(c,"convert_with_options","convert")})(d.base);(function(c){c=l(c,"Writer");var b=c.$$scope;a.defn(c,"$write",function(c,d){var f,k,l;(f=d["$respond_to?"]("write"))===q||f.$$is_boolean&&1!=f?(f=(k=a.get("File")).$open,f.$$p=(l=function(a){null==a&&(a=
	q);return a.$write(c)},l.$$s=this,l),f).call(k,d,"w"):(d.$write(c.$chomp()),d.$write(b.get("EOL")));return q})})(d.base);(function(c){c=l(c,"VoidWriter");c.$include(c.$$scope.get("Writer"));a.defn(c,"$write",function(a,c){return q})})(d.base)})(a.base);n.$require("asciidoctor/converter/base");return n.$require("asciidoctor/converter/factory")};
	Opal.modules["asciidoctor/converter/html5"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function d(a,b){return"number"===typeof a&&"number"===
	typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var c=a.nil,b=a.module,D=a.klass,x=a.hash2,y=a.range;a.add_stubs("$default= $== $[] $instance $empty? $attr $>= $safe $attr? $<< $doctitle $include? $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $index $text $footnotes $nofooter $inspect $!= $document $sections $level $special $numbered $caption $<= $sectnum $< $captioned_title $+ $role $title? $icon_uri $compact $style $media_uri $option? $append_boolean_attribute $each_with_index $items $text? $blocks? $chomp $read_svg_contents $image_uri $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $colspan $rowspan $rows $select $role? $insert $split $target $type $attributes $references $join $map $chop $read_contents $sub $gsub $match".split(" "));
	return function(t){t=b(t,"Asciidoctor").$$scope;(function(b,$super){function g(){}var m=g=D(b,$super,"Html5Converter",g),u=m.$$proto,t=m.$$scope,z;u.xml_mode=u.void_element_slash=u.stylesheets=c;u=[[c,c,c]];z=a.cdecl(t,"QUOTE_TAGS",x("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],
	"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]}));z["$default="].apply(z,u);u[u.length-1];a.cdecl(t,"SvgPreambleRx",/\A.*?(?=<svg[ >])/m);a.cdecl(t,"SvgStartTagRx",/\A<svg[^>]*>/);a.cdecl(t,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(m,"$initialize",function(a,b){var d;null==b&&(b=x([],{}));this.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(d=this.xml_mode)===
	c||d.$$is_boolean&&1!=d?c:"/";return this.stylesheets=t.get("Stylesheets").$instance()});a.defn(m,"$document",function(a){var b,d,g,f,k,m,v=c,B=c,p=c,L=c,F=c,P=c,u=c,z=P=u=P=u=L=u=L=u=c,B=B=P=P=u=c,v=[],B=this.void_element_slash,p="<br"+B+">";if((b=(L=a.$attr("asset-uri-scheme","https"))["$empty?"]())===c||b.$$is_boolean&&1!=b)L=""+L+":";F=""+L+"//cdnjs.cloudflare.com/ajax/libs";P=!1!==(b=n(a.$safe(),t.get("SafeMode").$$scope.get("SECURE")))&&b!==c?b:a["$attr?"]("linkcss");v["$<<"]("<!DOCTYPE html>");
	u=(b=a["$attr?"]("nolang"))===c||b.$$is_boolean&&1!=b?' lang="'+a.$attr("lang","en")+'"':c;v["$<<"]("<html"+((b=this.xml_mode)===c||b.$$is_boolean&&1!=b?c:' xmlns="http://www.w3.org/1999/xhtml"')+u+">");v["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+B+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+B+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+B+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+
	'"'+B+">");if((b=a["$attr?"]("app-name"))!==c&&(!b.$$is_boolean||1==b))v["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+B+">");if((b=a["$attr?"]("description"))!==c&&(!b.$$is_boolean||1==b))v["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+B+">");if((b=a["$attr?"]("keywords"))!==c&&(!b.$$is_boolean||1==b))v["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+'"'+B+">");if((b=a["$attr?"]("authors"))!==c&&(!b.$$is_boolean||1==b))v["$<<"]('<meta name="author" content="'+
	a.$attr("authors")+'"'+B+">");if((b=a["$attr?"]("copyright"))!==c&&(!b.$$is_boolean||1==b))v["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+B+">");v["$<<"]("<title>"+a.$doctitle(x(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((b=t.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))!==c&&(!b.$$is_boolean||1==b)){if((b=u=a.$attr("webfonts"))!==c&&(!b.$$is_boolean||1==b))v["$<<"]('<link rel="stylesheet" href="'+L+"//fonts.googleapis.com/css?family="+
	((b=u["$empty?"]())===c||b.$$is_boolean&&1!=b?u:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700")+'"'+B+">");if(!1!==P&&P!==c)v["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(t.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",""),!1)+'"'+B+">");else v["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((b=a["$attr?"]("stylesheet"))!==c&&(!b.$$is_boolean||1==b))if(!1!==P&&P!==c)v["$<<"]('<link rel="stylesheet" href="'+
	a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+B+">");else v["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),x(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if((b=a["$attr?"]("icons","font"))!==c&&(!b.$$is_boolean||1==b))if((b=a["$attr?"]("iconfont-remote"))===c||b.$$is_boolean&&1!=b)L=""+a.$attr("iconfont-name","font-awesome")+".css",v["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(L,a.$attr("stylesdir",
	""),!1)+'"'+B+">");else v["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+F+"/font-awesome/4.5.0/css/font-awesome.min.css")+'"'+B+">");u=L=a.$attr("source-highlighter");if("coderay"["$==="](u)){if(a.$attr("coderay-css","class")["$=="]("class"))if(!1!==P&&P!==c)v["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""),!1)+'"'+B+">");else v["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](u)&&
	a.$attr("pygments-css","class")["$=="]("class"))if(u=a.$attr("pygments-style"),!1!==P&&P!==c)v["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(u),a.$attr("stylesdir",""),!1)+'"'+B+">");else v["$<<"](this.stylesheets.$embed_pygments_stylesheet(u));if((b=(P=a.$docinfo())["$empty?"]())===c||b.$$is_boolean&&1!=b)v["$<<"](P);v["$<<"]("</head>");u=[];if((b=a.$id())!==c&&(!b.$$is_boolean||1==b))u["$<<"]('id="'+a.$id()+'"');if((b=(d=(g=(f=P=a["$sections?"](),
	!1!==f&&f!==c?a["$attr?"]("toc-class"):f),!1!==g&&g!==c?a["$attr?"]("toc"):g),!1!==d&&d!==c?a["$attr?"]("toc-placement","auto"):d))===c||b.$$is_boolean&&1!=b)u["$<<"]('class="'+a.$doctype()+'"');else u["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"');if((b=a["$attr?"]("max-width"))!==c&&(!b.$$is_boolean||1==b))u["$<<"]('style="max-width: '+a.$attr("max-width")+';"');v["$<<"]("<body "+q(u," ")+">");if((b=a.$noheader())===c||b.$$is_boolean&&1!=b){v["$<<"]('<div id="header">');
	if(a.$doctype()["$=="]("manpage")){v["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>");if((b=(d=(g=!1!==P&&P!==c)?a["$attr?"]("toc"):P,!1!==d&&d!==c?a["$attr?"]("toc-placement","auto"):d))!==c&&(!b.$$is_boolean||1==b))v["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");v["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else{if((b=
	a["$has_header?"]())!==c&&(!b.$$is_boolean||1==b)){if((b=a.$notitle())===c||b.$$is_boolean&&1!=b)v["$<<"]("<h1>"+a.$header().$title()+"</h1>");z=[];if((b=a["$attr?"]("author"))!==c&&(!b.$$is_boolean||1==b)){z["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+p);if((b=a["$attr?"]("email"))!==c&&(!b.$$is_boolean||1==b))z["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+p);l(u=a.$attr("authorcount").$to_i(),1)&&(b=(d=y(2,u,!1)).$each,b.$$p=(k=function(b){var e;
	null==b&&(b=c);z["$<<"]('<span id="author'+b+'" class="author">'+a.$attr("author_"+b)+"</span>"+p);return(e=a["$attr?"]("email_"+b))===c||e.$$is_boolean&&1!=e?c:z["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+p)},k.$$s=this,k),b).call(d)}if((b=a["$attr?"]("revnumber"))!==c&&(!b.$$is_boolean||1==b))z["$<<"]('<span id="revnumber">'+(!1!==(b=a.$attr("version-label"))&&b!==c?b:"").$downcase()+" "+a.$attr("revnumber")+((b=a["$attr?"]("revdate"))===c||b.$$is_boolean&&
	1!=b?"":",")+"</span>");if((b=a["$attr?"]("revdate"))!==c&&(!b.$$is_boolean||1==b))z["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if((b=a["$attr?"]("revremark"))!==c&&(!b.$$is_boolean||1==b))z["$<<"](""+p+'<span id="revremark">'+a.$attr("revremark")+"</span>");if((b=z["$empty?"]())===c||b.$$is_boolean&&1!=b)v["$<<"]('<div class="details">'),v.$concat(z),v["$<<"]("</div>")}if((b=(g=(f=!1!==P&&P!==c)?a["$attr?"]("toc"):P,!1!==g&&g!==c?a["$attr?"]("toc-placement","auto"):g))!==c&&(!b.$$is_boolean||
	1==b))v["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>")}v["$<<"]("</div>")}v["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");(b=(g=a["$footnotes?"](),!1!==g&&g!==c?a["$attr?"]("nofootnotes")["$!"]():g))===c||b.$$is_boolean&&1!=b||(v["$<<"]('<div id="footnotes">\n<hr'+B+">"),(b=(g=a.$footnotes()).$each,b.$$p=(m=function(a){null==a&&(a=c);return v["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+
	'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},m.$$s=this,m),b).call(g),v["$<<"]("</div>"));if((b=a.$nofooter())===c||b.$$is_boolean&&1!=b){v["$<<"]('<div id="footer">');v["$<<"]('<div id="footer-text">');if((b=a["$attr?"]("revnumber"))!==c&&(!b.$$is_boolean||1==b))v["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+p);if((b=(f=a["$attr?"]("last-update-label"),!1!==f&&f!==c?a["$attr?"]("reproducible")["$!"]():f))!==c&&(!b.$$is_boolean||1==b))v["$<<"](""+
	a.$attr("last-update-label")+" "+a.$attr("docdatetime"));v["$<<"]("</div>");v["$<<"]("</div>")}if((b=(P=a.$docinfo("footer"))["$empty?"]())===c||b.$$is_boolean&&1!=b)v["$<<"](P);u=L;"highlightjs"["$==="](u)||"highlight.js"["$==="](u)?(P=a.$attr("highlightjsdir",""+F+"/highlight.js/8.9.1"),v["$<<"]('<link rel="stylesheet" href="'+P+"/styles/"+a.$attr("highlightjs-theme","github")+'.min.css"'+B+">"),v["$<<"]('<script src="'+P+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):
	"prettify"["$==="](u)&&(P=a.$attr("prettifydir",""+F+"/prettify/r298"),v["$<<"]('<link rel="stylesheet" href="'+P+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+B+">"),v["$<<"]('<script src="'+P+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));(b=a["$attr?"]("stem"))===c||b.$$is_boolean&&1!=b||(B=a.$attr("eqnums","none"),B["$=="]("")&&(B="AMS"),B=' equationNumbers: { autoNumber: "'+B+'" } ',v["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+
	t.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+t.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+t.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+B+'}\n});\n\x3c/script>\n<script src="'+F+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));v["$<<"]("</body>");v["$<<"]("</html>");
	return q(v,t.get("EOL"))});a.defn(m,"$embedded",function(a){var b,d,g,f,k,m=c,l=c,B=c,m=[];if(a.$doctype()["$=="]("manpage")){if((b=a.$notitle())===c||b.$$is_boolean&&1!=b)l=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',m["$<<"]("<h1"+l+">"+a.$doctitle()+" Manual Page</h1>");m["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else(b=(d=a["$has_header?"](),!1!==d&&d!==c?a.$notitle()["$!"]():d))===
	c||b.$$is_boolean&&1!=b||(l=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',m["$<<"]("<h1"+l+">"+a.$header().$title()+"</h1>"));if((b=(d=(g=(f=a["$sections?"](),!1!==f&&f!==c?a["$attr?"]("toc"):f),!1!==g&&g!==c?(B=a.$attr("toc-placement"))["$!="]("macro"):g),!1!==d&&d!==c?B["$!="]("preamble"):d))!==c&&(!b.$$is_boolean||1==b))m["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");m["$<<"](a.$content());(b=(d=a["$footnotes?"](),
	!1!==d&&d!==c?a["$attr?"]("nofootnotes")["$!"]():d))===c||b.$$is_boolean&&1!=b||(m["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),(b=(d=a.$footnotes()).$each,b.$$p=(k=function(a){null==a&&(a=c);return m["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},k.$$s=this,k),b).call(d),m["$<<"]("</div>"));return q(m,t.get("EOL"))});a.defn(m,"$outline",function(a,b){var d,g,m,l=c,n=c,v=c,B=c,p=c,
	L=c;null==b&&(b=x([],{}));if((d=a["$sections?"]())===c||d.$$is_boolean&&1!=d)return c;l=!1!==(d=b["$[]"]("sectnumlevels"))&&d!==c?d:a.$document().$attr("sectnumlevels",3).$to_i();n=!1!==(d=b["$[]"]("toclevels"))&&d!==c?d:a.$document().$attr("toclevels",2).$to_i();v=[];B=a.$sections();p=(L=B["$[]"](0)).$level();(d=(g=p["$=="](0))?L.$special():p["$=="](0))===c||d.$$is_boolean&&1!=d||(p=1);v["$<<"]('<ul class="sectlevel'+p+'">');(d=(g=B).$each,d.$$p=(m=function(a){var b=m.$$s||this,e,h,d,g=c,B=c;null==
	a&&(a=c);g=(e=(h=(d=a.$numbered(),!1!==d&&d!==c?a.$caption()["$!"]():d),!1!==h&&h!==c?f(a.$level(),l):h))===c||e.$$is_boolean&&1!=e?c:""+a.$sectnum()+" ";if((e=k(a.$level(),n)?B=b.$outline(a,x(["toclevels","secnumlevels"],{toclevels:n,secnumlevels:l})):k(a.$level(),n))===c||e.$$is_boolean&&1!=e)return v["$<<"]('<li><a href="#'+a.$id()+'">'+g+a.$captioned_title()+"</a></li>");v["$<<"]('<li><a href="#'+a.$id()+'">'+g+a.$captioned_title()+"</a>");v["$<<"](B);return v["$<<"]("</li>")},m.$$s=this,m),d).call(g);
	v["$<<"]("</ul>");return q(v,t.get("EOL"))});a.defn(m,"$section",function(a){var b,g,k,m=c,l=c,n=c,v=c,B=c,p=c,q=c,F=c,u=c,m=a.$level();(b=(g=m["$=="](0))?a.$special():m["$=="](0))===c||b.$$is_boolean&&1!=b||(m=1);l="h"+d(m,1);n=v=B=p=c;(b=a.$id())===c||b.$$is_boolean&&1!=b||((n=' id="'+a.$id()+'"',(b=a.$document()["$attr?"]("sectanchors"))===c||b.$$is_boolean&&1!=b)?(b=a.$document()["$attr?"]("sectlinks"))===c||b.$$is_boolean&&1!=b||(B='<a class="link" href="#'+a.$id()+'">',p="</a>"):v='<a class="anchor" href="#'+
	a.$id()+'"></a>');if(m["$=="](0))return"<h1"+n+' class="sect0">'+v+B+a.$title()+p+"</h1>\n"+a.$content();q=(b=F=a.$role())===c||b.$$is_boolean&&1!=b?' class="sect'+m+'"':' class="sect'+m+" "+F+'"';u=(b=(g=(k=a.$numbered(),!1!==k&&k!==c?a.$caption()["$!"]():k),!1!==g&&g!==c?f(m,a.$document().$attr("sectnumlevels",3).$to_i()):g))===c||b.$$is_boolean&&1!=b?c:""+a.$sectnum()+" ";return"<div"+q+">\n<"+l+n+">"+v+B+u+a.$captioned_title()+p+"</"+l+">\n"+(m["$=="](1)?'<div class="sectionbody">\n'+a.$content()+
	"\n</div>":a.$content())+"\n</div>"});a.defn(m,"$admonition",function(a){var b,d,g=c,f=c,m=c,k=c,l=c,g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=a.$attr("name"),m=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n",k=(b=a.$document()["$attr?"]("icons"))===c||b.$$is_boolean&&1!=b?'<div class="title">'+a.$caption()+"</div>":(b=(d=a.$document()["$attr?"]("icons","font"),!1!==d&&d!==c?a["$attr?"]("icon")["$!"]():d))===c||b.$$is_boolean&&1!=b?
	'<img src="'+a.$icon_uri(f)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":'<i class="fa icon-'+f+'" title="'+a.$caption()+'"></i>';return"<div"+g+' class="admonitionblock '+f+(b=l=a.$role(),!1!==b&&b!==c?" "+l:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+k+'\n</td>\n<td class="content">\n'+m+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"});a.defn(m,"$audio",function(a){var b,d=c,g=c,f=c,m=f=c,d=a.$document()["$attr?"]("htmlsyntax","xml"),g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+
	a.$id()+'"',f=["audioblock",a.$style(),a.$role()].$compact(),f=' class="'+q(f," ")+'"',m=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+g+f+">\n"+m+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+((b=a["$option?"]("autoplay"))===c||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("autoplay",d))+((b=a["$option?"]("nocontrols"))===c||b.$$is_boolean&&1!=b?this.$append_boolean_attribute("controls",d):c)+
	((b=a["$option?"]("loop"))===c||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("loop",d))+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"});a.defn(m,"$colist",function(a){var b,g,f,m,k,l=c,v=c,B=c,n=B=c,l=[],v=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',B=["colist",a.$style(),a.$role()].$compact(),B=' class="'+q(B," ")+'"';l["$<<"]("<div"+v+B+">");if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))l["$<<"]('<div class="title">'+a.$title()+"</div>");
	(b=a.$document()["$attr?"]("icons"))===c||b.$$is_boolean&&1!=b?(l["$<<"]("<ol>"),(b=(m=a.$items()).$each,b.$$p=(k=function(a){null==a&&(a=c);return l["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},k.$$s=this,k),b).call(m),l["$<<"]("</ol>")):(l["$<<"]("<table>"),n=a.$document()["$attr?"]("icons","font"),(b=(g=a.$items()).$each_with_index,b.$$p=(f=function(b,e){var g=f.$$s||this,m=c,m=c;null==g.void_element_slash&&(g.void_element_slash=c);null==b&&(b=c);null==e&&(e=c);m=d(e,1);m=!1!==n&&n!==c?'<i class="conum" data-value="'+
	m+'"></i><b>'+m+"</b>":'<img src="'+a.$icon_uri("callouts/"+m)+'" alt="'+m+'"'+g.void_element_slash+">";return l["$<<"]("<tr>\n<td>"+m+"</td>\n<td>"+b.$text()+"</td>\n</tr>")},f.$$s=this,f),b).call(g),l["$<<"]("</table>"));l["$<<"]("</div>");return q(l,t.get("EOL"))});a.defn(m,"$dlist",function(b){var e,d,g,f,m,k,l,n=c,p=c,L=c,F=L=L=c,u=p=c,n=[],p=(e=b.$id())===c||e.$$is_boolean&&1!=e?c:' id="'+b.$id()+'"',L=b.$style(),L=("qanda"["$==="](L)?["qlist","qanda",b.$role()]:"horizontal"["$==="](L)?["hdlist",
	b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),L=' class="'+q(L," ")+'"';n["$<<"]("<div"+p+L+">");if((e=b["$title?"]())!==c&&(!e.$$is_boolean||1==e))n["$<<"]('<div class="title">'+b.$title()+"</div>");L=b.$style();"qanda"["$==="](L)?(n["$<<"]("<ol>"),(e=(d=b.$items()).$each,e.$$p=(g=function(b,e){var h=g.$$s||this,d,f,m;null==b&&(b=c);null==e&&(e=c);n["$<<"]("<li>");(d=(f=[].concat(a.to_a(b))).$each,d.$$p=(m=function(a){null==a&&(a=c);return n["$<<"]("<p><em>"+a.$text()+"</em></p>")},m.$$s=
	h,m),d).call(f);if(!1!==e&&e!==c){if((d=e["$text?"]())!==c&&(!d.$$is_boolean||1==d))n["$<<"]("<p>"+e.$text()+"</p>");if((d=e["$blocks?"]())!==c&&(!d.$$is_boolean||1==d))n["$<<"](e.$content())}return n["$<<"]("</li>")},g.$$s=this,g),e).call(d),n["$<<"]("</ol>")):"horizontal"["$==="](L)?(F=this.void_element_slash,n["$<<"]("<table>"),(e=!1!==(f=b["$attr?"]("labelwidth"))&&f!==c?f:b["$attr?"]("itemwidth"))===c||e.$$is_boolean&&1!=e||(n["$<<"]("<colgroup>"),p=(e=b["$attr?"]("labelwidth"))===c||e.$$is_boolean&&
	1!=e?c:' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"',n["$<<"]("<col"+p+F+">"),p=(e=b["$attr?"]("itemwidth"))===c||e.$$is_boolean&&1!=e?c:' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"',n["$<<"]("<col"+p+F+">"),n["$<<"]("</colgroup>")),(e=(f=b.$items()).$each,e.$$p=(m=function(e,d){var g=m.$$s||this,f,k,l,v=c,p=c;null==e&&(e=c);null==d&&(d=c);n["$<<"]("<tr>");n["$<<"]('<td class="hdlist1'+((f=b["$option?"]("strong"))===c||f.$$is_boolean&&1!=f?c:" strong")+'">');v=[].concat(a.to_a(e));
	p=v["$[]"](-1);(f=(k=v).$each,f.$$p=(l=function(a){var b;null==a&&(a=c);n["$<<"](a.$text());return(b=a["$!="](p))===c||b.$$is_boolean&&1!=b?c:n["$<<"]("<br"+F+">")},l.$$s=g,l),f).call(k);n["$<<"]("</td>");n["$<<"]('<td class="hdlist2">');if(!1!==d&&d!==c){if((f=d["$text?"]())!==c&&(!f.$$is_boolean||1==f))n["$<<"]("<p>"+d.$text()+"</p>");if((f=d["$blocks?"]())!==c&&(!f.$$is_boolean||1==f))n["$<<"](d.$content())}n["$<<"]("</td>");return n["$<<"]("</tr>")},m.$$s=this,m),e).call(f),n["$<<"]("</table>")):
	(n["$<<"]("<dl>"),u=(e=b.$style())===c||e.$$is_boolean&&1!=e?' class="hdlist1"':c,(e=(k=b.$items()).$each,e.$$p=(l=function(b,e){var h=l.$$s||this,d,g,f;null==b&&(b=c);null==e&&(e=c);(d=(g=[].concat(a.to_a(b))).$each,d.$$p=(f=function(a){null==a&&(a=c);return n["$<<"]("<dt"+u+">"+a.$text()+"</dt>")},f.$$s=h,f),d).call(g);if(!1!==e&&e!==c){n["$<<"]("<dd>");if((d=e["$text?"]())!==c&&(!d.$$is_boolean||1==d))n["$<<"]("<p>"+e.$text()+"</p>");if((d=e["$blocks?"]())!==c&&(!d.$$is_boolean||1==d))n["$<<"](e.$content());
	return n["$<<"]("</dd>")}return c},l.$$s=this,l),e).call(k),n["$<<"]("</dl>"));n["$<<"]("</div>");return q(n,t.get("EOL"))});a.defn(m,"$example",function(a){var b,d=c,g=c,f=c,d=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',g=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+d+' class="'+((b=f=a.$role())===c||b.$$is_boolean&&1!=b?"exampleblock":q(["exampleblock",f]," "))+'">\n'+g+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"});
	a.defn(m,"$floating_title",function(a){var b,g=c,f=c,m=c,g="h"+d(a.$level(),1),f=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',m=[a.$style(),a.$role()].$compact();return"<"+g+f+' class="'+q(m," ")+'">'+a.$title()+"</"+g+">"});a.defn(m,"$image",function(a){var b,d,g,f=c,m=c,l=c,v=c,n=c,p=c,L=v=c,v=l=l=m=m=f=c,f=a.$attr("target"),m=(b=a["$attr?"]("width"))===c||b.$$is_boolean&&1!=b?c:' width="'+a.$attr("width")+'"',l=(b=a["$attr?"]("height"))===c||b.$$is_boolean&&1!=b?c:' height="'+a.$attr("height")+
	'"';(b=(d=!1!==(g=a["$attr?"]("format","svg",!1))&&g!==c?g:f["$include?"](".svg"),!1!==d&&d!==c?k(a.$document().$safe(),t.get("SafeMode").$$scope.get("SECURE")):d))===c||b.$$is_boolean&&1!=b||(!1!==(b=v=a["$option?"]("inline"))&&b!==c?b:n=a["$option?"]("interactive"),!1!==v&&v!==c?p=!1!==(b=this.$read_svg_contents(a,f))&&b!==c?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==n&&n!==c&&(v=(b=a["$attr?"]("fallback"))===c||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+
	a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+m+l+this.void_element_slash+">",p='<object type="image/svg+xml" data="'+a.$image_uri(f)+'"'+m+l+">"+v+"</object>"));!1!==(b=p)&&b!==c?b:p='<img src="'+a.$image_uri(f)+'" alt="'+a.$attr("alt")+'"'+m+l+this.void_element_slash+">";(b=L=a.$attr("link"))===c||b.$$is_boolean&&1!=b||(p='<a class="image" href="'+L+'">'+p+"</a>");f=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"';m=["imageblock",a.$style(),a.$role()].$compact();m=' class="'+
	q(m," ")+'"';l=[];if((b=a["$attr?"]("align"))!==c&&(!b.$$is_boolean||1==b))l["$<<"]("text-align: "+a.$attr("align"));if((b=a["$attr?"]("float"))!==c&&(!b.$$is_boolean||1==b))l["$<<"]("float: "+a.$attr("float"));l=(b=l["$empty?"]())===c||b.$$is_boolean&&1!=b?' style="'+q(l,";")+'"':c;v=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$captioned_title()+"</div>";return"<div"+f+m+l+'>\n<div class="content">\n'+p+"\n</div>"+v+"\n</div>"});a.defn(m,"$listing",function(a){var b,
	d=c,g=c,f=c,m=c,k=m=d=f=d=c,l=c,d=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==c?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(f=(b=g=a.$attr("language",c,!1))===c||b.$$is_boolean&&1!=b?c:' data-lang="'+g+'"',m=a.$document().$attr("source-highlighter"),"coderay"["$==="](m)?d=' class="CodeRay highlight'+(!1!==d&&d!==c?" nowrap":c)+'"':"pygments"["$==="](m)?d=' class="pygments highlight'+(!1!==d&&d!==c?" nowrap":c)+'"':"highlightjs"["$==="](m)||"highlight.js"["$==="](m)?(d=' class="highlightjs highlight'+
	(!1!==d&&d!==c?" nowrap":c)+'"',!1!==g&&g!==c&&(f=' class="language-'+g+'"'+f)):"prettify"["$==="](m)?(d=' class="prettyprint highlight'+(!1!==d&&d!==c?" nowrap":c)+((b=a["$attr?"]("linenums"))===c||b.$$is_boolean&&1!=b?c:" linenums")+'"',!1!==g&&g!==c&&(f=' class="language-'+g+'"'+f)):"html-pipeline"["$==="](m)?(d=!1!==g&&g!==c?' lang="'+g+'"':c,f=c):(d=' class="highlight'+(!1!==d&&d!==c?" nowrap":c)+'"',!1!==g&&g!==c&&(f=' class="language-'+g+'"'+f)),f="<pre"+d+"><code"+f+">",d="</code></pre>"):
	(f="<pre"+(!1!==d&&d!==c?' class="nowrap"':c)+">",d="</pre>");m=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"';k=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+m+' class="listingblock'+(b=l=a.$role(),!1!==b&&b!==c?" "+l:b)+'">\n'+k+'<div class="content">\n'+f+a.$content()+d+"\n</div>\n</div>"});a.defn(m,"$literal",function(a){var b,d=c,g=c,f=c,m=c,d=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',g=(b=a["$title?"]())===
	c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n",f=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==c?b:a["$option?"]("nowrap");return"<div"+d+' class="literalblock'+(b=m=a.$role(),!1!==b&&b!==c?" "+m:b)+'">\n'+g+'<div class="content">\n<pre'+(!1!==f&&f!==c?' class="nowrap"':c)+">"+a.$content()+"</pre>\n</div>\n</div>"});a.defn(m,"$stem",function(b){var e,d,g=c,f=c,m=c,k=c,l=c,n=c,g=(e=b.$id())===c||e.$$is_boolean&&1!=e?c:' id="'+b.$id()+'"',f=(e=b["$title?"]())===c||
	e.$$is_boolean&&1!=e?c:'<div class="title">'+b.$title()+"</div>\n";e=a.to_ary(t.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym()));m=null==e[0]?c:e[0];k=null==e[1]?c:e[1];if((e=(d=(l=b.$content())["$start_with?"](m),!1!==d&&d!==c?l["$end_with?"](k):d))===c||e.$$is_boolean&&1!=e)l=""+m+l+k;return"<div"+g+' class="'+((e=n=b.$role())===c||e.$$is_boolean&&1!=e?"stemblock":q(["stemblock",n]," "))+'">\n'+f+'<div class="content">\n'+l+"\n</div>\n</div>"});a.defn(m,"$olist",function(a){var b,d,g,
	f=c,m=c,k=c,l=m=k=c,k=c,f=[],m=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k=["olist",a.$style(),a.$role()].$compact(),k=' class="'+q(k," ")+'"';f["$<<"]("<div"+m+k+">");if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))f["$<<"]('<div class="title">'+a.$title()+"</div>");m=(b=l=a.$list_marker_keyword())===c||b.$$is_boolean&&1!=b?c:' type="'+l+'"';k=(b=a["$attr?"]("start"))===c||b.$$is_boolean&&1!=b?c:' start="'+a.$attr("start")+'"';f["$<<"]('<ol class="'+a.$style()+'"'+m+k+">");(b=
	(d=a.$items()).$each,b.$$p=(g=function(a){var b;null==a&&(a=c);f["$<<"]("<li>");f["$<<"]("<p>"+a.$text()+"</p>");if((b=a["$blocks?"]())!==c&&(!b.$$is_boolean||1==b))f["$<<"](a.$content());return f["$<<"]("</li>")},g.$$s=this,g),b).call(d);f["$<<"]("</ol>");f["$<<"]("</div>");return q(f,t.get("EOL"))});a.defn(m,"$open",function(a){var b,d,g,f=c,m=c,k=c,l=c;if((f=a.$style())["$=="]("abstract")){if((b=a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document()))===
	c||b.$$is_boolean&&1!=b)return m=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>","<div"+m+' class="quoteblock abstract'+(b=l=a.$role(),!1!==b&&b!==c?" "+l:b)+'">\n'+k+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>";this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.");return""}if((b=f["$=="]("partintro")?
	!1!==(d=!1!==(g=a.$level()["$!="](0))&&g!==c?g:a.$parent().$context()["$!="]("section"))&&d!==c?d:a.$document().$doctype()["$!="]("book"):f["$=="]("partintro"))===c||b.$$is_boolean&&1!=b)return m=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>","<div"+m+' class="openblock'+((b=!1!==f&&f!==c?f["$!="]("open"):f)===c||b.$$is_boolean&&1!=b?"":" "+f)+(b=l=a.$role(),!1!==b&&b!==c?" "+l:b)+'">\n'+k+'<div class="content">\n'+
	a.$content()+"\n</div>\n</div>";this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.");return""});a.defn(m,"$page_break",function(a){return'<div style="page-break-after: always;"></div>'});a.defn(m,"$paragraph",function(a){var b,d=c,d=c,d=(b=a.$role())===c||b.$$is_boolean&&1!=b?'class="paragraph"':'class="paragraph '+a.$role()+'"',d=(b=a.$id())===c||b.$$is_boolean&&1!=b?d:'id="'+a.$id()+'" '+d;return(b=a["$title?"]())===
	c||b.$$is_boolean&&1!=b?"<div "+d+">\n<p>"+a.$content()+"</p>\n</div>":"<div "+d+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>"});a.defn(m,"$preamble",function(a){var b,d,g,f=c,m=c,m=(b=(d=(g=(f=a.$document())["$attr?"]("toc-placement","preamble"),!1!==g&&g!==c?f["$sections?"]():g),!1!==d&&d!==c?f["$attr?"]("toc"):d))===c||b.$$is_boolean&&1!=b?c:'\n<div id="toc" class="'+f.$attr("toc-class","toc")+'">\n<div id="toctitle">'+f.$attr("toc-title")+"</div>\n"+this.$outline(f)+
	"\n</div>";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+m+"\n</div>"});a.defn(m,"$quote",function(a){var b,d,g=c,f=c,m=f=c,k=c,l=c,n=c,n=k=c,g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=["quoteblock",a.$role()].$compact(),f=' class="'+q(f," ")+'"',m=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>",k=(b=a["$attr?"]("attribution"))===c||b.$$is_boolean&&1!=b?c:a.$attr("attribution"),l=(b=a["$attr?"]("citetitle"))===
	c||b.$$is_boolean&&1!=b?c:a.$attr("citetitle");(b=!1!==(d=k)&&d!==c?d:l)===c||b.$$is_boolean&&1!=b?n=c:(n=!1!==l&&l!==c?"<cite>"+l+"</cite>":c,k=!1!==k&&k!==c?"&#8212; "+k+(!1!==l&&l!==c?"<br"+this.void_element_slash+">\n":c):c,n='\n<div class="attribution">\n'+k+n+"\n</div>");return"<div"+g+f+">"+m+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+n+"\n</div>"});a.defn(m,"$thematic_break",function(a){return"<hr"+this.void_element_slash+">"});a.defn(m,"$sidebar",function(a){var b,d=c,g=c,f=c,d=(b=
	a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',g=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n";return"<div"+d+' class="'+((b=f=a.$role())===c||b.$$is_boolean&&1!=b?"sidebarblock":q(["sidebarblock",f]," "))+'">\n<div class="content">\n'+g+a.$content()+"\n</div>\n</div>"});a.defn(m,"$table",function(a){var b,d,g,f,m,k,v,n,p,L,F=c,u=c,N=c,z=c,T=c,x=z=N=T=c,y=c,F=[],u=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',N=["tableblock","frame-"+
	a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],z=[];if((b=a["$option?"]("autowidth"))===c||b.$$is_boolean&&1!=b)if((T=a.$attr("tablepcwidth"))["$=="](100))N["$<<"]("spread");else z["$<<"]("width: "+T+"%;");if((b=T=a.$role())!==c&&(!b.$$is_boolean||1==b))N["$<<"](T);N=' class="'+q(N," ")+'"';if((b=a["$attr?"]("float"))!==c&&(!b.$$is_boolean||1==b))z["$<<"]("float: "+a.$attr("float")+";");z=(b=z["$empty?"]())===c||b.$$is_boolean&&1!=b?' style="'+q(z," ")+'"':c;F["$<<"]("<table"+u+N+z+">");if((b=
	a["$title?"]())!==c&&(!b.$$is_boolean||1==b))F["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");l(a.$attr("rowcount"),0)&&(x=this.void_element_slash,F["$<<"]("<colgroup>"),(b=a["$option?"]("autowidth"))===c||b.$$is_boolean&&1!=b?(b=(f=a.$columns()).$each,b.$$p=(m=function(a){null==a&&(a=c);return F["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+x+">")},m.$$s=this,m),b).call(f):(y="<col"+x+">",(b=(d=a.$columns().$size()).$times,b.$$p=(g=function(){return F["$<<"](y)},g.$$s=
	this,g),b).call(d)),F["$<<"]("</colgroup>"),(b=(k=(n=(p=["head","foot","body"]).$select,n.$$p=(L=function(b){null==b&&(b=c);return a.$rows()["$[]"](b)["$empty?"]()["$!"]()},L.$$s=this,L),n).call(p)).$each,b.$$p=(v=function(b){var e=v.$$s||this,d,g,f;null==b&&(b=c);F["$<<"]("<t"+b+">");(d=(g=a.$rows()["$[]"](b)).$each,d.$$p=(f=function(e){var d=f.$$s||this,g,m,k;null==e&&(e=c);F["$<<"]("<tr>");(g=(m=e).$each,g.$$p=(k=function(e){var d=k.$$s||this,g,f,m,l,v=c,n=c,p=n=c,B=c,w=c,q=c;null==e&&(e=c);b["$=="]("head")?
	v=e.$text():(n=e.$style(),"asciidoc"["$==="](n)?v="<div>"+e.$content()+"</div>":"verse"["$==="](n)?v='<div class="verse">'+e.$text()+"</div>":"literal"["$==="](n)?v='<div class="literal"><pre>'+e.$text()+"</pre></div>":(v="",(g=(f=e.$content()).$each,g.$$p=(m=function(a){null==a&&(a=c);return v=""+v+'<p class="tableblock">'+a+"</p>"},m.$$s=d,m),g).call(f)));n=(g=!1!==(l=b["$=="]("head"))&&l!==c?l:e.$style()["$=="]("header"))===c||g.$$is_boolean&&1!=g?"td":"th";p=' class="tableblock halign-'+e.$attr("halign")+
	" valign-"+e.$attr("valign")+'"';B=(g=e.$colspan())===c||g.$$is_boolean&&1!=g?c:' colspan="'+e.$colspan()+'"';w=(g=e.$rowspan())===c||g.$$is_boolean&&1!=g?c:' rowspan="'+e.$rowspan()+'"';q=(g=a.$document()["$attr?"]("cellbgcolor"))===c||g.$$is_boolean&&1!=g?c:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"';return F["$<<"]("<"+n+p+B+w+q+">"+v+"</"+n+">")},k.$$s=d,k),g).call(m);return F["$<<"]("</tr>")},f.$$s=e,f),d).call(g);return F["$<<"]("</t"+b+">")},v.$$s=this,v),b).call(k));
	F["$<<"]("</table>");return q(F,t.get("EOL"))});a.defn(m,"$toc",function(a){var b,d,g,f=c,m=c,k=c,l=c,n=c,p=c;if((b=(d=(g=(f=a.$document())["$attr?"]("toc-placement","macro"),!1!==g&&g!==c?f["$sections?"]():g),!1!==d&&d!==c?f["$attr?"]("toc"):d))===c||b.$$is_boolean&&1!=b)return"\x3c!-- toc disabled --\x3e";(b=a.$id())===c||b.$$is_boolean&&1!=b?(m=' id="toc"',k=' id="toctitle"'):(m=' id="'+a.$id()+'"',k=' id="'+a.$id()+'title"');l=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?f.$attr("toc-title"):
	a.$title();n=(b=a["$attr?"]("levels"))===c||b.$$is_boolean&&1!=b?c:a.$attr("levels").$to_i();p=(b=a["$role?"]())===c||b.$$is_boolean&&1!=b?f.$attr("toc-class","toc"):a.$role();return"<div"+m+' class="'+p+'">\n<div'+k+' class="title">'+l+"</div>\n"+this.$outline(f,x(["toclevels"],{toclevels:n}))+"\n</div>"});a.defn(m,"$ulist",function(a){var b,d,g,f=c,m=c,k=c,l=c,n=c,p=c,L=c,f=[],m=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',k=["ulist",a.$style(),a.$role()].$compact(),n=l=c;(b=p=a["$option?"]("checklist"))===
	c||b.$$is_boolean&&1!=b?L=(b=a.$style())===c||b.$$is_boolean&&1!=b?c:' class="'+a.$style()+'"':(k.$insert(1,"checklist"),L=' class="checklist"',(b=a["$option?"]("interactive"))===c||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons","font"))===c||b.$$is_boolean&&1!=b?(l="&#10003; ",n="&#10063; "):(l='<i class="fa fa-check-square-o"></i> ',n='<i class="fa fa-square-o"></i> '):(b=a.$document()["$attr?"]("htmlsyntax","xml"))===c||b.$$is_boolean&&1!=b?(l='<input type="checkbox" data-item-complete="1" checked> ',
	n='<input type="checkbox" data-item-complete="0"> '):(l='<input type="checkbox" data-item-complete="1" checked="checked"/> ',n='<input type="checkbox" data-item-complete="0"/> '));f["$<<"]("<div"+m+' class="'+q(k," ")+'">');if((b=a["$title?"]())!==c&&(!b.$$is_boolean||1==b))f["$<<"]('<div class="title">'+a.$title()+"</div>");f["$<<"]("<ul"+L+">");(b=(d=a.$items()).$each,b.$$p=(g=function(a){var b;null==a&&(a=c);f["$<<"]("<li>");if((b=!1!==p&&p!==c?a["$attr?"]("checkbox"):p)===c||b.$$is_boolean&&1!=
	b)f["$<<"]("<p>"+a.$text()+"</p>");else f["$<<"]("<p>"+((b=a["$attr?"]("checked"))===c||b.$$is_boolean&&1!=b?n:l)+a.$text()+"</p>");if((b=a["$blocks?"]())!==c&&(!b.$$is_boolean||1==b))f["$<<"](a.$content());return f["$<<"]("</li>")},g.$$s=this,g),b).call(d);f["$<<"]("</ul>");f["$<<"]("</div>");return q(f,t.get("EOL"))});a.defn(m,"$verse",function(a){var b,d,g=c,f=c,m=f=c,k=c,l=c,n=c,n=k=c,g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=["verseblock",a.$role()].$compact(),f=' class="'+
	q(f," ")+'"',m=(b=a["$title?"]())===c||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>",k=(b=a["$attr?"]("attribution"))===c||b.$$is_boolean&&1!=b?c:a.$attr("attribution"),l=(b=a["$attr?"]("citetitle"))===c||b.$$is_boolean&&1!=b?c:a.$attr("citetitle");(b=!1!==(d=k)&&d!==c?d:l)===c||b.$$is_boolean&&1!=b?n=c:(n=!1!==l&&l!==c?"<cite>"+l+"</cite>":c,k=!1!==k&&k!==c?"&#8212; "+k+(!1!==l&&l!==c?"<br"+this.void_element_slash+">\n":c):c,n='\n<div class="attribution">\n'+k+n+"\n</div>");
	return"<div"+g+f+">"+m+'\n<pre class="content">'+a.$content()+"</pre>"+n+"\n</div>"});a.defn(m,"$video",function(b){var e,d,g=this,f=c,m=c,k=c,l=c,n=c,p=c,L=c,F=c,u=c,t=c,z=c,A=c,x=c,y=c,J=c,D=c,K=c,R=c,Z=c,aa=c,S=c,da=c,W=c,G=c,ea=c,H=c,X=c,ka=c,ia=c,ja=c,ba=c,f=b.$document()["$attr?"]("htmlsyntax","xml"),m=(e=b.$id())===c||e.$$is_boolean&&1!=e?c:' id="'+b.$id()+'"',k=["videoblock",b.$style(),b.$role()].$compact(),l=' class="'+q(k," ")+'"',n=(e=b["$title?"]())===c||e.$$is_boolean&&1!=e?c:'\n<div class="title">'+
	b.$captioned_title()+"</div>",p=(e=b["$attr?"]("width"))===c||e.$$is_boolean&&1!=e?c:' width="'+b.$attr("width")+'"',L=(e=b["$attr?"]("height"))===c||e.$$is_boolean&&1!=e?c:' height="'+b.$attr("height")+'"';return function(){F=b.$attr("poster");if("vimeo"["$==="](F)){if((e=(u=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||e.$$is_boolean&&1!=e)u=""+u+":";t=(e=b["$attr?"]("start",c,!1))===c||e.$$is_boolean&&1!=e?c:"#at="+b.$attr("start");z="?";A=(e=b["$option?"]("autoplay"))===
	c||e.$$is_boolean&&1!=e?c:""+z+"autoplay=1";!1!==A&&A!==c&&(z="&amp;");x=(e=b["$option?"]("loop"))===c||e.$$is_boolean&&1!=e?c:""+z+"loop=1";return"<div"+m+l+">"+n+'\n<div class="content">\n<iframe'+p+L+' src="'+u+"//player.vimeo.com/video/"+b.$attr("target")+t+A+x+'" frameborder="0"'+((e=b["$option?"]("nofullscreen"))===c||e.$$is_boolean&&1!=e?g.$append_boolean_attribute("allowfullscreen",f):c)+"></iframe>\n</div>\n</div>"}if("youtube"["$==="](F)){if((e=(u=b.$document().$attr("asset-uri-scheme",
	"https"))["$empty?"]())===c||e.$$is_boolean&&1!=e)u=""+u+":";y=(e=b["$option?"]("related"))===c||e.$$is_boolean&&1!=e?0:1;J=(e=b["$attr?"]("start",c,!1))===c||e.$$is_boolean&&1!=e?c:"&amp;start="+b.$attr("start");D=(e=b["$attr?"]("end",c,!1))===c||e.$$is_boolean&&1!=e?c:"&amp;end="+b.$attr("end");A=(e=b["$option?"]("autoplay"))===c||e.$$is_boolean&&1!=e?c:"&amp;autoplay=1";x=(e=b["$option?"]("loop"))===c||e.$$is_boolean&&1!=e?c:"&amp;loop=1";K=(e=b["$option?"]("nocontrols"))===c||e.$$is_boolean&&
	1!=e?c:"&amp;controls=0";(e=b["$option?"]("nofullscreen"))===c||e.$$is_boolean&&1!=e?(R=c,Z=g.$append_boolean_attribute("allowfullscreen",f)):(R="&amp;fs=0",Z=c);aa=(e=b["$option?"]("modest"))===c||e.$$is_boolean&&1!=e?c:"&amp;modestbranding=1";S=(e=b["$attr?"]("theme",c,!1))===c||e.$$is_boolean&&1!=e?c:"&amp;theme="+b.$attr("theme");da=(e=b["$attr?"]("lang"))===c||e.$$is_boolean&&1!=e?c:"&amp;hl="+b.$attr("lang");e=a.to_ary(b.$attr("target").$split("/",2));W=null==e[0]?c:e[0];G=null==e[1]?c:e[1];
	(e=!1!==(d=G)&&d!==c?d:G=b.$attr("list",c,!1))===c||e.$$is_boolean&&1!=e?(e=a.to_ary(W.$split(",",2)),W=null==e[0]?c:e[0],H=null==e[1]?c:e[1],ea=(e=!1!==(d=H)&&d!==c?d:H=b.$attr("playlist",c,!1))===c||e.$$is_boolean&&1!=e?!1!==x&&x!==c?"&amp;playlist="+W:c:"&amp;playlist="+H):ea="&amp;list="+G;return"<div"+m+l+">"+n+'\n<div class="content">\n<iframe'+p+L+' src="'+u+"//www.youtube.com/embed/"+W+"?rel="+y+J+D+A+x+K+ea+R+aa+S+da+'" frameborder="0"'+Z+"></iframe>\n</div>\n</div>"}X=(e=(""+(ka=b.$attr("poster")))["$empty?"]())===
	c||e.$$is_boolean&&1!=e?' poster="'+b.$media_uri(ka)+'"':c;ia=b.$attr("start",c,!1);ja=b.$attr("end",c,!1);ba=(e=!1!==(d=ia)&&d!==c?d:ja)===c||e.$$is_boolean&&1!=e?c:"#t="+ia+(!1!==ja&&ja!==c?",":c)+ja;return"<div"+m+l+">"+n+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+ba+'"'+p+L+X+((e=b["$option?"]("autoplay"))===c||e.$$is_boolean&&1!=e?c:g.$append_boolean_attribute("autoplay",f))+((e=b["$option?"]("nocontrols"))===c||e.$$is_boolean&&1!=e?g.$append_boolean_attribute("controls",
	f):c)+((e=b["$option?"]("loop"))===c||e.$$is_boolean&&1!=e?c:g.$append_boolean_attribute("loop",f))+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()});a.defn(m,"$inline_anchor",function(a){var b,d,g=this,f=c,m=c,k=c,l=c,n=c,p=c,f=a.$target();return function(){m=a.$type();if("xref"["$==="](m))return k=!1!==(b=a.$attributes()["$[]"]("refid"))&&b!==c?b:f,l=!1!==(b=a.$text())&&b!==c?b:!1!==(d=a.$document().$references()["$[]"]("ids")["$[]"](k))&&d!==c?d:"["+k+"]",'<a href="'+
	f+'">'+l+"</a>";if("ref"["$==="](m))return'<a id="'+f+'"></a>';if("link"["$==="](m)){n=[];if((b=a.$id())!==c&&(!b.$$is_boolean||1==b))n["$<<"](' id="'+a.$id()+'"');if((b=p=a.$role())!==c&&(!b.$$is_boolean||1==b))n["$<<"](' class="'+p+'"');if((b=a["$attr?"]("title",c,!1))!==c&&(!b.$$is_boolean||1==b))n["$<<"](' title="'+a.$attr("title")+'"');if((b=a["$attr?"]("window",c,!1))!==c&&(!b.$$is_boolean||1==b))n["$<<"](' target="'+a.$attr("window")+'"');return'<a href="'+f+'"'+n.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](m)?
	'<a id="'+f+'"></a>['+f+"]":g.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()});a.defn(m,"$inline_break",function(a){return""+a.$text()+"<br"+this.void_element_slash+">"});a.defn(m,"$inline_button",function(a){return'<b class="button">'+a.$text()+"</b>"});a.defn(m,"$inline_callout",function(a){var b,d=c;if((b=a.$document()["$attr?"]("icons","font"))===c||b.$$is_boolean&&1!=b){if((b=a.$document()["$attr?"]("icons"))===c||b.$$is_boolean&&1!=b)return'<b class="conum">('+
	a.$text()+")</b>";d=a.$icon_uri("callouts/"+a.$text());return'<img src="'+d+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>"});a.defn(m,"$inline_footnote",function(a){var b,d=c,g=c;if((b=d=a.$attr("index"))===c||b.$$is_boolean&&1!=b)return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":c;if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+
	d+'" title="View footnote.">'+d+"</a>]</sup>";g=(b=a.$id())===c||b.$$is_boolean&&1!=b?c:' id="_footnote_'+a.$id()+'"';return'<sup class="footnote"'+g+'>[<a id="_footnoteref_'+d+'" class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</sup>"});a.defn(m,"$inline_image",function(a){var b,d,g,f,m,l,n,p,q=c,L=c,F=c,u=d=F=c,N=c,z=c,T=c,y=d=c,q=c;(b=(d=(q=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(q=a.$type())["$=="]("icon"))===c||b.$$is_boolean&&1!=b?(b=(g=
	q["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():q["$=="]("icon"))===c||b.$$is_boolean&&1!=b?(d=a.$target(),u=(b=(g=["width","height","title"]).$map,b.$$p=(f=function(b){var e;null==b&&(b=c);return(e=a["$attr?"](b))===c||e.$$is_boolean&&1!=e?c:" "+b+'="'+a.$attr(b)+'"'},f.$$s=this,f),b).call(g).$join(),(b=(m=(l=(n=q["$!="]("icon"),!1!==n&&n!==c?!1!==(p=a["$attr?"]("format","svg",!1))&&p!==c?p:d["$include?"](".svg"):n),!1!==l&&l!==c?k(a.$document().$safe(),t.get("SafeMode").$$scope.get("SECURE")):
	l),!1!==m&&m!==c?!1!==(l=N=a["$option?"]("inline"))&&l!==c?l:z=a["$option?"]("interactive"):m))===c||b.$$is_boolean&&1!=b||(!1!==N&&N!==c?F=!1!==(b=this.$read_svg_contents(a,d))&&b!==c?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==z&&z!==c&&(T=(b=a["$attr?"]("fallback"))===c||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+u+this.void_element_slash+">",F='<object type="image/svg+xml" data="'+a.$image_uri(d)+
	'"'+u+">"+T+"</object>")),!1!==(b=F)&&b!==c?b:F='<img src="'+(q["$=="]("icon")?a.$icon_uri(d):a.$image_uri(d))+'" alt="'+a.$attr("alt")+'"'+u+this.void_element_slash+">"):F="["+a.$attr("alt")+"]":(L="fa fa-"+a.$target(),(b=(d=x(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,b.$$p=(g=function(b,e){var d;null==b&&(b=c);null==e&&(e=c);return(d=a["$attr?"](b))===c||d.$$is_boolean&&1!=d?c:L=""+L+" "+e+a.$attr(b)},g.$$s=this,g),b).call(d),F=(b=a["$attr?"]("title"))===
	c||b.$$is_boolean&&1!=b?c:' title="'+a.$attr("title")+'"',F='<i class="'+L+'"'+F+"></i>");(b=a["$attr?"]("link"))===c||b.$$is_boolean&&1!=b||(d=(b=a["$attr?"]("window"))===c||b.$$is_boolean&&1!=b?c:' target="'+a.$attr("window")+'"',F='<a class="image" href="'+a.$attr("link")+'"'+d+">"+F+"</a>");L=(b=y=a.$role())===c||b.$$is_boolean&&1!=b?q:""+q+" "+y;q=(b=a["$attr?"]("float"))===c||b.$$is_boolean&&1!=b?c:' style="float: '+a.$attr("float")+'"';return'<span class="'+L+'"'+q+">"+F+"</span>"});a.defn(m,
	"$inline_indexterm",function(a){return a.$type()["$=="]("visible")?a.$text():""});a.defn(m,"$inline_kbd",function(a){var b,d,g,f=c,f=c;if((f=a.$attr("keys")).$size()["$=="](1))return"<kbd>"+f["$[]"](0)+"</kbd>";f=(b=(d=f).$map,b.$$p=(g=function(a){null==a&&(a=c);return"<kbd>"+a+"</kbd>+"},g.$$s=this,g),b).call(d).$join().$chop();return'<span class="keyseq">'+f+"</span>"});a.defn(m,"$inline_menu",function(a){var b,d,g,f=c,m=c,k=m=c,f=a.$attr("menu");if((b=(m=a.$attr("submenus"))["$empty?"]()["$!"]())===
	c||b.$$is_boolean&&1!=b)return(b=k=a.$attr("menuitem"))===c||b.$$is_boolean&&1!=b?'<span class="menu">'+f+"</span>":'<span class="menuseq"><span class="menu">'+f+'</span>&#160;&#9656; <span class="menuitem">'+k+"</span></span>";m=(b=(d=m).$map,b.$$p=(g=function(a){null==a&&(a=c);return'<span class="submenu">'+a+"</span>&#160;&#9656; "},g.$$s=this,g),b).call(d).$join().$chop();return'<span class="menuseq"><span class="menu">'+f+"</span>&#160;&#9656; "+m+' <span class="menuitem">'+a.$attr("menuitem")+
	"</span></span>"});a.defn(m,"$inline_quoted",function(b){var e,d=c,g=c,f=c,m=c,d=c;e=a.to_ary(t.get("QUOTE_TAGS")["$[]"](b.$type()));d=null==e[0]?c:e[0];g=null==e[1]?c:e[1];f=null==e[2]?c:e[2];d=(e=m=b.$role())===c||e.$$is_boolean&&1!=e?""+d+b.$text()+g:!1!==f&&f!==c?""+d.$chop()+' class="'+m+'">'+b.$text()+g:'<span class="'+m+'">'+d+b.$text()+g+"</span>";return(e=b.$id())===c||e.$$is_boolean&&1!=e?d:'<a id="'+b.$id()+'"></a>'+d});a.defn(m,"$append_boolean_attribute",function(a,b){return!1!==b&&b!==
	c?" "+a+'="'+a+'"':" "+a});return(a.defn(m,"$read_svg_contents",function(a,b){var d,g,f,m=c,k=c;(d=m=a.$read_contents(b,x(["start","normalize","label"],{start:a.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))===c||d.$$is_boolean&&1!=d||(m=m.$sub(t.get("SvgPreambleRx"),""),k=c,(d=(g=["width","height"]).$each,d.$$p=(f=function(b){var e;null==b&&(b=c);if((e=a["$attr?"](b))===c||e.$$is_boolean&&1!=e)return c;!1!==(e=k)&&e!==c?e:k=m.$match(t.get("SvgStartTagRx"))["$[]"](0).$gsub(t.get("DimensionAttributeRx"),
	"");return k=""+k.$chop()+" "+b+'="'+a.$attr(b)+'px">'},f.$$s=this,f),d).call(g),!1!==k&&k!==c&&(m=m.$sub(t.get("SvgStartTagRx"),k)));return m}),c)&&"read_svg_contents"})(t.get("Converter"),t.get("Converter").$$scope.get("BuiltIn"))}(a.base)};
	Opal.modules["asciidoctor/document"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var f=a.nil,k=a.slice,d=a.module,c=a.klass,b=a.hash2,D=a.range;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $include? $strip $tr_s $gsub $empty? $! $rpartition $delete $base_dir $inject $== $references $callouts $dup $attributes $each $safe $compat_mode $sourcemap $converter $extensions $start_with? $end_with? $chop $downcase $=== $const_get $upcase $to_s $freeze $attribute_undefined $attribute_missing $detect $constants $key? $expand_path $pwd $>= $+ $length $fetch $delete_if $parse $restore_attributes $update_backend_attributes $now $strftime $join $build_registry $to_proc $activate $preprocessors? $process_method $preprocessors $treeprocessors? $!= $treeprocessors $nil_or_empty? $nextval $to_i $counter $save_to $chr $ord $source $source_lines $title= $title $first_section $title? $merge $has_header? $context $assign_index $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $has_key? $rewind $name $negate $value $apply_attribute_value_subs $delete? $update_doctype_attributes $match $resolve_pass_subs $apply_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $backend $default $create $fail $doctype $content_model $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $open $map $split $& $normalize_system_path $read_asset $resolve_docinfo_subs $sub_attributes $docinfo_processors? $* $compact $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
	return function(x){x=d(x,"Asciidoctor").$$scope;(function(d,$super){function p(){}var r=p=c(d,$super,"Document",p),g=r.$$proto,m=r.$$scope,u,A,z;g.attributes=g.safe=g.reader=g.base_dir=g.parsed=g.parent_document=g.extensions=g.options=g.counters=g.references=g.doctype=g.backend=g.header=g.blocks=g.attributes_modified=g.id=g.callouts=g.header_attributes=g.attribute_overrides=g.converter=g.outfilesuffix=g.docinfo_processor_extensions=g.document=f;a.cdecl(m,"Footnote",a.get("Struct").$new("index","id",
	"text"));(function(b,$super){function d(){}var g=d=c(b,$super,"AttributeEntry",d);g.$attr_reader("name","value","negate");a.defn(g,"$initialize",function(a,b,d){var c;null==d&&(d=f);this.name=a;this.value=b;return this.negate=(c=d["$nil?"]())===f||c.$$is_boolean&&1!=c?d:b["$nil?"]()});return(a.defn(g,"$save_to",function(a){var b;return(!1!==(b=a["$[]"]("attribute_entries"))&&b!==f?b:a["$[]="]("attribute_entries",[]))["$<<"](this)}),f)&&"save_to"})(m.base,null);(function(d,$super){function g(){}var m=
	g=c(d,$super,"Title",g),k=m.$$proto,l=m.$$scope;k.sanitized=k.subtitle=k.combined=f;m.$attr_reader("main");a.alias(m,"title","main");m.$attr_reader("subtitle");m.$attr_reader("combined");a.defn(m,"$initialize",function(d,c){var h,g,m,k=f;null==c&&(c=b([],{}));(h=(g=this.sanitized=c["$[]"]("sanitize"),!1!==g&&g!==f?d["$include?"]("<"):g))===f||h.$$is_boolean&&1!=h||(d=d.$gsub(l.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip());(h=!1!==(g=(k=!1!==(m=c["$[]"]("separator"))&&m!==f?m:":")["$empty?"]())&&
	g!==f?g:d["$include?"](k=""+k+" ")["$!"]())===f||h.$$is_boolean&&1!=h?(h=a.to_ary(d.$rpartition(k)),this.main=null==h[0]?f:h[0],this.subtitle=null==h[2]?f:h[2]):(this.main=d,this.subtitle=f);return this.combined=d});a.defn(m,"$sanitized?",function(){return this.sanitized});a.defn(m,"$subtitle?",function(){return this.subtitle["$!"]()["$!"]()});return(a.defn(m,"$to_s",function(){return this.combined}),f)&&"to_s"})(m.base,null);r.$attr_reader("safe");r.$attr_reader("compat_mode");r.$attr_reader("sourcemap");
	r.$attr_reader("references");r.$attr_reader("counters");r.$attr_reader("callouts");r.$attr_reader("header");r.$attr_reader("base_dir");r.$attr_reader("options");r.$attr_reader("outfilesuffix");r.$attr_reader("parent_document");r.$attr_reader("reader");r.$attr_reader("converter");r.$attr_reader("extensions");a.defn(r,"$initialize",u=function(d,e){var c,g,k,l,p,v,B,r,L,F,P,N,z=f,A=f,x=f,y=f,J=y=f,Q=f,K=z=Q=y=z=y=y=f;null==d&&(d=f);null==e&&(e=b([],{}));u.$$p=null;a.find_super_dispatcher(this,"initialize",
	u,null).apply(this,[this,"document"]);if((c=z=e.$delete("parent"))===f||c.$$is_boolean&&1!=c){this.parent_document=f;this.references=b("ids footnotes links images indexterms includes".split(" "),{ids:b([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.get("Set").$new()});this.callouts=m.get("Callouts").$new();A=b([],{});(c=(g=!1!==(B=e["$[]"]("attributes"))&&B!==f?B:b([],{})).$each,c.$$p=(v=function(a,b){var e;null==a&&(a=f);null==b&&(b=f);(e=a["$start_with?"]("!"))===f||e.$$is_boolean&&
	1!=e?(e=a["$end_with?"]("!"))===f||e.$$is_boolean&&1!=e||(a=a.$chop(),b=f):(a=a["$[]"](D(1,-1,!1)),b=f);return A["$[]="](a.$downcase(),b)},v.$$s=this,v),c).call(g);this.attribute_overrides=A;if((c=(y=e["$[]"]("safe"))["$!"]())===f||c.$$is_boolean&&1!=c)if((c=a.get("Fixnum")["$==="](y))===f||c.$$is_boolean&&1!=c)try{this.safe=m.get("SafeMode").$const_get(y.$to_s().$upcase())}catch(R){try{this.safe=m.get("SafeMode").$$scope.get("SECURE")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else this.safe=
	y;else this.safe=m.get("SafeMode").$$scope.get("SECURE");this.sourcemap=e["$[]"]("sourcemap");this.compat_mode=!1;this.converter=f;try{x=null!=a.get("Asciidoctor").$$scope.get("Extensions")?"constant":f}catch(R){if(R.$$class===a.NameError)x=f;else throw R;}this.extensions=f}else this.parent_document=z,c="base_dir",g=e,!1!==(k=g["$[]"](c))&&k!==f?k:g["$[]="](c,z.$base_dir()),this.references=(c=(g=z.$references()).$inject,c.$$p=(l=function(a,b){null==a&&(a=f);var e=b[0],d=b[1];if(e["$=="]("footnotes"))a["$[]="]("footnotes",
	[]);else a["$[]="](e,d);return a},l.$$s=this,l),c).call(g,b([],{})),this.callouts=z.$callouts(),A=z.$attributes().$dup(),(c=(k=["doctype","compat-mode","toc","toc-placement","toc-position"]).$each,c.$$p=(p=function(a){null==a&&(a=f);return A.$delete(a)},p.$$s=this,p),c).call(k),this.attribute_overrides=A,this.safe=z.$safe(),this.compat_mode=z.$compat_mode(),this.sourcemap=z.$sourcemap(),this.converter=z.$converter(),x=!1,this.extensions=z.$extensions();this.parsed=!1;this.header=f;this.counters=b([],
	{});this.attributes_modified=a.get("Set").$new();this.options=e;this.docinfo_processor_extensions=b([],{});y=(c="header_footer",B=e,!1!==(r=B["$[]"](c))&&r!==f?r:B["$[]="](c,!1));e.$freeze();J=this.attributes;J["$[]="]("sectids","");if(!1===y||y===f)J["$[]="]("notitle","");J["$[]="]("toc-placement","auto");J["$[]="]("stylesheet","");J["$[]="]("webfonts","");if(!1!==y&&y!==f)J["$[]="]("copycss","");J["$[]="]("prewrap","");J["$[]="]("attribute-undefined",m.get("Compliance").$attribute_undefined());
	J["$[]="]("attribute-missing",m.get("Compliance").$attribute_missing());J["$[]="]("iconfont-remote","");J["$[]="]("caution-caption","Caution");J["$[]="]("important-caption","Important");J["$[]="]("note-caption","Note");J["$[]="]("tip-caption","Tip");J["$[]="]("warning-caption","Warning");J["$[]="]("appendix-caption","Appendix");J["$[]="]("example-caption","Example");J["$[]="]("figure-caption","Figure");J["$[]="]("table-caption","Table");J["$[]="]("toc-title","Table of Contents");J["$[]="]("manname-title",
	"NAME");J["$[]="]("untitled-label","Untitled");J["$[]="]("version-label","Version");J["$[]="]("last-update-label","Last updated");A["$[]="]("asciidoctor","");A["$[]="]("asciidoctor-version",m.get("VERSION"));Q=(c=(B=m.get("SafeMode").$constants()).$detect,c.$$p=(L=function(a){var b=L.$$s||this;null==b.safe&&(b.safe=f);null==a&&(a=f);return m.get("SafeMode").$const_get(a)["$=="](b.safe)},L.$$s=this,L),c).call(B).$to_s().$downcase();A["$[]="]("safe-mode-name",Q);A["$[]="]("safe-mode-"+Q,"");A["$[]="]("safe-mode-level",
	this.safe);A["$[]="]("embedded",!1!==y&&y!==f?f:"");c="max-include-depth";r=A;!1!==(F=r["$[]"](c))&&F!==f?F:r["$[]="](c,64);if((c=A["$[]"]("allow-uri-read")["$nil?"]()["$!"]())===f||c.$$is_boolean&&1!=c)A["$[]="]("allow-uri-read",f);A["$[]="]("user-home",m.get("USER_HOME"));if((c=A["$key?"]("numbered"))!==f&&(!c.$$is_boolean||1==c))A["$[]="]("sectnums",A.$delete("numbered"));(c=e["$[]"]("base_dir"))===f||c.$$is_boolean&&1!=c?(c=A["$[]"]("docdir"))===f||c.$$is_boolean&&1!=c?this.base_dir=A["$[]="]("docdir",
	a.get("File").$expand_path(a.get("Dir").$pwd())):this.base_dir=A["$[]="]("docdir",a.get("File").$expand_path(A["$[]"]("docdir"))):this.base_dir=A["$[]="]("docdir",a.get("File").$expand_path(e["$[]"]("base_dir")));if((c=y=e["$[]"]("backend"))!==f&&(!c.$$is_boolean||1==c))A["$[]="]("backend",""+y);if((c=y=e["$[]"]("doctype"))!==f&&(!c.$$is_boolean||1==c))A["$[]="]("doctype",""+y);if(n(this.safe,m.get("SafeMode").$$scope.get("SERVER"))){c="copycss";r=A;!1!==(F=r["$[]"](c))&&F!==f?F:r["$[]="](c,f);c=
	"source-highlighter";r=A;!1!==(F=r["$[]"](c))&&F!==f?F:r["$[]="](c,f);c="backend";r=A;!1!==(F=r["$[]"](c))&&F!==f?F:r["$[]="](c,m.get("DEFAULT_BACKEND"));if((c=(r=z["$!"](),!1!==r&&r!==f?A["$key?"]("docfile"):r))!==f&&(!c.$$is_boolean||1==c))A["$[]="]("docfile",A["$[]"]("docfile")["$[]"](D(q(A["$[]"]("docdir").$length(),1),-1,!1)));A["$[]="]("docdir","");A["$[]="]("user-home",".");if(n(this.safe,m.get("SafeMode").$$scope.get("SECURE"))){if((c=A.$fetch("linkcss","")["$nil?"]())===f||c.$$is_boolean&&
	1!=c)A["$[]="]("linkcss","");c="icons";r=A;!1!==(F=r["$[]"](c))&&F!==f?F:r["$[]="](c,f)}}(c=(r=A).$delete_if,c.$$p=(P=function(b,e){var d,c,h=f;null==b&&(b=f);null==e&&(e=f);h=!1;(d=e["$nil?"]())===f||d.$$is_boolean&&1!=d?((d=(c=a.get("String")["$==="](e),!1!==c&&c!==f?e["$end_with?"]("@"):c))===f||d.$$is_boolean&&1!=d||(e=e.$chop(),h=!0),J["$[]="](b,e)):J.$delete(b);return h},P.$$s=this,P),c).call(r);(c=J["$key?"]("compat-mode"))===f||c.$$is_boolean&&1!=c||(this.compat_mode=!0);if(!1!==z&&z!==f)return c=
	"doctype",F=J,!1!==(N=F["$[]"](c))&&N!==f?N:F["$[]="](c,m.get("DEFAULT_DOCTYPE")),this.reader=m.get("Reader").$new(d,e["$[]"]("cursor")),m.get("Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;if((c="backend",F=J,!1!==(N=F["$[]"](c))&&N!==f?N:F["$[]="](c,m.get("DEFAULT_BACKEND")))["$=="]("manpage"))J["$[]="]("doctype",A["$[]="]("doctype","manpage"));else c="doctype",F=J,!1!==(N=F["$[]"](c))&&N!==f?N:F["$[]="](c,m.get("DEFAULT_DOCTYPE"));this.$update_backend_attributes(J["$[]"]("backend"),
	!0);z=a.get("Time").$now();y=(c="localdate",F=J,!1!==(N=F["$[]"](c))&&N!==f?N:F["$[]="](c,z.$strftime("%Y-%m-%d")));if((c=Q=J["$[]"]("localtime"))===f||c.$$is_boolean&&1!=c)try{Q=J["$[]="]("localtime",z.$strftime("%H:%M:%S %Z"))}catch(R){try{Q=J["$[]="]("localtime",z.$strftime("%H:%M:%S"))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}c="localdatetime";F=J;!1!==(N=F["$[]"](c))&&N!==f?N:F["$[]="](c,""+y+" "+Q);c="docdate";F=J;!1!==(N=F["$[]"](c))&&N!==f?N:F["$[]="](c,y);c="doctime";F=J;!1!==(N=F["$[]"](c))&&
	N!==f?N:F["$[]="](c,Q);c="docdatetime";F=J;!1!==(N=F["$[]"](c))&&N!==f?N:F["$[]="](c,""+y+" "+Q);c="stylesdir";F=J;!1!==(N=F["$[]"](c))&&N!==f?N:F["$[]="](c,".");c="iconsdir";F=J;!1!==(N=F["$[]"](c))&&N!==f?N:F["$[]="](c,a.get("File").$join(J.$fetch("imagesdir","./images"),"icons"));if(!1!==x&&x!==f){if((c=z=e["$[]"]("extensions_registry"))===f||c.$$is_boolean&&1!=c)z=(c=a.get("Proc")["$==="](K=e["$[]"]("extensions")))===f||c.$$is_boolean&&1!=c?m.get("Extensions").$$scope.get("Registry").$new():(c=
	(F=m.get("Extensions")).$build_registry,c.$$p=K.$to_proc(),c).call(F);else if((c=!1!==(F=m.get("Extensions").$$scope.get("Registry")["$==="](z))&&F!==f?F:(N=a.get("RUBY_ENGINE_JRUBY"),!1!==N&&N!==f?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](z):N))===f||c.$$is_boolean&&1!=c)z=m.get("Extensions").$$scope.get("Registry").$new();this.extensions=z.$activate(this)}return this.reader=m.get("PreprocessorReader").$new(this,d,m.get("Reader").$$scope.get("Cursor").$new(J["$[]"]("docfile"),
	this.base_dir))});a.defn(r,"$parse",function(a){var e,d,c,g,k,l=f,n=f;null==a&&(a=f);return(e=this.parsed)===f||e.$$is_boolean&&1!=e?(l=this,!1!==a&&a!==f&&(this.reader=m.get("PreprocessorReader").$new(l,a,m.get("Reader").$$scope.get("Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir))),(e=(d=n=(c=this.parent_document)===f||c.$$is_boolean&&1!=c?this.extensions:f,!1!==d&&d!==f?n["$preprocessors?"]():d))===f||e.$$is_boolean&&1!=e||(e=(d=n.$preprocessors()).$each,e.$$p=(g=function(a){var b=
	g.$$s||this,e;null==b.reader&&(b.reader=f);null==a&&(a=f);return b.reader=!1!==(e=a.$process_method()["$[]"](l,b.reader))&&e!==f?e:b.reader},g.$$s=this,g),e).call(d),m.get("Parser").$parse(this.reader,l,b(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),this.$restore_attributes(),(e=(c=!1!==n&&n!==f)?n["$treeprocessors?"]():n)===f||e.$$is_boolean&&1!=e||(e=(c=n.$treeprocessors()).$each,e.$$p=(k=function(a){var b,e,d,c=f;null==a&&(a=f);return(b=(e=(d=c=a.$process_method()["$[]"](l),
	!1!==d&&d!==f?m.get("Document")["$==="](c):d),!1!==e&&e!==f?c["$!="](l):e))===f||b.$$is_boolean&&1!=b?f:l=c},k.$$s=this,k),e).call(c),this.parsed=!0,l):this});a.defn(r,"$counter",function(a,b){var d,c,g=f,m=f;null==b&&(b=f);if((d=(c=g=(m=this.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),!1!==c&&c!==f?this.counters["$key?"](a):c))===f||d.$$is_boolean&&1!=d)(d=b["$nil?"]())===f||d.$$is_boolean&&1!=d?b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()):b=this.$nextval(!1!==g&&g!==f?m:0),this.counters["$[]="](a,
	b);else this.counters["$[]="](a,this.$nextval(m));return this.attributes["$[]="](a,this.counters["$[]"](a))});a.defn(r,"$counter_increment",function(a,b){var d=f,d=this.$counter(a);m.get("AttributeEntry").$new(a,d).$save_to(b.$attributes());return d});a.defn(r,"$nextval",function(b){var e,d=f;return(e=a.get("Integer")["$==="](b))===f||e.$$is_boolean&&1!=e?(d=b.$to_i(),(e=d.$to_s()["$!="](b.$to_s()))===f||e.$$is_boolean&&1!=e?q(d,1):q(b["$[]"](0).$ord(),1).$chr()):q(b,1)});a.defn(r,"$register",function(b,
	e,d){var c,g,m,k=f,l=k=f;null==d&&(d=!1);k=b;"ids"["$==="](k)?(c=a.to_ary([].concat(a.to_a(e))),k=null==c[0]?f:c[0],l=null==c[1]?f:c[1],!1!==(c=l)&&c!==f?c:l=q(q("[",k),"]"),b=!1!==d&&d!==f?this.references["$[]"]("ids")["$[]="](k,l):(c=k,g=this.references["$[]"]("ids"),!1!==(m=g["$[]"](c))&&m!==f?m:g["$[]="](c,l))):b="footnotes"["$==="](k)||"indexterms"["$==="](k)?this.references["$[]"](b)["$<<"](e):(c=this.options["$[]"]("catalog_assets"))===f||c.$$is_boolean&&1!=c?f:this.references["$[]"](b)["$<<"](e);
	return b});a.defn(r,"$footnotes?",function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()});a.defn(r,"$footnotes",function(){return this.references["$[]"]("footnotes")});a.defn(r,"$nested?",function(){return this.parent_document["$!"]()["$!"]()});a.defn(r,"$embedded?",function(){return this.attributes["$key?"]("embedded")});a.defn(r,"$extensions?",function(){return this.extensions["$!"]()["$!"]()});a.defn(r,"$source",function(){var a;return(a=this.reader)===f||a.$$is_boolean&&1!=
	a?f:this.reader.$source()});a.defn(r,"$source_lines",function(){var a;return(a=this.reader)===f||a.$$is_boolean&&1!=a?f:this.reader.$source_lines()});a.defn(r,"$doctype",function(){var a;return!1!==(a=this.doctype)&&a!==f?a:this.doctype=this.attributes["$[]"]("doctype")});a.defn(r,"$backend",function(){var a;return!1!==(a=this.backend)&&a!==f?a:this.backend=this.attributes["$[]"]("backend")});a.defn(r,"$basebackend?",function(a){return this.attributes["$[]"]("basebackend")["$=="](a)});a.defn(r,"$title",
	function(){return this.attributes["$[]"]("title")});a.defn(r,"$title=",function(a){var b,d;!1!==(b=this.header)&&b!==f?b:this.header=m.get("Section").$new(this,0);return b=[a],d=this.header,d["$title="].apply(d,b),b[b.length-1]});a.defn(r,"$doctitle",function(a){var e,d,c=f,g=f,k=f;null==a&&(a=b([],{}));if((e=(c=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==f&&(!e.$$is_boolean||1==e))c=this.$title();else if((e=(d=g=this.$first_section(),!1!==d&&d!==f?g["$title?"]():d))!==f&&(!e.$$is_boolean||
	1==e))c=g.$title();else if((e=(d=a["$[]"]("use_fallback"),!1!==d&&d!==f?c=this.attributes["$[]"]("untitled-label"):d))===f||e.$$is_boolean&&1!=e)return f;return(e=k=a["$[]"]("partition"))===f||e.$$is_boolean&&1!=e?(e=(d=a["$[]"]("sanitize"),!1!==d&&d!==f?c["$include?"]("<"):d))===f||e.$$is_boolean&&1!=e?c:c.$gsub(m.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip():m.get("Title").$new(c,a.$merge(b(["separator"],{separator:k["$=="](!0)?this.attributes["$[]"]("title-separator"):k})))});a.alias(r,"name",
	"doctitle");a.defn(r,"$author",function(){return this.attributes["$[]"]("author")});a.defn(r,"$revdate",function(){return this.attributes["$[]"]("revdate")});a.defn(r,"$notitle",function(){var a;return a=this.attributes["$key?"]("showtitle")["$!"](),!1!==a&&a!==f?this.attributes["$key?"]("notitle"):a});a.defn(r,"$noheader",function(){return this.attributes["$key?"]("noheader")});a.defn(r,"$nofooter",function(){return this.attributes["$key?"]("nofooter")});a.defn(r,"$first_section",function(){var a,
	b,d,c;return(a=this["$has_header?"]())===f||a.$$is_boolean&&1!=a?(a=(b=!1!==(c=this.blocks)&&c!==f?c:[]).$detect,a.$$p=(d=function(a){null==a&&(a=f);return a.$context()["$=="]("section")},d.$$s=this,d),a).call(b):this.header});a.defn(r,"$has_header?",function(){var a;return(a=this.header)===f||a.$$is_boolean&&1!=a?!1:!0});a.alias(r,"header?","has_header?");a.defn(r,"$<<",A=function(b){var e=k.call(arguments,0),d=A.$$p;A.$$p=null;b.$context()["$=="]("section")&&this.$assign_index(b);return a.find_super_dispatcher(this,
	"<<",A,d).apply(this,e)});a.defn(r,"$finalize_header",function(a,b){null==b&&(b=!0);this.$clear_playback_attributes(a);this.$save_attributes();if(!1===b||b===f)a["$[]="]("invalid-header",!0);return a});a.defn(r,"$save_attributes",function(){var a,b,d,c,g=f,k=f,l=f,n=f,p=f,r=f,q=f,n=l=f;if((g=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if((a=!1!==(b=this["$attribute_locked?"]("toc"))&&b!==f?b:this.attributes_modified["$include?"]("toc"))===f||a.$$is_boolean&&1!=a)g["$[]="]("toc","");
	if((a=!1!==(b=this["$attribute_locked?"]("sectnums"))&&b!==f?b:this.attributes_modified["$include?"]("sectnums"))===f||a.$$is_boolean&&1!=a)g["$[]="]("sectnums","")}if((a=!1!==(b=g["$key?"]("doctitle"))&&b!==f?b:(k=this.$doctitle())["$!"]())===f||a.$$is_boolean&&1!=a)g["$[]="]("doctitle",k);if((a=this.id)===f||a.$$is_boolean&&1!=a)this.id=g["$[]"]("css-signature");l=(a=n=(b=g.$delete("toc2"))===f||b.$$is_boolean&&1!=b?g["$[]"]("toc"):"left")===f||a.$$is_boolean&&1!=a?f:(a=(b=p=g.$fetch("toc-placement",
	"macro"),!1!==b&&b!==f?p["$!="]("auto"):b))===f||a.$$is_boolean&&1!=a?g["$[]"]("toc-position"):p;if((a=(b=!1!==n&&n!==f)?!1!==(d=n["$empty?"]()["$!"]())&&d!==f?d:l["$nil_or_empty?"]()["$!"]():n)!==f&&(!a.$$is_boolean||1==a)){r="left";q="toc2";l=(a=l["$nil_or_empty?"]()["$!"]())===f||a.$$is_boolean&&1!=a?(a=n["$empty?"]()["$!"]())===f||a.$$is_boolean&&1!=a?r:n:l;g["$[]="]("toc","");g["$[]="]("toc-placement","auto");n=l;if("left"["$==="](n)||"<"["$==="](n)||"&lt;"["$==="](n))g["$[]="]("toc-position",
	"left");else if("right"["$==="](n)||">"["$==="](n)||"&gt;"["$==="](n))g["$[]="]("toc-position","right");else if("top"["$==="](n)||"^"["$==="](n))g["$[]="]("toc-position","top");else if("bottom"["$==="](n)||"v"["$==="](n))g["$[]="]("toc-position","bottom");else"preamble"["$==="](n)||"macro"["$==="](n)?(g["$[]="]("toc-position","content"),g["$[]="]("toc-placement",l)):g.$delete("toc-position"),q=f;!1!==q&&q!==f&&(a="toc-class",b=g,!1!==(d=b["$[]"](a))&&d!==f?d:b["$[]="](a,q))}if((a=g["$key?"]("compat-mode"))===
	f||a.$$is_boolean&&1!=a)this.compat_mode=!1;else{if((a=g["$has_key?"]("language"))!==f&&(!a.$$is_boolean||1==a))g["$[]="]("source-language",g["$[]"]("language"));this.compat_mode=!0}this.outfilesuffix=g["$[]"]("outfilesuffix");this.header_attributes=g.$dup();return(a=this.parent_document)===f||a.$$is_boolean&&1!=a?(a=(b=m.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(c=function(a){var b=c.$$s||this,e,d;null==b.attribute_overrides&&(b.attribute_overrides=f);null==a&&(a=f);return(e=(d=b.attribute_overrides["$key?"](a),
	!1!==d&&d!==f?b.attribute_overrides["$[]"](a):d))===f||e.$$is_boolean&&1!=e?f:b.attribute_overrides.$delete(a)},c.$$s=this,c),a).call(b):f});a.defn(r,"$restore_attributes",function(){var a;((a=this.parent_document)===f||a.$$is_boolean&&1!=a)&&this.callouts.$rewind();return this.attributes=this.header_attributes});a.defn(r,"$clear_playback_attributes",function(a){return a.$delete("attribute_entries")});a.defn(r,"$playback_attributes",function(a){var b,d,c;return(b=a["$key?"]("attribute_entries"))===
	f||b.$$is_boolean&&1!=b?f:(b=(d=a["$[]"]("attribute_entries")).$each,b.$$p=(c=function(a){var b=c.$$s||this,e,d=f;null==b.attributes&&(b.attributes=f);null==a&&(a=f);d=a.$name();if((e=a.$negate())===f||e.$$is_boolean&&1!=e)return b.attributes["$[]="](d,a.$value()),d["$=="]("compat-mode")?b.compat_mode=!0:f;b.attributes.$delete(d);return d["$=="]("compat-mode")?b.compat_mode=!1:f},c.$$s=this,c),b).call(d)});a.defn(r,"$set_attribute",function(a,b){var d,c=f;if((d=this["$attribute_locked?"](a))===f||
	d.$$is_boolean&&1!=d){c=a;if("backend"["$==="](c))this.$update_backend_attributes(this.$apply_attribute_value_subs(b),this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]());else if("doctype"["$==="](c))this.$update_doctype_attributes(this.$apply_attribute_value_subs(b));else this.attributes["$[]="](a,this.$apply_attribute_value_subs(b));this.attributes_modified["$<<"](a);return!0}return!1});a.defn(r,"$delete_attribute",function(a){var b;return(b=this["$attribute_locked?"](a))===f||b.$$is_boolean&&
	1!=b?(this.attributes.$delete(a),this.attributes_modified["$<<"](a),!0):!1});a.defn(r,"$attribute_locked?",function(a){return this.attribute_overrides["$key?"](a)});a.defn(r,"$apply_attribute_value_subs",function(a){var b,d=f,c=f;if((b=d=m.get("AttributeEntryPassMacroRx").$match(a))===f||b.$$is_boolean&&1!=b)return this.$apply_header_subs(a);if((b=d["$[]"](1)["$empty?"]()["$!"]())===f||b.$$is_boolean&&1!=b)return d["$[]"](2);c=this.$resolve_pass_subs(d["$[]"](1));return(b=c["$empty?"]())===f||b.$$is_boolean&&
	1!=b?this.$apply_subs(d["$[]"](2),c):d["$[]"](2)});a.defn(r,"$update_backend_attributes",function(a,b){var d,c,g=f,k=f,l=f,n=f,p=f,r=k=f,q=f,F=f,r=f;null==b&&(b=!1);if((d=!1!==(c=b)&&c!==f?c:!1!==a&&a!==f?a["$!="](this.attributes["$[]"]("backend")):a)===f||d.$$is_boolean&&1!=d)return f;g=this.attributes;k=g["$[]"]("backend");l=g["$[]"]("basebackend");n=g["$[]"]("doctype");if((d=a["$start_with?"]("xhtml"))!==f&&(!d.$$is_boolean||1==d))g["$[]="]("htmlsyntax","xml"),a=a["$[]"](D(1,-1,!1));else if(!((d=
	a["$start_with?"]("html"))===f||d.$$is_boolean&&1!=d||g["$[]"]("htmlsyntax")["$=="]("xml")))g["$[]="]("htmlsyntax","html");(d=p=m.get("BACKEND_ALIASES")["$[]"](a))===f||d.$$is_boolean&&1!=d||(a=p);!1!==k&&k!==f&&(g.$delete("backend-"+k),!1!==n&&n!==f&&g.$delete("backend-"+k+"-doctype-"+n));!1!==n&&n!==f&&(g["$[]="]("doctype-"+n,""),g["$[]="]("backend-"+a+"-doctype-"+n,""));g["$[]="]("backend",a);g["$[]="]("backend-"+a,"");if((d=m.get("Converter").$$scope.get("BackendInfo")["$==="](this.converter=
	this.$create_converter()))===f||d.$$is_boolean&&1!=d){if(k=a.$sub(m.get("TrailingDigitsRx"),""),q=!1!==(d=m.get("DEFAULT_EXTENSIONS")["$[]"](k))&&d!==f?d:".html",r=q["$[]"](D(1,-1,!1)),(d=this["$attribute_locked?"]("outfilesuffix"))===f||d.$$is_boolean&&1!=d)g["$[]="]("outfilesuffix",q)}else{k=this.converter.$basebackend();if((d=this["$attribute_locked?"]("outfilesuffix"))===f||d.$$is_boolean&&1!=d)g["$[]="]("outfilesuffix",this.converter.$outfilesuffix());r=this.converter.$filetype()}(d=F=g["$[]"]("filetype"))===
	f||d.$$is_boolean&&1!=d||g.$delete("filetype-"+F);g["$[]="]("filetype",r);g["$[]="]("filetype-"+r,"");if((d=r=m.get("DEFAULT_PAGE_WIDTHS")["$[]"](k))===f||d.$$is_boolean&&1!=d)g.$delete("pagewidth");else g["$[]="]("pagewidth",r);if((d=k["$!="](l))!==f&&(!d.$$is_boolean||1==d)&&(!1!==l&&l!==f&&(g.$delete("basebackend-"+l),!1!==n&&n!==f&&g.$delete("basebackend-"+l+"-doctype-"+n)),g["$[]="]("basebackend",k),g["$[]="]("basebackend-"+k,""),!1!==n&&n!==f))g["$[]="]("basebackend-"+k+"-doctype-"+n,"");return this.backend=
	f});a.defn(r,"$update_doctype_attributes",function(a){var b,d=f,c=f,g=f,m=f;if((b=!1!==a&&a!==f?a["$!="](this.attributes["$[]"]("doctype")):a)===f||b.$$is_boolean&&1!=b)return f;d=this.attributes;c=d["$[]"]("doctype");g=d["$[]"]("backend");m=d["$[]"]("basebackend");!1!==c&&c!==f&&(d.$delete("doctype-"+c),!1!==g&&g!==f&&d.$delete("backend-"+g+"-doctype-"+c),!1!==m&&m!==f&&d.$delete("basebackend-"+m+"-doctype-"+c));d["$[]="]("doctype",a);d["$[]="]("doctype-"+a,"");if(!1!==g&&g!==f)d["$[]="]("backend-"+
	g+"-doctype-"+a,"");if(!1!==m&&m!==f)d["$[]="]("basebackend-"+m+"-doctype-"+a,"");return this.doctype=f});a.defn(r,"$create_converter",function(){var d,e=f,c=f,g=f,k=f,l=f,e=b([],{});e["$[]="]("htmlsyntax",this.attributes["$[]"]("htmlsyntax"));c=(d=g=this.options["$[]"]("template_dir"))===f||d.$$is_boolean&&1!=d?(d=c=this.options["$[]"]("template_dirs"))===f||d.$$is_boolean&&1!=d?f:e["$[]="]("template_dirs",c):e["$[]="]("template_dirs",[g]);!1!==c&&c!==f&&(e["$[]="]("template_cache",this.options.$fetch("template_cache",
	!0)),e["$[]="]("template_engine",this.options["$[]"]("template_engine")),e["$[]="]("template_engine_options",this.options["$[]"]("template_engine_options")),e["$[]="]("eruby",this.options["$[]"]("eruby")),e["$[]="]("safe",this.safe));l=(d=k=this.options["$[]"]("converter"))===f||d.$$is_boolean&&1!=d?m.get("Converter").$$scope.get("Factory").$default(!1):m.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](this.$backend(),k));return l.$create(this.$backend(),e)});a.defn(r,"$convert",
	function(a){var e,d,c,g=f,k=f,l=f,p=f;null==a&&(a=b([],{}));((e=this.parsed)===f||e.$$is_boolean&&1!=e)&&this.$parse();if((e=!1!==(d=n(this.safe,m.get("SafeMode").$$scope.get("SERVER")))&&d!==f?d:a["$empty?"]())===f||e.$$is_boolean&&1!=e)((e=this.attributes["$[]="]("outfile",a["$[]"]("outfile")))===f||e.$$is_boolean&&1!=e)&&this.attributes.$delete("outfile"),((e=this.attributes["$[]="]("outdir",a["$[]"]("outdir")))===f||e.$$is_boolean&&1!=e)&&this.attributes.$delete("outdir");((e=this.converter)===
	f||e.$$is_boolean&&1!=e)&&this.$fail("asciidoctor: FAILED: missing converter for backend '"+this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?k=(e=(d=g=this.blocks["$[]"](0),!1!==d&&d!==f?g.$content_model()["$!="]("compound"):d))===f||e.$$is_boolean&&1!=e?f:g.$content():(l=(e=(d=a["$key?"]("header_footer"))===f||d.$$is_boolean&&1!=d?this.options["$[]"]("header_footer"):a["$[]"]("header_footer"))===f||e.$$is_boolean&&1!=e?"embedded":"document",k=this.converter.$convert(this,
	l));!((e=this.parent_document)===f||e.$$is_boolean&&1!=e)||(e=(d=p=this.extensions,!1!==d&&d!==f?p["$postprocessors?"]():d))===f||e.$$is_boolean&&1!=e||(e=(d=p.$postprocessors()).$each,e.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=f);return k=a.$process_method()["$[]"](b,k)},c.$$s=this,c),e).call(d);return k});a.alias(r,"render","convert");a.defn(r,"$write",function(b,e){var d,c,g;if((d=m.get("Writer")["$==="](this.converter))===f||d.$$is_boolean&&1!=d){if((d=e["$respond_to?"]("write"))===f||
	d.$$is_boolean&&1!=d)(d=(c=a.get("File")).$open,d.$$p=(g=function(a){null==a&&(a=f);return a.$write(b)},g.$$s=this,g),d).call(c,e,"w");else if((d=b["$nil_or_empty?"]())===f||d.$$is_boolean&&1!=d)e.$write(b.$chomp()),e.$write(m.get("EOL"));return f}return this.converter.$write(b,e)});a.defn(r,"$content",z=function(){var b=k.call(arguments,0),e=z.$$p;z.$$p=null;this.attributes.$delete("title");return a.find_super_dispatcher(this,"content",z,e).apply(this,b)});a.defn(r,"$docinfo",function(a,e){var d,
	c,g,k,p=f,v=f,B=f,r=f,q=p=f,F=f,v=v=f;null==a&&(a="head");null==e&&(e=f);if(n(this.$safe(),m.get("SafeMode").$$scope.get("SECURE")))return"";p=a["$=="]("footer")?"-footer":f;if(!1===e||e===f)e=this.outfilesuffix;v=this.attributes["$[]"]("docinfodir");B=f;r=(d=(r=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===f||d.$$is_boolean&&1!=d?(d=(c=r.$split(",")).$map,d.$$p="strip".$to_proc(),d).call(c):(d=this.attributes["$key?"]("docinfo2"))===f||d.$$is_boolean&&1!=d?(d=this.attributes["$key?"]("docinfo1"))===
	f||d.$$is_boolean&&1!=d?!1!==r&&r!==f?["private"]:f:["shared"]:["private","shared"];if(!1!==r&&r!==f){p="docinfo"+p+e;if((d=r["$&"](["shared","shared-"+a])["$empty?"]())===f||d.$$is_boolean&&1!=d)q=this.$normalize_system_path(p,v),(d=B=this.$read_asset(q,b(["normalize"],{normalize:!0})))===f||d.$$is_boolean&&1!=d||(d=!1!==(g=F)&&g!==f?g:F=this.$resolve_docinfo_subs())===f||d.$$is_boolean&&1!=d||(B=(d=F["$=="]("attributes"))===f||d.$$is_boolean&&1!=d?this.$apply_subs(B,F):this.$sub_attributes(B));
	if((d=!1!==(g=this.attributes["$[]"]("docname")["$nil_or_empty?"]())&&g!==f?g:r["$&"](["private","private-"+a])["$empty?"]())===f||d.$$is_boolean&&1!=d)q=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+p,v),(d=v=this.$read_asset(q,b(["normalize"],{normalize:!0})))===f||d.$$is_boolean&&1!=d||((d=!1!==(g=F)&&g!==f?g:F=this.$resolve_docinfo_subs())===f||d.$$is_boolean&&1!=d||(v=(d=F["$=="]("attributes"))===f||d.$$is_boolean&&1!=d?this.$apply_subs(v,F):this.$sub_attributes(v)),B=
	!1!==B&&B!==f?""+B+m.get("EOL")+v:v)}(d=(g=this.extensions,!1!==g&&g!==f?this["$docinfo_processors?"](a):g))===f||d.$$is_boolean&&1!=d||(v=l((d=(g=this.docinfo_processor_extensions["$[]"](a)).$map,d.$$p=(k=function(a){var b=k.$$s||this;null==a&&(a=f);return a.$process_method()["$[]"](b)},k.$$s=this,k),d).call(g).$compact(),m.get("EOL")),B=!1!==B&&B!==f?""+B+m.get("EOL")+v:v);return""+B});a.defn(r,"$resolve_docinfo_subs",function(){var a,b=f;if((a=this.attributes["$key?"]("docinfosubs"))===f||a.$$is_boolean&&
	1!=a)return"attributes";b=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",f,"docinfo");return(a=b["$empty?"]())===f||a.$$is_boolean&&1!=a?b:f});a.defn(r,"$docinfo_processors?",function(a){var b,d;null==a&&(a="head");return(b=this.docinfo_processor_extensions["$key?"](a))===f||b.$$is_boolean&&1!=b?(b=(d=this.extensions,!1!==d&&d!==f?this.document.$extensions()["$docinfo_processors?"](a):d))===f||b.$$is_boolean&&1!=b?this.docinfo_processor_extensions["$[]="](a,!1):this.docinfo_processor_extensions["$[]="](a,
	this.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]():this.docinfo_processor_extensions["$[]"](a)["$!="](!1)});return(a.defn(r,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((a=this.header["$!="](f))===f||a.$$is_boolean&&1!=a?f:this.header.$title()).$inspect()+", blocks: "+this.blocks.$size()+"}>"}),f)&&"to_s"})(x.base,x.get("AbstractBlock"))}(a.base)};
	Opal.modules["asciidoctor/inline"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.module,l=a.klass,f=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter".split(" "));return function(k){k=q(k,"Asciidoctor").$$scope;(function(d,$super){function b(){}var k=b=l(d,$super,"Inline",b),q;k.$attr_reader("text");k.$attr_reader("type");k.$attr_accessor("target");a.defn(k,"$initialize",q=function(b,d,k,l){var g,m=n;null==k&&(k=n);null==l&&
	(l=f([],{}));q.$$p=null;a.find_super_dispatcher(this,"initialize",q,null).apply(this,[b,d]);this.node_name="inline_"+d;this.text=k;this.id=l["$[]"]("id");this.type=l["$[]"]("type");this.target=l["$[]"]("target");return(g=(m=l["$[]"]("attributes"))["$nil_or_empty?"]())===n||g.$$is_boolean&&1!=g?this.$update_attributes(m):n});a.defn(k,"$block?",function(){return!1});a.defn(k,"$inline?",function(){return!0});a.defn(k,"$convert",function(){return this.$converter().$convert(this)});return a.alias(k,"render",
	"convert")})(k.base,k.get("AbstractNode"))}(a.base)};
	Opal.modules["asciidoctor/list"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.slice,l=a.module,f=a.klass;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));return function(k){k=l(k,"Asciidoctor").$$scope;(function(d,$super){function b(){}var k=b=f(d,$super,"List",b),l=k.$$proto,y,t;l.context=
	l.document=l.style=n;a.alias(k,"items","blocks");a.alias(k,"content","blocks");a.alias(k,"items?","blocks?");a.defn(k,"$initialize",y=function(b,d){var g=q.call(arguments,0),f=y.$$p;y.$$p=null;return a.find_super_dispatcher(this,"initialize",y,f).apply(this,g)});a.defn(k,"$outline?",function(){var a;return!1!==(a=this.context["$=="]("ulist"))&&a!==n?a:this.context["$=="]("olist")});a.defn(k,"$convert",t=function(){var b=q.call(arguments,0),d=t.$$p,g=n;t.$$p=null;return this.context["$=="]("colist")?
	(g=a.find_super_dispatcher(this,"convert",t,d).apply(this,b),this.document.$callouts().$next_list(),g):a.find_super_dispatcher(this,"convert",t,d).apply(this,b)});a.alias(k,"render","convert");return(a.defn(k,"$to_s",function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"}),n)&&"to_s"})(k.base,k.get("AbstractBlock"));(function(d,$super){function b(){}var k=b=f(d,$super,"ListItem",b),l=
	k.$$proto,q=k.$$scope,t;l.text=l.blocks=n;k.$attr_accessor("marker");a.defn(k,"$initialize",t=function(b,d){null==d&&(d=n);t.$$p=null;a.find_super_dispatcher(this,"initialize",t,null).apply(this,[b,"list_item"]);this.text=d;return this.level=b.$level()});a.defn(k,"$text?",function(){return this.text["$nil_or_empty?"]()["$!"]()});a.defn(k,"$text",function(){return this.$apply_subs(this.text)});a.defn(k,"$simple?",function(){var a,b,d=n;return!1!==(a=this.blocks["$empty?"]())&&a!==n?a:(b=this.blocks.$size()["$=="](1)?
	q.get("List")["$==="](d=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1),!1!==b&&b!==n?d["$outline?"]():b)});a.defn(k,"$compound?",function(){return this["$simple?"]()["$!"]()});a.defn(k,"$fold_first",function(a,b){var d,f,k,l,t,h,e=n,w=n;null==a&&(a=!1);null==b&&(b=!1);(d=(f=(k=e=this.blocks["$[]"](0),!1!==k&&k!==n?q.get("Block")["$==="](e):k),!1!==f&&f!==n?!1!==(k=e.$context()["$=="]("paragraph")?a["$!"]():e.$context()["$=="]("paragraph"))&&k!==n?k:(l=(t=!1!==(h=b)&&h!==n?h:a["$!"](),!1!==t&&
	t!==n?e.$context()["$=="]("literal"):t),!1!==l&&l!==n?e["$option?"]("listparagraph"):l):f))===n||d.$$is_boolean&&1!=d||(w=this.$blocks().$shift(),((d=this.text["$nil_or_empty?"]())===n||d.$$is_boolean&&1!=d)&&w.$lines().$unshift(this.text),this.text=w.$source());return n});return(a.defn(k,"$to_s",function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(!1!==(a=this.blocks)&&a!==n?a:[]).$size()+
	"}>"}),n)&&"to_s"})(k.base,k.get("AbstractBlock"))}(a.base)};
	Opal.modules["asciidoctor/parser"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?
	a<=b:a["$<="](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var b=a.nil,D=a.breaker,x=a.module,y=a.klass,t=a.hash2,p=a.hash,r=a.range,g=a.gvars;a.add_stubs("$new $lambda $start_with? $=~ $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_document_title? $has_key? $finalize_header $nil_or_empty? $attributes $title= $sourcemap $cursor $parse_section_title $id= $set_attribute $delete $source_location= $header $[]= $id $parse_style_attribute $key? $parse_header_metadata $== $doctype $parse_manpage_header $match $sub_attributes $downcase $rstrip $strip $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $tr_s $join $read_lines_until $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $special $include? $sectname $+ $to_i $> $line_info $size $* $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $extensions $block_macros? $=== $parse_block_metadata_line $advance $read_line $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $chr $lstrip $>= $length $end_with? $parse_attributes $attribute_missing $clear $registered_for_block_macro? $config $each $process_method $replace $peek_line $path $- $lineno $next_list_item $callout_ids $callouts $items $next_list $next_outline_list $marker $detect $next_labeled_list $is_section_title? $underline_style_section_titles $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $catalog_inline_anchors $post_match $map! $split $pop $build_block $blockquote? $chop $tr $rekey $next_table $concat $title? $register $basename $sub_specialchars $assign_caption $ord $caption $caption= $title $update $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $< $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $sectname= $special= $update_attributes $peek_lines $is_single_line_section_title? $is_two_line_section_title? $single_line_section_level $abs $line_length $section_level $process_attribute_entries $next_line_empty? $process_authors $is_a? $apply_header_subs $map $each_with_index $zero? $push $to_a $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $delete_attribute $save_to $resolve_ordered_list_marker $chomp $roman_numeral_to_int $parse_col_specs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cell_spec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_matched_delimiter $buffer= $buffer $keep_cell_open $push_cell_spec $close_cell $cell_open? $columns $assign_col_widths $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin $gsub".split(" "));
	return function(m){(function(m,$super){function z(){}var h=z=y(m,$super,"Parser",z),e=h.$$scope,w,E,C,x;a.cdecl(e,"BlockMatchData",e.get("Struct").$new("context","masq","tip","terminator"));a.cdecl(e,"TabRx",/\t/);a.cdecl(e,"TabIndentRx",/^\t+/);a.cdecl(e,"StartOfBlockProc",(w=h.$lambda,w.$$p=(E=function(a){var d=E.$$s||this,c,g;null==a&&(a=b);return!1!==(c=(g=a["$start_with?"]("["),!1!==g&&g!==b?e.get("BlockAttributeLineRx")["$=~"](a):g))&&c!==b?c:d["$is_delimited_block?"](a)},E.$$s=h,E),w).call(h));
	a.cdecl(e,"StartOfListProc",(w=h.$lambda,w.$$p=(C=function(a){null==a&&(a=b);return e.get("AnyListRx")["$=~"](a)},C.$$s=h,C),w).call(h));a.cdecl(e,"StartOfBlockOrListProc",(w=h.$lambda,w.$$p=(x=function(a){var d=x.$$s||this,c,g,h;null==a&&(a=b);return!1!==(c=!1!==(g=d["$is_delimited_block?"](a))&&g!==b?g:(h=a["$start_with?"]("["),!1!==h&&h!==b?e.get("BlockAttributeLineRx")["$=~"](a):h))&&c!==b?c:e.get("AnyListRx")["$=~"](a)},x.$$s=h,x),w).call(h));a.cdecl(e,"NoOp",b);a.defn(h,"$initialize",function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")});
	a.defs(h,"$parse",function(e,d,c){var g,h,f=b,k=b;null==c&&(c=t([],{}));f=this.$parse_document_header(e,d);if((g=c["$[]"]("header_only"))===b||g.$$is_boolean&&1!=g)for(;(h=e["$has_more_lines?"]())!==b&&(!h.$$is_boolean||1==h);)if(h=a.to_ary(this.$next_section(e,d,f)),k=null==h[0]?b:h[0],f=null==h[1]?b:h[1],!1!==k&&k!==b)d["$<<"](k);return d});a.defs(h,"$parse_document_header",function(e,d){var c,g,h=b,f=b,k=b,m=b,l=b,n=b,q=f=l=b,f=f=b,h=this.$parse_block_metadata_lines(e,d);if((c=(g=f=this["$is_next_line_document_title?"](e,
	h),!1!==g&&g!==b?h["$has_key?"]("title"):g))!==b&&(!c.$$is_boolean||1==c))return d.$finalize_header(h,!1);k=b;if((c=(m=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===b||c.$$is_boolean&&1!=c)c=[k=m],g=d,g["$title="].apply(g,c),c[c.length-1];l=b;if(!1!==f&&f!==b){(c=d.$sourcemap())===b||c.$$is_boolean&&1!=c||(n=e.$cursor());c=a.to_ary(this.$parse_section_title(e,d));d["$id="](null==c[0]?b:c[0]);l=null==c[2]?b:c[2];f=null==c[4]?b:c[4];if(!1===k||k===b)c=[k=l],g=d,g["$title="].apply(g,c),
	c[c.length-1];!1!==f&&f!==b||d.$set_attribute("compat-mode","");(c=q=h.$delete("separator"))===b||c.$$is_boolean&&1!=c||d.$set_attribute("title-separator",q);!1!==n&&n!==b&&(c=[n],g=d.$header(),g["$source_location="].apply(g,c),c[c.length-1]);d.$attributes()["$[]="]("doctitle",l);if((c=d.$id())===b||c.$$is_boolean&&1!=c){if(!((c=f=h.$delete(1))===b||c.$$is_boolean&&1!=c||(f=p(1,f),this.$parse_style_attribute(f,e),(c=f["$key?"]("id"))===b||c.$$is_boolean&&1!=c)))h["$[]="]("id",f["$[]"]("id"));c=[h.$delete("id")];
	g=d;g["$id="].apply(g,c);c[c.length-1]}else h.$delete(1),h.$delete("id");this.$parse_header_metadata(e,d)}if((c=!1!==(g=(m=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())&&g!==b?g:m["$=="](l))===b||c.$$is_boolean&&1!=c)c=[k=m],g=d,g["$title="].apply(g,c),c[c.length-1];if(!1!==k&&k!==b)d.$attributes()["$[]="]("doctitle",k);d.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(e,d);return d.$finalize_header(h)});a.defs(h,"$parse_manpage_header",function(a,d){var c,g=b,g=g=b;(c=g=e.get("ManpageTitleVolnumRx").$match(d.$attributes()["$[]"]("doctitle")))===
	b||c.$$is_boolean&&1!=c?(this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),d.$attributes()["$[]="]("mantitle",d.$attributes()["$[]"]("doctitle")),d.$attributes()["$[]="]("manvolnum","1")):(d.$attributes()["$[]="]("mantitle",d.$sub_attributes(g["$[]"](1).$rstrip().$downcase())),d.$attributes()["$[]="]("manvolnum",g["$[]"](2).$strip()));a.$skip_blank_lines();if((c=this["$is_next_line_section?"](a,t([],{})))===b||c.$$is_boolean&&1!=c)return this.$warn("asciidoctor: ERROR: "+
	a.$prev_line_info()+": name section expected");g=this.$initialize_section(a,d,t([],{}));if(g.$level()["$=="](1)){g=a.$read_lines_until(t(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," ");if((c=g=e.get("ManpageNamePurposeRx").$match(g))===b||c.$$is_boolean&&1!=c)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body");d.$attributes()["$[]="]("manname",d.$sub_attributes(g["$[]"](1)));d.$attributes()["$[]="]("manpurpose",g["$[]"](2));
	return d.$backend()["$=="]("manpage")?(d.$attributes()["$[]="]("docname",d.$attributes()["$[]"]("manname")),d.$attributes()["$[]="]("outfilesuffix","."+d.$attributes()["$[]"]("manvolnum"))):b}return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")});a.defs(h,"$next_section",function(d,c,g){var h,f,k,m,p=b,r=b,u=b,z=b,w=b,C=b,E=b,y=b,x=E=b,M=x=x=b,D=b,w=r=b;null==g&&(g=t([],{}));u=r=p=!1;(h=(f=(k=c.$context()["$=="]("document"))?c.$blocks()["$empty?"]():
	c.$context()["$=="]("document"),!1!==f&&f!==b?!1!==(k=!1!==(m=z=c["$has_header?"]())&&m!==b?m:g.$delete("invalid-header"))&&k!==b?k:this["$is_next_line_section?"](d,g)["$!"]():f))===b||h.$$is_boolean&&1!=h?(w=c.$document().$doctype(),C=this.$initialize_section(d,c,g),g=(h=E=g["$[]"]("title"))===b||h.$$is_boolean&&1!=h?t([],{}):t(["title"],{title:E}),E=C.$level(),(h=(f=E["$=="](0))?w["$=="]("book"):E["$=="](0))===b||h.$$is_boolean&&1!=h?y=[n(E,1)]:(r=C.$special()["$!"](),y=(h=(f=C.$special(),!1!==
	f&&f!==b?["preface","appendix"]["$include?"](C.$sectname()):f))===b||h.$$is_boolean&&1!=h?[n(E,1)]:[n(E,2)])):(w=c.$doctype(),(h=!1!==(f=z)&&f!==b?f:(k=w["$=="]("book"))?g["$[]"](1)["$!="]("abstract"):w["$=="]("book"))===b||h.$$is_boolean&&1!=h||(p=u=e.get("Block").$new(c,"preamble",t(["content_model"],{content_model:"compound"})),(h=(f=w["$=="]("book"))?c["$attr?"]("preface-title"):w["$=="]("book"))===b||h.$$is_boolean&&1!=h||(h=[c.$attr("preface-title")],f=p,f["$title="].apply(f,h),h[h.length-1]),
	c["$<<"](p)),C=c,E=0,y=(h=c.$attributes()["$has_key?"]("fragment"))===b||h.$$is_boolean&&1!=h?w["$=="]("book")?[0,1]:[1]:b);for(d.$skip_blank_lines();(f=d["$has_more_lines?"]())!==b&&(!f.$$is_boolean||1==f);){this.$parse_block_metadata_lines(d,C,g);if((f=x=this["$is_next_line_section?"](d,g))===b||f.$$is_boolean&&1!=f)(x=d.$line_info(),(f=M=this.$next_block(d,!1!==(k=u)&&k!==b?k:C,g,t(["parse_metadata"],{parse_metadata:!1})))===b||f.$$is_boolean&&1!=f)||(!1!==r&&r!==b&&((f=C["$blocks?"]()["$!"]())===
	b||f.$$is_boolean&&1!=f?C.$blocks().$size()["$=="](1)&&((D=C.$blocks()["$[]"](0),(f=(k=u["$!"](),!1!==k&&k!==b?D.$content_model()["$=="]("compound"):k))===b||f.$$is_boolean&&1!=f)?(f=D.$content_model()["$!="]("compound"))===b||f.$$is_boolean&&1!=f||(u=e.get("Block").$new(C,"open",t(["content_model"],{content_model:"compound"})),f=["partintro"],k=u,k["$style="].apply(k,f),f[f.length-1],C.$blocks().$shift(),D.$style()["$=="]("partintro")&&(f=["paragraph"],k=D,k["$context="].apply(k,f),f[f.length-1],
	f=[b],k=D,k["$style="].apply(k,f),f[f.length-1]),f=[u],k=D,k["$parent="].apply(k,f),f[f.length-1],u["$<<"](D),f=[u],k=M,k["$parent="].apply(k,f),f[f.length-1],C["$<<"](u)):this.$warn("asciidoctor: ERROR: "+x+": illegal block content outside of partintro block")):(f=M.$style()["$!="]("partintro"))===b||f.$$is_boolean&&1!=f||(M.$context()["$=="]("paragraph")?(f=["open"],k=M,k["$context="].apply(k,f),f[f.length-1],f=["partintro"],k=M,k["$style="].apply(k,f),f[f.length-1]):(u=e.get("Block").$new(C,"open",
	t(["content_model"],{content_model:"compound"})),f=["partintro"],k=u,k["$style="].apply(k,f),f[f.length-1],f=[u],k=M,k["$parent="].apply(k,f),f[f.length-1],C["$<<"](u)))),(!1!==(f=u)&&f!==b?f:C)["$<<"](M),g=t([],{}));else if(x=n(x,C.$document().$attr("leveloffset",0).$to_i()),(f=!1!==(k=q(x,E))&&k!==b?k:C.$context()["$=="]("document")?x["$=="](0):C.$context()["$=="]("document"))===b||f.$$is_boolean&&1!=f){(f=(k=x["$=="](0))?w["$!="]("book"):x["$=="](0))===b||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: ERROR: "+
	d.$line_info()+": only book doctypes can contain level 0 sections");break}else(f=(k=x["$=="](0))?w["$!="]("book"):x["$=="](0))===b||f.$$is_boolean&&1!=f?(f=(k=!1!==y&&y!==b)?y["$include?"](x)["$!"]():y)===b||f.$$is_boolean&&1!=f||this.$warn(n(n("asciidoctor: WARNING: "+d.$line_info()+": section title out of sequence: ","expected "+(q(y.$size(),1)?"levels":"level")+" "+l(y," or ")+", "),"got level "+x)):this.$warn("asciidoctor: ERROR: "+d.$line_info()+": only book doctypes can contain level 0 sections"),
	f=a.to_ary(this.$next_section(d,C,g)),x=null==f[0]?b:f[0],g=null==f[1]?b:f[1],C["$<<"](x);d.$skip_blank_lines()}if(!1!==r&&r!==b)((h=(f=C["$blocks?"](),!1!==f&&f!==b?C.$blocks()["$[]"](-1).$context()["$=="]("section"):f))===b||h.$$is_boolean&&1!=h)&&this.$warn("asciidoctor: ERROR: "+d.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==p&&p!==b)if(r=c,(h=p["$blocks?"]())===b||h.$$is_boolean&&1!=h)r.$blocks().$shift();else if((h=(f=(k=e.get("Compliance").$unwrap_standalone_preamble(),
	!1!==k&&k!==b?r.$blocks().$size()["$=="](1):k),!1!==f&&f!==b?w["$!="]("book"):f))!==b&&(!h.$$is_boolean||1==h))for(r.$blocks().$shift();(f=w=p.$blocks().$shift())!==b&&(!f.$$is_boolean||1==f);)f=[r],k=w,k["$parent="].apply(k,f),f[f.length-1],r["$<<"](w);return[(h=C["$!="](c))===b||h.$$is_boolean&&1!=h?b:C,g.$dup()]});a.defs(h,"$next_block",function(d,c,g,h){var m,l,p,u,w,z,C,E,x,y,M,D=b,Z=b,aa=b,S=b,da=b,W=b,G=b,ea=b,H=b,X=b,ka=b,ia=b,ja=b,ba=b,Y=w=b,na=b,ga=b,ca=b,fa=ca=b,la=w=ca=w=b,ha=ca=H=H=b,
	ra=b,oa=b,pa=w=H=H=ha=ca=w=H=ha=b,qa=ba=Y=w=ca=w=w=b,ta=b,ua=b,va=ba=Y=Y=b,sa=D=b,wa=b;null==g&&(g=t([],{}));null==h&&(h=t([],{}));D=d.$skip_blank_lines();if((m=d["$has_more_lines?"]())===b||m.$$is_boolean&&1!=m)return b;(m=(l=Z=h["$[]"]("text"),!1!==l&&l!==b?q(D,0):l))===b||m.$$is_boolean&&1!=m||(h.$delete("text"),Z=!1);aa=h.$fetch("parse_metadata",!0);S=c.$document();(m=da=S.$extensions())===b||m.$$is_boolean&&1!=m?W=G=!1:(W=da["$blocks?"](),G=da["$block_macros?"]());ea=e.get("ListItem")["$==="](c);
	ka=X=H=b;ia=S.$sourcemap();for(ja=b;(l=(p=H["$!"](),!1!==p&&p!==b?d["$has_more_lines?"]():p))!==b&&(!l.$$is_boolean||1==l);)if((l=(p=!1!==aa&&aa!==b)?this.$parse_block_metadata_line(d,S,g,h):aa)===b||l.$$is_boolean&&1!=l){!1!==ia&&ia!==b&&(ja=d.$cursor());ba=d.$read_line();w=!1;ga=na=Y=b;(l=g["$[]"](1))===b||l.$$is_boolean&&1!=l||(l=a.to_ary(this.$parse_style_attribute(g,d)),X=null==l[0]?b:l[0],ka=null==l[1]?b:l[1]);(l=ca=this["$is_delimited_block?"](ba,!0))===b||l.$$is_boolean&&1!=l||((w=!0,Y=na=
	ca.$context(),ga=ca.$terminator(),(l=X["$!"]())===b||l.$$is_boolean&&1!=l)?(l=X["$!="](Y.$to_s()))===b||l.$$is_boolean&&1!=l||((l=ca.$masq()["$include?"](X))===b||l.$$is_boolean&&1!=l?(l=(p=ca.$masq()["$include?"]("admonition"),!1!==p&&p!==b?e.get("ADMONITION_STYLES")["$include?"](X):p))===b||l.$$is_boolean&&1!=l?(l=(p=!1!==W&&W!==b)?da["$registered_for_block?"](X,Y):W)===b||l.$$is_boolean&&1!=l?(this.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for "+Y+" block: "+X),X=Y.$to_s()):
	Y=X.$to_sym():Y="admonition":Y=X.$to_sym()):X=g["$[]="]("style",Y.$to_s()));if(!1===w||w===b)for(;(p=!0)!==b&&(!p.$$is_boolean||1==p);){if((p=(u=(w=!1!==X&&X!==b)?e.get("Compliance").$strict_verbatim_paragraphs():X,!1!==u&&u!==b?e.get("VERBATIM_STYLES")["$include?"](X):u))!==b&&(!p.$$is_boolean||1==p)){Y=X.$to_sym();d.$unshift_line(ba);break}if(!1===Z||Z===b)if(ca=(p=e.get("Compliance").$markdown_syntax())===b||p.$$is_boolean&&1!=p?ba.$chr():ba.$lstrip().$chr(),(p=(u=(w=e.get("LAYOUT_BREAK_LINES")["$has_key?"](ca),
	!1!==w&&w!==b?f(ba.$length(),3):w),!1!==u&&u!==b?((w=e.get("Compliance").$markdown_syntax())===b||w.$$is_boolean&&1!=w?e.get("LayoutBreakLineRx"):e.get("LayoutBreakLinePlusRx"))["$=~"](ba):u))!==b&&(!p.$$is_boolean||1==p)){H=e.get("Block").$new(c,e.get("LAYOUT_BREAK_LINES")["$[]"](ca),t(["content_model"],{content_model:"empty"}));break}else if((p=(u=ba["$end_with?"]("]"),!1!==u&&u!==b?fa=e.get("MediaBlockMacroRx").$match(ba):u))!==b&&(!p.$$is_boolean||1==p)){w=fa["$[]"](1).$to_sym();H=e.get("Block").$new(c,
	w,t(["content_model"],{content_model:"empty"}));ca=w["$=="]("image")?["alt","width","height"]:w["$=="]("video")?["poster","width","height"]:[];if((p=!1!==(u=X["$!"]())&&u!==b?u:ka)===b||p.$$is_boolean&&1!=p){if(w["$=="]("image"))g["$[]="]("alt",X);g.$delete("style");X=b}H.$parse_attributes(fa["$[]"](3),ca,t(["unescape_input","sub_input","sub_result","into"],{unescape_input:w["$=="]("image"),sub_input:!0,sub_result:!1,into:g}));w=H.$sub_attributes(fa["$[]"](2),t(["attribute_missing"],{attribute_missing:"drop-line"}));
	if((p=w["$empty?"]())!==b&&(!p.$$is_boolean||1==p)){if(S.$attributes().$fetch("attribute-missing",e.get("Compliance").$attribute_missing())["$=="]("skip"))return e.get("Block").$new(c,"paragraph",t(["content_model","source"],{content_model:"simple",source:[ba]}));g.$clear();return b}g["$[]="]("target",w);break}else if((p=(u=ca["$=="]("t"))?fa=e.get("TocBlockMacroRx").$match(ba):ca["$=="]("t"))!==b&&(!p.$$is_boolean||1==p)){H=e.get("Block").$new(c,"toc",t(["content_model"],{content_model:"empty"}));
	H.$parse_attributes(fa["$[]"](1),[],t(["sub_result","into"],{sub_result:!1,into:g}));break}else if((p=(u=(w=!1!==G&&G!==b)?fa=e.get("GenericBlockMacroRx").$match(ba):G,!1!==u&&u!==b?la=da["$registered_for_block_macro?"](fa["$[]"](1)):u))!==b&&(!p.$$is_boolean||1==p)){w=fa["$[]"](2);H=fa["$[]"](3);if(la.$config()["$[]"]("content_model")["$=="]("attributes"))((p=H["$empty?"]())===b||p.$$is_boolean&&1!=p)&&S.$parse_attributes(H,!1!==(p=la.$config()["$[]"]("pos_attrs"))&&p!==b?p:[],t(["sub_input","sub_result",
	"into"],{sub_input:!0,sub_result:!1,into:g}));else g["$[]="]("text",H);(p=H=la.$config()["$[]"]("default_attrs"))===b||p.$$is_boolean&&1!=p||(p=(u=H).$each,p.$$p=(z=function(a,e){var d,c,h;null==a&&(a=b);null==e&&(e=b);return d=a,c=g,!1!==(h=c["$[]"](d))&&h!==b?h:c["$[]="](d,e)},z.$$s=this,z),p).call(u);if((p=H=la.$process_method()["$[]"](c,w,g.$dup()))===b||p.$$is_boolean&&1!=p)return g.$clear(),b;g.$replace(H.$attributes());break}if((p=fa=e.get("CalloutListRx").$match(ba))!==b&&(!p.$$is_boolean||
	1==p)){H=e.get("List").$new(c,"colist");g["$[]="]("style","arabic");d.$unshift_line(ba);for(ca=1;(w=!1!==(C=fa)&&C!==b?C:(E=d["$has_more_lines?"](),!1!==E&&E!==b?fa=e.get("CalloutListRx").$match(d.$peek_line()):E))!==b&&(!w.$$is_boolean||1==w);){(w=fa["$[]"](1).$to_i()["$!="](ca))===b||w.$$is_boolean&&1!=w||this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+k(d.$lineno(),2)+": callout list item index: expected "+ca+" got "+fa["$[]"](1));ha=this.$next_list_item(d,H,fa);ca=n(ca,1);if(!1!==ha&&
	ha!==b)if(H["$<<"](ha),ra=S.$callouts().$callout_ids(H.$items().$size()),(w=ra["$empty?"]()["$!"]())===b||w.$$is_boolean&&1!=w)this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+k(d.$lineno(),2)+": no callouts refer to list item "+H.$items().$size());else ha.$attributes()["$[]="]("coids",ra);fa=b}S.$callouts().$next_list();break}else if((p=e.get("UnorderedListRx")["$=~"](ba))!==b&&(!p.$$is_boolean||1==p)){d.$unshift_line(ba);H=this.$next_outline_list(d,"ulist",c);break}else if((p=fa=e.get("OrderedListRx").$match(ba))!==
	b&&(!p.$$is_boolean||1==p)){d.$unshift_line(ba);H=this.$next_outline_list(d,"olist",c);if((p=(w=g["$[]"]("style")["$!"](),!1!==w&&w!==b?H.$attributes()["$[]"]("style")["$!"]():w))!==b&&(!p.$$is_boolean||1==p))if(oa=H.$items()["$[]"](0).$marker(),(p=oa["$start_with?"]("."))===b||p.$$is_boolean&&1!=p)X=(p=(w=e.get("ORDERED_LIST_STYLES")).$detect,p.$$p=(x=function(a){null==a&&(a=b);return e.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](oa)},x.$$s=this,x),p).call(w),g["$[]="]("style",(!1!==(p=X)&&p!==
	b?p:e.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());else g["$[]="]("style",(!1!==(p=e.get("ORDERED_LIST_STYLES")["$[]"](k(oa.$length(),1)))&&p!==b?p:e.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());break}else if((p=fa=e.get("DefinitionListRx").$match(ba))!==b&&(!p.$$is_boolean||1==p)){d.$unshift_line(ba);H=this.$next_labeled_list(d,fa,c);break}else if((p=(C=!1!==(E=X["$=="]("float"))&&E!==b?E:X["$=="]("discrete"),!1!==C&&C!==b?this["$is_section_title?"](ba,(E=e.get("Compliance").$underline_style_section_titles())===
	b||E.$$is_boolean&&1!=E?b:d.$peek_line(!0)):C))!==b&&(!p.$$is_boolean||1==p)){d.$unshift_line(ba);p=a.to_ary(this.$parse_section_title(d,S));ha=null==p[0]?b:p[0];H=null==p[1]?b:p[1];w=null==p[2]?b:p[2];ca=null==p[3]?b:p[3];if(!1!==H&&H!==b)g["$[]="]("reftext",H);(p=g["$has_key?"]("id"))===b||p.$$is_boolean&&1!=p||(!1!==(p=ha)&&p!==b?p:ha=g["$[]"]("id"));H=e.get("Block").$new(c,"floating_title",t(["content_model"],{content_model:"empty"}));(p=ha["$nil_or_empty?"]())===b||p.$$is_boolean&&1!=p?p=[ha]:
	(ha=e.get("Section").$new(c),p=[w],C=ha,C["$title="].apply(C,p),p[p.length-1],p=[ha.$generate_id()]);C=H;C["$id="].apply(C,p);p[p.length-1];p=[ca];C=H;C["$level="].apply(C,p);p[p.length-1];p=[w];C=H;C["$title="].apply(C,p);p[p.length-1];break}else if((p=(C=!1!==X&&X!==b)?X["$!="]("normal"):X)!==b&&(!p.$$is_boolean||1==p))if((p=e.get("PARAGRAPH_STYLES")["$include?"](X))===b||p.$$is_boolean&&1!=p)if((p=e.get("ADMONITION_STYLES")["$include?"](X))===b||p.$$is_boolean&&1!=p)if((p=(C=!1!==W&&W!==b)?da["$registered_for_block?"](X,
	"paragraph"):W)===b||p.$$is_boolean&&1!=p)this.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for paragraph: "+X),X=b;else{Y=X.$to_sym();na="paragraph";d.$unshift_line(ba);break}else{Y="admonition";na="paragraph";d.$unshift_line(ba);break}else{Y=X.$to_sym();na="paragraph";d.$unshift_line(ba);break}H=(p=D["$=="](0))?ea:D["$=="](0);if((p=(C=X["$!="]("normal"),!1!==C&&C!==b?e.get("LiteralParagraphRx")["$=~"](ba):C))===b||p.$$is_boolean&&1!=p){d.$unshift_line(ba);H=this.$read_paragraph_lines(d,
	H,t(["skip_line_comments"],{skip_line_comments:!0}));if((p=H["$empty?"]())!==b&&(!p.$$is_boolean||1==p))return d.$advance(),b;this.$catalog_inline_anchors(H.$join(e.get("EOL")),S);w=H["$[]"](0);if((p=(C=Z["$!"](),!1!==C&&C!==b?pa=e.get("AdmonitionParagraphRx").$match(w):C))===b||p.$$is_boolean&&1!=p)if((p=(C=(E=Z["$!"](),!1!==E&&E!==b?e.get("Compliance").$markdown_syntax():E),!1!==C&&C!==b?w["$start_with?"]("> "):C))===b||p.$$is_boolean&&1!=p)if((p=(E=Z["$!"](),!1!==E&&E!==b?this["$blockquote?"](H,
	w):E))===b||p.$$is_boolean&&1!=p){if(X["$=="]("normal"))this["$adjust_indentation!"](H);H=e.get("Block").$new(c,"paragraph",t(["content_model","source","attributes"],{content_model:"simple",source:H,attributes:g}))}else{H["$[]="](0,w["$[]"](r(1,-1,!1)));p=a.to_ary(H.$pop()["$[]"](r(3,-1,!1)).$split(", ",2));w=null==p[0]?b:p[0];for(ca=null==p[1]?b:p[1];(E=H["$[]"](-1)["$empty?"]())!==b&&(!E.$$is_boolean||1==E);)H.$pop();H["$[]="](-1,H["$[]"](-1).$chop());g["$[]="]("style","quote");if(!1!==w&&w!==b)g["$[]="]("attribution",
	w);if(!1!==ca&&ca!==b)g["$[]="]("citetitle",ca);H=e.get("Block").$new(c,"quote",t(["content_model","source","attributes"],{content_model:"simple",source:H,attributes:g}))}else{(p=(C=H)["$map!"],p.$$p=(y=function(a){var e;null==a&&(a=b);return a["$=="](">")?a["$[]"](r(1,-1,!1)):(e=a["$start_with?"]("> "))===b||e.$$is_boolean&&1!=e?a:a["$[]"](r(2,-1,!1))},y.$$s=this,y),p).call(C);if((p=H["$[]"](-1)["$start_with?"]("-- "))===b||p.$$is_boolean&&1!=p)p=a.to_ary(b),w=null==p[0]?b:p[0],ca=null==p[1]?b:p[1];
	else for(p=a.to_ary(H.$pop()["$[]"](r(3,-1,!1)).$split(", ",2)),w=null==p[0]?b:p[0],ca=null==p[1]?b:p[1];(E=H["$[]"](-1)["$empty?"]())!==b&&(!E.$$is_boolean||1==E);)H.$pop();g["$[]="]("style","quote");if(!1!==w&&w!==b)g["$[]="]("attribution",w);if(!1!==ca&&ca!==b)g["$[]="]("citetitle",ca);H=this.$build_block("quote","compound",!1,c,e.get("Reader").$new(H),g)}else H["$[]="](0,pa.$post_match().$lstrip()),g["$[]="]("style",pa["$[]"](1)),g["$[]="]("name",w=pa["$[]"](1).$downcase()),p="caption",C=g,!1!==
	(E=C["$[]"](p))&&E!==b?E:C["$[]="](p,S.$attributes()["$[]"](""+w+"-caption")),H=e.get("Block").$new(c,"admonition",t(["content_model","source","attributes"],{content_model:"simple",source:H,attributes:g}))}else d.$unshift_line(ba),H=this.$read_paragraph_lines(d,H,t(["skip_line_comments"],{skip_line_comments:Z})),this["$adjust_indentation!"](H),H=e.get("Block").$new(c,"literal",t(["content_model","source","attributes"],{content_model:"verbatim",source:H,attributes:g})),!1!==ea&&ea!==b&&H.$set_option("listparagraph");
	break}if((l=(p=H["$!"](),!1!==p&&p!==b?Y:p))!==b&&(!l.$$is_boolean||1==l))if((l=!1!==(p=Y["$=="]("abstract"))&&p!==b?p:Y["$=="]("partintro"))===b||l.$$is_boolean&&1!=l||(Y="open"),w=Y,"admonition"["$==="](w))g["$[]="]("name",w=X.$downcase()),l="caption",p=g,!1!==(E=p["$[]"](l))&&E!==b?E:p["$[]="](l,S.$attributes()["$[]"](""+w+"-caption")),H=this.$build_block(Y,"compound",ga,c,d,g);else{if("comment"["$==="](w))return this.$build_block(Y,"skip",ga,c,d,g),b;if("example"["$==="](w))H=this.$build_block(Y,
	"compound",ga,c,d,g);else if("listing"["$==="](w)||"fenced_code"["$==="](w)||"source"["$==="](w)){if(Y["$=="]("fenced_code")){X=g["$[]="]("style","source");l=a.to_ary(ba["$[]"](r(3,-1,!1)).$tr(" ","").$split(",",2));Y=null==l[0]?b:l[0];ba=null==l[1]?b:l[1];if((l=Y["$nil_or_empty?"]()["$!"]())!==b&&(!l.$$is_boolean||1==l)){if(g["$[]="]("language",Y),(l=ba["$nil_or_empty?"]())===b||l.$$is_boolean&&1!=l)g["$[]="]("linenums","")}else if((l=qa=S.$attributes()["$[]"]("source-language"))!==b&&(!l.$$is_boolean||
	1==l))g["$[]="]("language",qa);if((l=(p=g["$key?"]("indent")["$!"](),!1!==p&&p!==b?S.$attributes()["$key?"]("source-indent"):p))!==b&&(!l.$$is_boolean||1==l))g["$[]="]("indent",S.$attributes()["$[]"]("source-indent"));ga=ga["$[]"](r(0,2,!1))}else if(Y["$=="]("source")){e.get("AttributeList").$rekey(g,[b,"language","linenums"]);if(((l=g["$key?"]("language"))===b||l.$$is_boolean&&1!=l)&&(l=qa=S.$attributes()["$[]"]("source-language"))!==b&&(!l.$$is_boolean||1==l))g["$[]="]("language",qa);if((l=(p=g["$key?"]("indent")["$!"](),
	!1!==p&&p!==b?S.$attributes()["$key?"]("source-indent"):p))!==b&&(!l.$$is_boolean||1==l))g["$[]="]("indent",S.$attributes()["$[]"]("source-indent"))}H=this.$build_block("listing","verbatim",ga,c,d,g)}else if("literal"["$==="](w))H=this.$build_block(Y,"verbatim",ga,c,d,g);else if("pass"["$==="](w))H=this.$build_block(Y,"raw",ga,c,d,g);else if("stem"["$==="](w)||"latexmath"["$==="](w)||"asciimath"["$==="](w)){if(Y["$=="]("stem"))g["$[]="]("style",(l=ta=g["$[]"](2))===b||l.$$is_boolean&&1!=l?(l=(ua=
	S.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===b||l.$$is_boolean&&1!=l?ua:"asciimath":(l=ta["$include?"]("tex"))===b||l.$$is_boolean&&1!=l?"asciimath":"latexmath");H=this.$build_block("stem","raw",ga,c,d,g)}else if("open"["$==="](w)||"sidebar"["$==="](w))H=this.$build_block(Y,"compound",ga,c,d,g);else if("table"["$==="](w)){Y=d.$cursor();Y=e.get("Reader").$new(d.$read_lines_until(t(["terminator","skip_line_comments"],{terminator:ga,skip_line_comments:!0})),Y);w=ga.$chr();if(","["$==="](w))g["$[]="]("format",
	"csv");else if(":"["$==="](w))g["$[]="]("format","dsv");H=this.$next_table(Y,c,g)}else if("quote"["$==="](w)||"verse"["$==="](w))e.get("AttributeList").$rekey(g,[b,"attribution","citetitle"]),H=this.$build_block(Y,Y["$=="]("verse")?"verbatim":"compound",ga,c,d,g);else if((l=(p=!1!==W&&W!==b)?la=da["$registered_for_block?"](Y,na):W)===b||l.$$is_boolean&&1!=l)this.$raise("Unsupported block type "+Y+" at "+d.$line_info());else if((l=(ba=la.$config()["$[]"]("content_model"))["$!="]("skip"))===b||l.$$is_boolean&&
	1!=l||((l=(va=!1!==(p=la.$config()["$[]"]("pos_attrs"))&&p!==b?p:[])["$empty?"]()["$!"]())===b||l.$$is_boolean&&1!=l||e.get("AttributeList").$rekey(g,[b].$concat(va)),(l=H=la.$config()["$[]"]("default_attrs"))===b||l.$$is_boolean&&1!=l||(l=(p=H).$each,l.$$p=(M=function(a,e){var d,c,h;null==a&&(a=b);null==e&&(e=b);return d=a,c=g,!1!==(h=c["$[]"](d))&&h!==b?h:c["$[]="](d,e)},M.$$s=this,M),l).call(p)),H=this.$build_block(Y,ba,ga,c,d,g,t(["extension"],{extension:la})),(l=(E=!1!==H&&H!==b)?ba["$!="]("skip"):
	H)===b||l.$$is_boolean&&1!=l)return g.$clear(),b}}else d.$advance();if(!1!==H&&H!==b){!1!==ja&&ja!==b&&(m=[ja],l=H,l["$source_location="].apply(l,m),m[m.length-1]);if((m=H["$title?"]())===b||m.$$is_boolean&&1!=m)m=[g["$[]"]("title")],l=H,l["$title="].apply(l,m),m[m.length-1];if(H.$context()["$=="]("image")){if(D=g["$[]"]("target"),H.$document().$register("images",D),m="alt",l=g,!1!==(E=l["$[]"](m))&&E!==b?E:l["$[]="](m,e.get("Helpers").$basename(D,!0).$tr("_-"," ")),g["$[]="]("alt",H.$sub_specialchars(g["$[]"]("alt"))),
	H.$assign_caption(g.$delete("caption"),"figure"),!((m=sa=g["$[]"]("scaledwidth"))===b||m.$$is_boolean&&1!=m||(m=r(48,57,!1)["$include?"]((!1!==(l=sa["$[]"](-1))&&l!==b?l:0).$ord()))===b||m.$$is_boolean&&1!=m))g["$[]="]("scaledwidth",""+sa+"%")}else m=H,!1!==(l=m.$caption())&&l!==b?l:m["$caption="](g.$delete("caption"));m=[g["$[]"]("style")];l=H;l["$style="].apply(l,m);m[m.length-1];(m=wa=(l=H,!1!==(E=l.$id())&&E!==b?E:l["$id="](g["$[]"]("id"))))===b||m.$$is_boolean&&1!=m||S.$register("ids",[wa,!1!==
	(m=g["$[]"]("reftext"))&&m!==b?m:(l=H["$title?"]())===b||l.$$is_boolean&&1!=l?b:H.$title()]);((m=g["$empty?"]())===b||m.$$is_boolean&&1!=m)&&H.$attributes().$update(g);H.$lock_in_subs();(m=H["$sub?"]("callouts"))===b||m.$$is_boolean&&1!=m||!((m=this.$catalog_callouts(H.$source(),S))===b||m.$$is_boolean&&1!=m)||H.$remove_sub("callouts")}return H});a.defs(h,"$blockquote?",function(a,e){var d,c,g;null==e&&(e=b);return d=(c=q(a.$size(),1)?(!1!==(g=e)&&g!==b?g:a["$[]"](0))["$start_with?"]('"'):q(a.$size(),
	1),!1!==c&&c!==b?a["$[]"](-1)["$start_with?"]("-- "):c),!1!==d&&d!==b?a["$[]"](-2)["$end_with?"]('"'):d});a.defs(h,"$read_paragraph_lines",function(a,d,c){var g,h=b;null==c&&(c=t([],{}));c["$[]="]("break_on_blank_lines",!0);c["$[]="]("break_on_list_continuation",!0);c["$[]="]("preserve_last_line",!0);h=!1!==d&&d!==b?(g=e.get("Compliance").$block_terminates_paragraph())===b||g.$$is_boolean&&1!=g?e.get("StartOfListProc"):e.get("StartOfBlockOrListProc"):(g=e.get("Compliance").$block_terminates_paragraph())===
	b||g.$$is_boolean&&1!=g?e.get("NoOp"):e.get("StartOfBlockProc");return(g=a.$read_lines_until,g.$$p=h.$to_proc(),g).call(a,c)});a.defs(h,"$is_delimited_block?",function(g,h){var f,m,p=b,n=b,w=b,u=b,w=p=m=b;null==h&&(h=!1);if((f=(m=q(p=g.$length(),1))?e.get("DELIMITED_BLOCK_LEADERS")["$include?"](g["$[]"](r(0,1,!1))):q(p=g.$length(),1))===b||f.$$is_boolean&&1!=f)return b;if(p["$=="](2))n=g,w=2;else{d(p,4)?(n=g,w=p):(n=g["$[]"](r(0,3,!1)),w=4);u=!1;if((f=e.get("Compliance").$markdown_syntax())!==b&&
	(!f.$$is_boolean||1==f)&&(m=w["$=="](4)?n.$chop():n,m["$=="]("```"))){if((f=w["$=="](4)?n["$end_with?"]("`"):w["$=="](4))!==b&&(!f.$$is_boolean||1==f))return b;n=m;w=3;u=!0}if((f=(m=w["$=="](3))?u["$!"]():w["$=="](3))!==b&&(!f.$$is_boolean||1==f))return b}return(f=e.get("DELIMITED_BLOCKS")["$has_key?"](n))===b||f.$$is_boolean&&1!=f?b:(f=!1!==(m=c(w,4))&&m!==b?m:w["$=="](p))===b||f.$$is_boolean&&1!=f?(""+n+l(n["$[]"](r(-1,-1,!1)),k(p,w)))["$=="](g)?!1!==h&&h!==b?(f=a.to_a(e.get("DELIMITED_BLOCKS")["$[]"](n)),
	p=null==f[0]?b:f[0],w=null==f[1]?b:f[1],e.get("BlockMatchData").$new(p,w,n,g)):!0:b:!1!==h&&h!==b?(f=a.to_a(e.get("DELIMITED_BLOCKS")["$[]"](n)),p=null==f[0]?b:f[0],w=null==f[1]?b:f[1],e.get("BlockMatchData").$new(p,w,n,n)):!0});a.defs(h,"$build_block",function(a,d,c,g,h,f,k){var m,l,p=b,n=b,r=p=n=b,r=r=r=r=b;null==k&&(k=t([],{}));(m=!1!==(l=d["$=="]("skip"))&&l!==b?l:d["$=="]("raw"))===b||m.$$is_boolean&&1!=m?(p=!1,n=d):(p=d["$=="]("skip"),n="simple");(m=c["$nil?"]())===b||m.$$is_boolean&&1!=m?(m=
	n["$!="]("compound"))===b||m.$$is_boolean&&1!=m?c["$=="](!1)?(n=b,p=h):(n=b,r=h.$cursor(),p=e.get("Reader").$new(h.$read_lines_until(t(["terminator","skip_processing"],{terminator:c,skip_processing:p})),r)):(n=h.$read_lines_until(t(["terminator","skip_processing"],{terminator:c,skip_processing:p})),p=b):(n["$=="]("verbatim")?n=h.$read_lines_until(t(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(d["$=="]("compound")&&(d="simple"),n=
	this.$read_paragraph_lines(h,!1,t(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),p=b);if(d["$=="]("skip"))return f.$clear(),n;if(d["$=="]("verbatim"))if((m=r=f["$[]"]("indent"))!==b&&(!m.$$is_boolean||1==m))this["$adjust_indentation!"](n,r,!1!==(m=f["$[]"]("tabsize"))&&m!==b?m:g.$document().$attributes()["$[]"]("tabsize"));else if(q(r=(!1!==(m=f["$[]"]("tabsize"))&&m!==b?m:g.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))this["$adjust_indentation!"](n,
	b,r);if((m=r=k["$[]"]("extension"))===b||m.$$is_boolean&&1!=m)r=e.get("Block").$new(g,a,t(["content_model","source","attributes"],{content_model:d,source:n,attributes:f}));else{f.$delete("style");if((m=r=r.$process_method()["$[]"](g,!1!==(l=p)&&l!==b?l:e.get("Reader").$new(n),f.$dup()))===b||m.$$is_boolean&&1!=m)return b;f.$replace(r.$attributes());(m=(l=r.$content_model()["$=="]("compound"))?(n=r.$lines())["$nil_or_empty?"]()["$!"]():r.$content_model()["$=="]("compound"))===b||m.$$is_boolean&&1!=
	m||(d="compound",p=e.get("Reader").$new(n))}(m=(l=f["$has_key?"]("title"),!1!==l&&l!==b?r.$document()["$attr?"](""+r.$context()+"-caption"):l))===b||m.$$is_boolean&&1!=m||(m=[f.$delete("title")],l=r,l["$title="].apply(l,m),m[m.length-1],r.$assign_caption(f.$delete("caption")));d["$=="]("compound")&&this.$parse_blocks(p,r);return r});a.defs(h,"$parse_blocks",function(a,d){for(var c,g=b;(c=a["$has_more_lines?"]())!==b&&(!c.$$is_boolean||1==c);)if(g=e.get("Parser").$next_block(a,d),!1!==g&&g!==b)d["$<<"](g)});
	a.defs(h,"$next_outline_list",function(a,d,g){var h,f,k,m=b,l=b,p=h=b,r=b,w=b,m=e.get("List").$new(g,d);h=g.$context()["$=="](d)?[n(g.$level(),1)]:[1];f=m;f["$level="].apply(f,h);for(h[h.length-1];(f=(k=a["$has_more_lines?"](),!1!==k&&k!==b?l=e.get("ListRxMap")["$[]"](d).$match(a.$peek_line()):k))!==b&&(!f.$$is_boolean||1==f);){h=this.$resolve_list_marker(d,l["$[]"](1));if((f=(k=m["$items?"](),!1!==k&&k!==b?h["$!="](m.$items()["$[]"](0).$marker()):k))===b||f.$$is_boolean&&1!=f)p=m.$level();else for(p=
	n(m.$level(),1),r=g;r.$context()["$=="](d);){if(h["$=="](r.$items()["$[]"](0).$marker())){p=r.$level();break}r=r.$parent()}if((f=!1!==(k=m["$items?"]()["$!"]())&&k!==b?k:p["$=="](m.$level()))!==b&&(!f.$$is_boolean||1==f))w=this.$next_list_item(a,m,l);else if(c(p,m.$level()))break;else if(q(p,m.$level()))m.$items()["$[]"](-1)["$<<"](this.$next_block(a,m));if(!1!==w&&w!==b)m["$<<"](w);w=b;a.$skip_blank_lines()}return m});a.defs(h,"$catalog_callouts",function(a,d){var c,h,f=b,f=!1;(c=a["$include?"]("<"))===
	b||c.$$is_boolean&&1!=c||(c=a.$scan,c.$$p=(h=function(){var a,e=b;null==g["~"]&&(g["~"]=b);e=g["~"];(a=e["$[]"](0).$chr()["$!="]("\\"))===b||a.$$is_boolean&&1!=a||d.$callouts().$register(e["$[]"](2));return f=!0},h.$$s=this,h),c).call(a,e.get("CalloutQuickScanRx"));return f});a.defs(h,"$catalog_inline_anchors",function(a,d){var c,h;(c=a["$include?"]("["))===b||c.$$is_boolean&&1!=c||(c=a.$scan,c.$$p=(h=function(){var a,e=b,c=b,e=b;null==g["~"]&&(g["~"]=b);e=g["~"];if((a=e["$[]"](0)["$start_with?"]("\\"))!==
	b&&(!a.$$is_boolean||1==a))return b;c=!1!==(a=e["$[]"](1))&&a!==b?a:e["$[]"](3);e=!1!==(a=e["$[]"](2))&&a!==b?a:e["$[]"](4);return d.$register("ids",[c,e])},h.$$s=this,h),c).call(a,e.get("InlineAnchorRx"));return b});a.defs(h,"$next_labeled_list",function(d,c,g){for(var h,f,k,m=b,l=b,p=b,n=b,r=b,m=e.get("List").$new(g,"dlist"),l=b,p=e.get("DefinitionListSiblingRx")["$[]"](c["$[]"](2));(h=!1!==(f=c)&&f!==b?f:(k=d["$has_more_lines?"](),!1!==k&&k!==b?c=p.$match(d.$peek_line()):k))!==b&&(!h.$$is_boolean||
	1==h);){h=a.to_ary(this.$next_list_item(d,m,c,p));n=null==h[0]?b:h[0];r=null==h[1]?b:h[1];if((h=(f=!1!==l&&l!==b)?l["$[]"](-1)["$!"]():l)===b||h.$$is_boolean&&1!=h)m.$items()["$<<"](l=[[n],r]);else l.$pop(),l["$[]"](0)["$<<"](n),l["$<<"](r);c=b}return m});a.defs(h,"$next_list_item",function(a,d,c,g){var h,f,k=b,m=b,l=b,p=b,n=l=b,q=n=n=p=b,w=b,u=w=q=b,z=b;null==g&&(g=b);if((k=d.$context())["$=="]("dlist"))m=e.get("ListItem").$new(d,c["$[]"](1)),l=e.get("ListItem").$new(d,c["$[]"](3)),p=c["$[]"](3)["$nil_or_empty?"]()["$!"]();
	else{l=c["$[]"](2);n=!1;(h=(f=k["$=="]("ulist"))?l["$start_with?"]("["):k["$=="]("ulist"))===b||h.$$is_boolean&&1!=h||((h=l["$start_with?"]("[ ] "))===b||h.$$is_boolean&&1!=h?(h=!1!==(f=l["$start_with?"]("[x] "))&&f!==b?f:l["$start_with?"]("[*] "))===b||h.$$is_boolean&&1!=h||(p=n=!0,l=l["$[]"](r(3,-1,!1)).$lstrip()):(n=!0,p=!1,l=l["$[]"](r(3,-1,!1)).$lstrip()));l=e.get("ListItem").$new(d,l);if(!1!==n&&n!==b&&(d.$attributes()["$[]="]("checklist-option",""),l.$attributes()["$[]="]("checkbox",""),!1!==
	p&&p!==b))l.$attributes()["$[]="]("checked","");!1!==(h=g)&&h!==b?h:g=this.$resolve_list_marker(k,c["$[]"](1),d.$items().$size(),!0,a);h=[g];f=l;f["$marker="].apply(f,h);h[h.length-1];p=!0}a.$advance();n=a.$cursor();n=e.get("Reader").$new(this.$read_lines_for_list_item(a,k,g,p),n);if((h=n["$has_more_lines?"]())!==b&&(!h.$$is_boolean||1==h)){q=n.$skip_line_comments();w=n.$peek_line();((h=q["$empty?"]())===b||h.$$is_boolean&&1!=h)&&n.$unshift_lines(q);(h=w["$nil?"]()["$!"]())===b||h.$$is_boolean&&1!=
	h?w=q=!1:(q=w["$empty?"](),(h=(f=q["$!"](),!1!==f&&f!==b?k["$!="]("dlist"):f))===b||h.$$is_boolean&&1!=h||(p=!1),w=(h=q["$!"](),!1!==h&&h!==b?w["$empty?"]()["$!"]():h));for(u=t(["text"],{text:p["$!"]()});(f=n["$has_more_lines?"]())!==b&&(!f.$$is_boolean||1==f);)if((f=z=this.$next_block(n,l,t([],{}),u))!==b&&(!f.$$is_boolean||1==f))l["$<<"](z);l.$fold_first(q,w)}if(k["$=="]("dlist")){if((h=!1!==(f=l["$text?"]())&&f!==b?f:l["$blocks?"]())===b||h.$$is_boolean&&1!=h)l=b;return[m,l]}return l});a.defs(h,
	"$read_lines_for_list_item",function(a,d,c,h){var f,k,m,l,p,n,r,q,w,u,z,C,E,x=b,y=b,M=b,D=b,G=b,ea=b,ea=l=b;null==g["~"]&&(g["~"]=b);null==c&&(c=b);null==h&&(h=!0);x=[];y="inactive";M=!1;for(D=b;(k=a["$has_more_lines?"]())!==b&&(!k.$$is_boolean||1==k);){G=a.$read_line();if((k=this["$is_sibling_list_item?"](G,d,c))!==b&&(!k.$$is_boolean||1==k))break;ea=(k=x["$empty?"]())===b||k.$$is_boolean&&1!=k?x["$[]"](-1):b;if(ea["$=="](e.get("LIST_CONTINUATION"))){if(y["$=="]("inactive")&&(y="active",h=!0,!1===
	M||M===b))x["$[]="](-1,"");if(G["$=="](e.get("LIST_CONTINUATION"))){(k=y["$!="]("frozen"))===b||k.$$is_boolean&&1!=k||(y="frozen",x["$<<"](G));G=b;continue}}if((k=l=this["$is_delimited_block?"](G,!0))===b||k.$$is_boolean&&1!=k)if((k=(m=(l=d["$=="]("dlist"))?y["$!="]("active"):d["$=="]("dlist"),!1!==m&&m!==b?e.get("BlockAttributeLineRx")["$=~"](G):m))===b||k.$$is_boolean&&1!=k)if((k=(m=y["$=="]("active"))?G["$empty?"]()["$!"]():y["$=="]("active"))===b||k.$$is_boolean&&1!=k)if((k=(l=ea["$nil?"]()["$!"](),
	!1!==l&&l!==b?ea["$empty?"]():l))===b||k.$$is_boolean&&1!=k)(k=G["$empty?"]()["$!"]())===b||k.$$is_boolean&&1!=k||(h=!0),(k=ea=(z=(C=!1!==M&&M!==b?["dlist"]:e.get("NESTABLE_LIST_CONTEXTS")).$detect,z.$$p=(E=function(a){null==a&&(a=b);return e.get("ListRxMap")["$[]"](a)["$=~"](G)},E.$$s=this,E),z).call(C))===b||k.$$is_boolean&&1!=k||(M=!0,(k=(z=ea["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():ea["$=="]("dlist"))===b||k.$$is_boolean&&1!=k||(h=!1)),x["$<<"](G);else{if(!((k=G["$empty?"]())===
	b||k.$$is_boolean&&1!=k||(a.$skip_blank_lines(),G=a.$read_line(),(k=!1!==(l=G["$nil?"]())&&l!==b?l:this["$is_sibling_list_item?"](G,d,c))===b||k.$$is_boolean&&1!=k)))break;if(G["$=="](e.get("LIST_CONTINUATION")))D=x.$size(),x["$<<"](G);else if(!1!==h&&h!==b)if((k=this["$is_sibling_list_item?"](G,d,c))===b||k.$$is_boolean&&1!=k)if((k=ea=(l=(q=e.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(w=function(a){null==a&&(a=b);return e.get("ListRxMap")["$[]"](a)["$=~"](G)},w.$$s=this,w),l).call(q))===b||k.$$is_boolean&&
	1!=k)if((k=e.get("LiteralParagraphRx")["$=~"](G))===b||k.$$is_boolean&&1!=k)break;else a.$unshift_line(G),x.$concat((k=(l=a).$read_lines_until,k.$$p=(u=function(a){var e=u.$$s||this;null==a&&(a=b);return d["$=="]("dlist")?e["$is_sibling_list_item?"](a,d,c):d["$=="]("dlist")},u.$$s=this,u),k).call(l,t(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else x["$<<"](G),M=!0,(k=(l=ea["$=="]("dlist"))?
	g["~"]["$[]"](3)["$nil_or_empty?"]():ea["$=="]("dlist"))===b||k.$$is_boolean&&1!=k||(h=!1);else break;else!1!==M&&M!==b||x.$pop(),x["$<<"](G),h=!0}else if((k=e.get("LiteralParagraphRx")["$=~"](G))===b||k.$$is_boolean&&1!=k)if((k=!1!==(l=!1!==(n=e.get("BlockTitleRx")["$=~"](G))&&n!==b?n:e.get("BlockAttributeLineRx")["$=~"](G))&&l!==b?l:e.get("AttributeEntryRx")["$=~"](G))===b||k.$$is_boolean&&1!=k)(k=ea=(l=(n=!1!==M&&M!==b?["dlist"]:e.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(r=function(a){null==
	a&&(a=b);return e.get("ListRxMap")["$[]"](a)["$=~"](G)},r.$$s=this,r),l).call(n))===b||k.$$is_boolean&&1!=k||(M=!0,(k=(l=ea["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():ea["$=="]("dlist"))===b||k.$$is_boolean&&1!=k||(h=!1)),x["$<<"](G),y="inactive";else x["$<<"](G);else a.$unshift_line(G),x.$concat((k=(m=a).$read_lines_until,k.$$p=(p=function(a){var e=p.$$s||this;null==a&&(a=b);return d["$=="]("dlist")?e["$is_sibling_list_item?"](a,d,c):d["$=="]("dlist")},p.$$s=this,p),k).call(m,t(["preserve_last_line",
	"break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),y="inactive";else break;else if(y["$=="]("active"))x["$<<"](G),x.$concat(a.$read_lines_until(t(["terminator","read_last_line"],{terminator:l.$terminator(),read_last_line:!0}))),y="inactive";else break;G=b}!1!==G&&G!==b&&a.$unshift_line(G);for(!1!==D&&D!==b&&x.$delete_at(D);(k=(z=x["$empty?"]()["$!"](),!1!==z&&z!==b?x["$[]"](-1)["$empty?"]():z))!==b&&(!k.$$is_boolean||
	1==k);)x.$pop();(f=(k=x["$empty?"]()["$!"](),!1!==k&&k!==b?x["$[]"](-1)["$=="](e.get("LIST_CONTINUATION")):k))===b||f.$$is_boolean&&1!=f||x.$pop();return x});a.defs(h,"$initialize_section",function(d,c,g){var h,f=b,k=b,l=b,m=b,p=b,n=b,r=l=m=b;null==g&&(g=t([],{}));f=c.$document();(h=f.$sourcemap())===b||h.$$is_boolean&&1!=h||(k=d.$cursor());h=a.to_ary(this.$parse_section_title(d,f));l=null==h[0]?b:h[0];m=null==h[1]?b:h[1];p=null==h[2]?b:h[2];n=null==h[3]?b:h[3];if(!1!==m&&m!==b)g["$[]="]("reftext",
	m);m=e.get("Section").$new(c,n,f.$attributes()["$has_key?"]("sectnums"));!1!==k&&k!==b&&(h=[k],c=m,c["$source_location="].apply(c,h),h[h.length-1]);h=[l];c=m;c["$id="].apply(c,h);h[h.length-1];h=[p];c=m;c["$title="].apply(c,h);h[h.length-1];(h=g["$[]"](1))===b||h.$$is_boolean&&1!=h?((h=p.$downcase()["$=="]("synopsis")?f.$doctype()["$=="]("manpage"):p.$downcase()["$=="]("synopsis"))===b||h.$$is_boolean&&1!=h?h=["sect"+m.$level()]:(h=[!0],c=m,c["$special="].apply(c,h),h[h.length-1],h=["synopsis"]),
	c=m,c["$sectname="].apply(c,h),h[h.length-1]):(h=a.to_ary(this.$parse_style_attribute(g,d)),l=null==h[0]?b:h[0],!1!==l&&l!==b?(h=[l],c=m,c["$sectname="].apply(c,h),h[h.length-1],h=[!0],c=m,c["$special="].apply(c,h),h[h.length-1],(h=(c=m.$sectname()["$=="]("abstract"))?f.$doctype()["$=="]("book"):m.$sectname()["$=="]("abstract"))===b||h.$$is_boolean&&1!=h||(h=["sect1"],c=m,c["$sectname="].apply(c,h),h[h.length-1],h=[!1],c=m,c["$special="].apply(c,h),h[h.length-1],h=[1],c=m,c["$level="].apply(c,h),
	h[h.length-1])):(h=["sect"+m.$level()],c=m,c["$sectname="].apply(c,h),h[h.length-1]));(h=(c=m.$id()["$!"](),!1!==c&&c!==b?r=g["$[]"]("id"):c))===b||h.$$is_boolean&&1!=h?(h=m,!1!==(c=h.$id())&&c!==b?c:h["$id="](m.$generate_id())):(h=[r],c=m,c["$id="].apply(c,h),h[h.length-1]);(h=m.$id())===b||h.$$is_boolean&&1!=h||m.$document().$register("ids",[m.$id(),!1!==(h=g["$[]"]("reftext"))&&h!==b?h:m.$title()]);m.$update_attributes(g);d.$skip_blank_lines();return m});a.defs(h,"$section_level",function(a){return e.get("SECTION_LEVELS")["$[]"](a.$chr())});
	a.defs(h,"$single_line_section_level",function(a){return k(a.$length(),1)});a.defs(h,"$is_next_line_section?",function(d,c){var g,h,f,k,m=b,l=b;return(g=(h=(f=(m=c["$[]"](1))["$nil?"]()["$!"](),!1!==f&&f!==b?!1!==(k=(l=m["$[]"](0).$ord())["$=="](100))&&k!==b?k:l["$=="](102):f),!1!==h&&h!==b?m["$=~"](e.get("FloatingTitleStyleRx")):h))!==b&&(!g.$$is_boolean||1==g)||(g=d["$has_more_lines?"]())===b||g.$$is_boolean&&1!=g?!1:(g=e.get("Compliance").$underline_style_section_titles())===b||g.$$is_boolean&&
	1!=g?this["$is_section_title?"](d.$peek_line()):(g=this)["$is_section_title?"].apply(g,a.to_a(d.$peek_lines(2)))});a.defs(h,"$is_next_line_document_title?",function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)});a.defs(h,"$is_section_title?",function(a,e){var d,c=b;null==e&&(e=b);return(d=c=this["$is_single_line_section_title?"](a))===b||d.$$is_boolean&&1!=d?(d=!1!==e&&e!==b?c=this["$is_two_line_section_title?"](a,e):e)===b||d.$$is_boolean&&1!=d?!1:c:c});a.defs(h,"$is_single_line_section_title?",
	function(a){var d,c,g,h,f=b,k=b,f=!1!==a&&a!==b?a.$chr():b;return(d=(c=!1!==(g=f["$=="]("="))&&g!==b?g:(h=e.get("Compliance").$markdown_syntax(),!1!==h&&h!==b?f["$=="]("#"):h),!1!==c&&c!==b?k=e.get("AtxSectionRx").$match(a):c))===b||d.$$is_boolean&&1!=d?!1:this.$single_line_section_level(k["$[]"](1))});a.defs(h,"$is_two_line_section_title?",function(a,c){var g,h,f,m,l;return(g=(h=(f=(m=(l=!1!==a&&a!==b?c:a,!1!==l&&l!==b?e.get("SECTION_LEVELS")["$has_key?"](c.$chr()):l),!1!==m&&m!==b?c["$=~"](e.get("SetextSectionLineRx")):
	m),!1!==f&&f!==b?a["$=~"](e.get("SetextSectionTitleRx")):f),!1!==h&&h!==b?d(k(this.$line_length(a),this.$line_length(c)).$abs(),1):h))===b||g.$$is_boolean&&1!=g?!1:this.$section_level(c)});a.defs(h,"$parse_section_title",function(a,c){var g,h,m,l,p,r=b,q=b,w=b,u=b,t=b,z=b,C=b,E=b,x=b,y=b,M=b,r=a.$read_line(),w=q=b,u=-1,t=b,z=!0,C=r.$chr();(g=(h=!1!==(m=C["$=="]("="))&&m!==b?m:(l=e.get("Compliance").$markdown_syntax(),!1!==l&&l!==b?C["$=="]("#"):l),!1!==h&&h!==b?E=e.get("AtxSectionRx").$match(r):h))===
	b||g.$$is_boolean&&1!=g?(g=e.get("Compliance").$underline_style_section_titles())===b||g.$$is_boolean&&1!=g||(g=(h=(m=(l=(p=y=a.$peek_line(!0),!1!==p&&p!==b?e.get("SECTION_LEVELS")["$has_key?"](y.$chr()):p),!1!==l&&l!==b?y["$=~"](e.get("SetextSectionLineRx")):l),!1!==m&&m!==b?M=e.get("SetextSectionTitleRx").$match(r):m),!1!==h&&h!==b?d(k(this.$line_length(r),this.$line_length(y)).$abs(),1):h))===b||g.$$is_boolean&&1!=g||(w=M["$[]"](1),(g=(h=w["$end_with?"]("]]"),!1!==h&&h!==b?x=e.get("InlineSectionAnchorRx").$match(w):
	h))===b||g.$$is_boolean&&1!=g||(g=x["$[]"](2)["$nil?"]())===b||g.$$is_boolean&&1!=g||(w=x["$[]"](1),q=x["$[]"](3),t=x["$[]"](4)),u=this.$section_level(y),z=!1,a.$advance()):(u=this.$single_line_section_level(E["$[]"](1)),w=E["$[]"](2),(g=(h=w["$end_with?"]("]]"),!1!==h&&h!==b?x=e.get("InlineSectionAnchorRx").$match(w):h))===b||g.$$is_boolean&&1!=g||(g=x["$[]"](2)["$nil?"]())===b||g.$$is_boolean&&1!=g||(w=x["$[]"](1),q=x["$[]"](3),t=x["$[]"](4)));f(u,0)&&(u=n(u,c.$attr("leveloffset",0).$to_i()));return[q,
	t,w,u,z]});a.defs(h,"$line_length",function(a){var d;return(d=e.get("FORCE_UNICODE_LINE_LENGTH"))===b||d.$$is_boolean&&1!=d?a.$length():a.$scan(e.get("UnicodeCharScanRx")).$length()});a.defs(h,"$parse_header_metadata",function(d,c){var g,h,f,k,m,l,p=b,w=b,u=b,z=b,C=z=b,E=b,x=C=b,u=w=b;null==c&&(c=b);this.$process_attribute_entries(d,c);p=t([],{});u=w=b;if((g=(h=d["$has_more_lines?"](),!1!==h&&h!==b?d["$next_line_empty?"]()["$!"]():h))!==b&&(!g.$$is_boolean||1==g)){z=this.$process_authors(d.$read_line());
	if((g=z["$empty?"]())===b||g.$$is_boolean&&1!=g)!1!==c&&c!==b&&((g=(h=z).$each,g.$$p=(f=function(e,d){var g;null==e&&(e=b);null==d&&(d=b);return(g=c.$attributes()["$has_key?"](e))===b||g.$$is_boolean&&1!=g?c.$attributes()["$[]="](e,(g=d["$is_a?"](a.get("String")))===b||g.$$is_boolean&&1!=g?d:c.$apply_header_subs(d)):b},f.$$s=this,f),g).call(h),w=c.$attributes()["$[]"]("author"),u=c.$attributes()["$[]"]("authors")),p=z;this.$process_attribute_entries(d,c);z=t([],{});if((g=(k=d["$has_more_lines?"](),
	!1!==k&&k!==b?d["$next_line_empty?"]()["$!"]():k))!==b&&(!g.$$is_boolean||1==g))if(C=d.$read_line(),(g=E=e.get("RevisionInfoLineRx").$match(C))===b||g.$$is_boolean&&1!=g)d.$unshift_line(C);else{if((g=E["$[]"](1))!==b&&(!g.$$is_boolean||1==g))z["$[]="]("revnumber",E["$[]"](1).$rstrip());if(!(C=E["$[]"](2).$strip())["$=="](""))if((g=(k=E["$[]"](1)["$!"](),!1!==k&&k!==b?C["$start_with?"]("v"):k))===b||g.$$is_boolean&&1!=g)z["$[]="]("revdate",C);else z["$[]="]("revnumber",C["$[]"](r(1,-1,!1)));if((g=
	E["$[]"](3))!==b&&(!g.$$is_boolean||1==g))z["$[]="]("revremark",E["$[]"](3).$rstrip())}if((g=z["$empty?"]())===b||g.$$is_boolean&&1!=g)!1!==c&&c!==b&&(g=(k=z).$each,g.$$p=(m=function(a,e){var d;null==a&&(a=b);null==e&&(e=b);return(d=c.$attributes()["$has_key?"](a))===b||d.$$is_boolean&&1!=d?c.$attributes()["$[]="](a,c.$apply_header_subs(e)):b},m.$$s=this,m),g).call(k),p.$update(z);this.$process_attribute_entries(d,c);d.$skip_blank_lines()}if(!1!==c&&c!==b){z=b;if((g=(l=c.$attributes()["$has_key?"]("author"),
	!1!==l&&l!==b?(x=c.$attributes()["$[]"]("author"))["$!="](w):l))===b||g.$$is_boolean&&1!=g)if((g=(l=c.$attributes()["$has_key?"]("authors"),!1!==l&&l!==b?(x=c.$attributes()["$[]"]("authors"))["$!="](u):l))===b||g.$$is_boolean&&1!=g){w=[];for(u="author_"+n(w.$size(),1);(l=c.$attributes()["$has_key?"](u))!==b&&(!l.$$is_boolean||1==l);)w["$<<"](c.$attributes()["$[]"](u)),u="author_"+n(w.$size(),1);w.$size()["$=="](1)?z=this.$process_authors(w["$[]"](0),!0,!1):q(w.$size(),1)&&(z=this.$process_authors(w.$join("; "),
	!0))}else z=this.$process_authors(x,!0);else z=this.$process_authors(x,!0,!1);if(!1!==z&&z!==b&&(c.$attributes().$update(z),(g=(l=c.$attributes()["$has_key?"]("email")["$!"](),!1!==l&&l!==b?c.$attributes()["$has_key?"]("email_1"):l))!==b&&(!g.$$is_boolean||1==g)))c.$attributes()["$[]="]("email",c.$attributes()["$[]"]("email_1"))}return p});a.defs(h,"$process_authors",function(a,d,c){var g,h,f,k,m,l=this,p=b,w=b,u=b;null==d&&(d=!1);null==c&&(c=!0);p=t([],{});w="author authorinitials firstname middlename lastname email".split(" ");
	u=function(){return!1!==c&&c!==b?(g=(h=a.$split(";")).$map,g.$$p=(f=function(a){null==a&&(a=b);return a.$strip()},f.$$s=l,f),g).call(h):[a]}();(g=(k=u).$each_with_index,g.$$p=(m=function(a,c){var g=m.$$s||this,h,f,k,l,u,z,B,C=b,E=b,F=b,I=F=b,x=b;null==a&&(a=b);null==c&&(c=b);if((h=a["$empty?"]())!==b&&(!h.$$is_boolean||1==h))return b;C=t([],{});(h=c["$zero?"]())===b||h.$$is_boolean&&1!=h?(h=(l=w).$each,h.$$p=(u=function(a){null==a&&(a=b);return C["$[]="](a.$to_sym(),""+a+"_"+n(c,1))},u.$$s=g,u),h).call(l):
	(h=(f=w).$each,h.$$p=(k=function(a){null==a&&(a=b);return C["$[]="](a.$to_sym(),a)},k.$$s=g,k),h).call(f);E=b;!1!==d&&d!==b?q((E=a.$split(" ")).$size(),3)&&(E=E["$[]"](r(0,1,!1)).$push(E["$[]"](r(2,-1,!1)).$join(" "))):(h=F=e.get("AuthorInfoLineRx").$match(a))===b||h.$$is_boolean&&1!=h||(E=F.$to_a(),E.$shift());if((h=E["$nil?"]())===b||h.$$is_boolean&&1!=h){if(p["$[]="](C["$[]"]("firstname"),F=E["$[]"](0).$tr("_"," ")),p["$[]="](C["$[]"]("author"),F),p["$[]="](C["$[]"]("authorinitials"),F["$[]"](0,
	1)),(h=(z=E["$[]"](1)["$nil?"]()["$!"](),!1!==z&&z!==b?E["$[]"](2)["$nil?"]()["$!"]():z))===b||h.$$is_boolean&&1!=h?(h=E["$[]"](1)["$nil?"]()["$!"]())===b||h.$$is_boolean&&1!=h||(p["$[]="](C["$[]"]("lastname"),x=E["$[]"](1).$tr("_"," ")),p["$[]="](C["$[]"]("author"),[F,x].$join(" ")),p["$[]="](C["$[]"]("authorinitials"),[F["$[]"](0,1),x["$[]"](0,1)].$join())):(p["$[]="](C["$[]"]("middlename"),I=E["$[]"](1).$tr("_"," ")),p["$[]="](C["$[]"]("lastname"),x=E["$[]"](2).$tr("_"," ")),p["$[]="](C["$[]"]("author"),
	[F,I,x].$join(" ")),p["$[]="](C["$[]"]("authorinitials"),[F["$[]"](0,1),I["$[]"](0,1),x["$[]"](0,1)].$join())),(h=!1!==(z=d)&&z!==b?z:E["$[]"](3)["$nil?"]())===b||h.$$is_boolean&&1!=h)p["$[]="](C["$[]"]("email"),E["$[]"](3))}else p["$[]="](C["$[]"]("author"),p["$[]="](C["$[]"]("firstname"),F=a.$strip().$tr_s(" "," "))),p["$[]="](C["$[]"]("authorinitials"),F["$[]"](0,1));p["$[]="]("authorcount",n(c,1));c["$=="](1)&&(h=(z=w).$each,h.$$p=(B=function(a){var e;null==a&&(a=b);return(e=p["$has_key?"](a))===
	b||e.$$is_boolean&&1!=e?b:p["$[]="](""+a+"_1",p["$[]"](a))},B.$$s=g,B),h).call(z);return(h=c["$zero?"]())===b||h.$$is_boolean&&1!=h?p["$[]="]("authors",""+p["$[]"]("authors")+", "+p["$[]"](C["$[]"]("author"))):p["$[]="]("authors",p["$[]"](C["$[]"]("author")))},m.$$s=l,m),g).call(k);return p});a.defs(h,"$parse_block_metadata_lines",function(a,e,d,c){var g;null==d&&(d=t([],{}));for(null==c&&(c=t([],{}));(g=this.$parse_block_metadata_line(a,e,d,c))!==b&&(!g.$$is_boolean||1==g);)a.$advance(),a.$skip_blank_lines();
	return d});a.defs(h,"$parse_block_metadata_line",function(a,d,c,g){var h,f,k,m=b,l=b,p=b,l=m=b;null==g&&(g=t([],{}));if((h=a["$has_more_lines?"]())===b||h.$$is_boolean&&1!=h)return!1;m=a.$peek_line();if((h=(f=l=m["$start_with?"]("//"),!1!==f&&f!==b?p=e.get("CommentBlockRx").$match(m):f))!==b&&(!h.$$is_boolean||1==h))m=p["$[]"](0),a.$read_lines_until(t(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:m,skip_processing:!0}));
	else if((h=(f=!1!==l&&l!==b)?e.get("CommentLineRx")["$=~"](m):l)===b||h.$$is_boolean&&1!=h)if((h=(f=(k=g["$[]"]("text")["$!"](),!1!==k&&k!==b?m["$start_with?"](":"):k),!1!==f&&f!==b?p=e.get("AttributeEntryRx").$match(m):f))!==b&&(!h.$$is_boolean||1==h))this.$process_attribute_entry(a,d,c,p);else if((h=(f=l=(k=m["$start_with?"]("["),!1!==k&&k!==b?m["$end_with?"]("]"):k),!1!==f&&f!==b?p=e.get("BlockAnchorRx").$match(m):f))===b||h.$$is_boolean&&1!=h)if((h=(f=!1!==l&&l!==b)?p=e.get("BlockAttributeListRx").$match(m):
	l)===b||h.$$is_boolean&&1!=h){if((h=(f=g["$[]"]("text")["$!"](),!1!==f&&f!==b?p=e.get("BlockTitleRx").$match(m):f))===b||h.$$is_boolean&&1!=h)return!1;c["$[]="]("title",p["$[]"](1))}else d.$document().$parse_attributes(p["$[]"](1),[],t(["sub_input","into"],{sub_input:!0,into:c}));else if((h=p["$[]"](1)["$nil_or_empty?"]())===b||h.$$is_boolean&&1!=h)if(c["$[]="]("id",p["$[]"](1)),(h=p["$[]"](2)["$nil?"]())===b||h.$$is_boolean&&1!=h)c["$[]="]("reftext",p["$[]"](2));return!0});a.defs(h,"$process_attribute_entries",
	function(a,e,d){var c;null==d&&(d=b);for(a.$skip_comment_lines();(c=this.$process_attribute_entry(a,e,d))!==b&&(!c.$$is_boolean||1==c);)a.$advance(),a.$skip_comment_lines()});a.defs(h,"$process_attribute_entry",function(a,d,c,g){var h,f,k=b,m=b,l=b,p=b,n=b,r=b;null==c&&(c=b);null==g&&(g=b);!1!==(h=g)&&h!==b?h:g=(f=a["$has_more_lines?"]())===b||f.$$is_boolean&&1!=f?b:e.get("AttributeEntryRx").$match(a.$peek_line());if(!1!==g&&g!==b){k=g["$[]"](1);if(((h=(m=!1!==(f=g["$[]"](2))&&f!==b?f:"")["$empty?"]())===
	b||h.$$is_boolean&&1!=h)&&(h=!1!==(f=m["$end_with?"](l=e.get("LINE_CONTINUATION")))&&f!==b?f:m["$end_with?"](l=e.get("LINE_CONTINUATION_LEGACY")))!==b&&(!h.$$is_boolean||1==h))for(m=m.$chop().$rstrip();(f=a.$advance())!==b&&(!f.$$is_boolean||1==f)&&((f=(p=a.$peek_line().$strip())["$empty?"]())===b||f.$$is_boolean&&1!=f)&&((f=n=p["$end_with?"](l))===b||f.$$is_boolean&&1!=f||(p=p.$chop().$rstrip()),r=(f=m["$end_with?"](e.get("LINE_BREAK")))===b||f.$$is_boolean&&1!=f?" ":e.get("EOL"),m=""+m+r+p,!1!==
	n&&n!==b););this.$store_attribute(k,m,!1!==d&&d!==b?d.$document():b,c);return!0}return!1});a.defs(h,"$store_attribute",function(a,d,c,g){var h,f=b,f=b;null==c&&(c=b);null==g&&(g=b);(h=a["$end_with?"]("!"))===b||h.$$is_boolean&&1!=h?(h=a["$start_with?"]("!"))===b||h.$$is_boolean&&1!=h||(d=b,a=a["$[]"](r(1,-1,!1))):(d=b,a=a.$chop());a=this.$sanitize_attribute_name(a);f=!0;!1!==c&&c!==b&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&!1!==d&&d!==b&&(f=d.$chr(),"+"["$==="](f)?d=n(c.$attr("leveloffset",
	0).$to_i(),(!1!==(h=d["$[]"](r(1,-1,!1)))&&h!==b?h:0).$to_i()).$to_s():"-"["$==="](f)&&(d=k(c.$attr("leveloffset",0).$to_i(),(!1!==(h=d["$[]"](r(1,-1,!1)))&&h!==b?h:0).$to_i()).$to_s())),f=!1!==d&&d!==b?c.$set_attribute(a,d):c.$delete_attribute(a));(h=!1!==f&&f!==b?g:f)===b||h.$$is_boolean&&1!=h||(!1!==d&&d!==b&&(d=c.$attributes()["$[]"](a)),e.get("Document").$$scope.get("AttributeEntry").$new(a,d).$save_to(g));return[a,d]});a.defs(h,"$resolve_list_marker",function(a,e,d,c,g){var h;null==d&&(d=0);
	null==c&&(c=!1);null==g&&(g=b);return(h=a["$=="]("olist")?e["$start_with?"](".")["$!"]():a["$=="]("olist"))===b||h.$$is_boolean&&1!=h?a["$=="]("colist")?"<1>":e:this.$resolve_ordered_list_marker(e,d,c,g)});a.defs(h,"$resolve_ordered_list_marker",function(a,d,c,g){var h,f,k,m=b,l=b,p=b,m=b;null==d&&(d=0);null==c&&(c=!1);null==g&&(g=b);m=(h=(f=e.get("ORDERED_LIST_STYLES")).$detect,h.$$p=(k=function(d){null==d&&(d=b);return e.get("OrderedListMarkerRxMap")["$[]"](d)["$=~"](a)},k.$$s=this,k),h).call(f);
	l=p=b;"arabic"["$==="](m)?(!1!==c&&c!==b&&(l=n(d,1),p=a.$to_i()),a="1."):"loweralpha"["$==="](m)?(!1!==c&&c!==b&&(l=n("a"["$[]"](0).$ord(),d).$chr(),p=a.$chomp(".")),a="a."):"upperalpha"["$==="](m)?(!1!==c&&c!==b&&(l=n("A"["$[]"](0).$ord(),d).$chr(),p=a.$chomp(".")),a="A."):"lowerroman"["$==="](m)?(!1!==c&&c!==b&&(l=n(d,1),p=this.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](m)&&(!1!==c&&c!==b&&(l=n(d,1),p=this.$roman_numeral_to_int(a.$chomp(")"))),a="I)");(h=!1!==c&&c!==b?l["$!="](p):
	c)===b||h.$$is_boolean&&1!=h||this.$warn("asciidoctor: WARNING: "+g.$line_info()+": list item index: expected "+l+", got "+p);return a});a.defs(h,"$is_sibling_list_item?",function(d,c,g){var h,f=b,k=b,m=b;(h=g["$is_a?"](a.get("Regexp")))===b||h.$$is_boolean&&1!=h?(f=e.get("ListRxMap")["$[]"](c),k=g):(f=g,k=!1);return(h=m=f.$match(d))===b||h.$$is_boolean&&1!=h?!1:!1!==k&&k!==b?k["$=="](this.$resolve_list_marker(c,m["$[]"](1))):!0});a.defs(h,"$next_table",function(d,c,g){var h,f,k,m,l,p=b,q=b,w=b,u=
	b,t=b,z=b,C=b,E=b,x=b,y=b,M=b,C=b,p=e.get("Table").$new(c,g);(h=g["$has_key?"]("title"))===b||h.$$is_boolean&&1!=h||(h=[g.$delete("title")],f=p,f["$title="].apply(f,h),h[h.length-1],p.$assign_caption(g.$delete("caption")));(h=(f=g["$key?"]("cols"),!1!==f&&f!==b?(q=this.$parse_col_specs(g["$[]"]("cols")))["$empty?"]()["$!"]():f))===b||h.$$is_boolean&&1!=h?w=!1:(p.$create_columns(q),w=!0);u=d.$skip_blank_lines();t=e.get("Table").$$scope.get("ParserContext").$new(d,p,g);for(z=-1;(f=d["$has_more_lines?"]())!==
	b&&(!f.$$is_boolean||1==f);){z=n(z,1);C=d.$read_line();(f=(k=(m=(l=u["$=="](0)?z["$zero?"]():u["$=="](0),!1!==l&&l!==b?g["$has_key?"]("options")["$!"]():l),!1!==m&&m!==b?(E=d.$peek_line())["$nil?"]()["$!"]():m),!1!==k&&k!==b?E["$empty?"]():k))===b||f.$$is_boolean&&1!=f||(f=[!0],k=p,k["$has_header_option="].apply(k,f),f[f.length-1],p.$set_option("header"));t.$format()["$=="]("psv")&&((f=t["$starts_with_delimiter?"](C))===b||f.$$is_boolean&&1!=f?(f=a.to_ary(this.$parse_cell_spec(C,"start",t.$delimiter())),
	x=null==f[0]?b:f[0],C=null==f[1]?b:f[1],(f=x["$nil?"]()["$!"]())===b||f.$$is_boolean&&1!=f||t.$close_open_cell(x)):(C=C["$[]"](r(1,-1,!1)),t.$close_open_cell()));for(y=!1;(k=!1!==(m=y["$!"]())&&m!==b?m:C["$empty?"]()["$!"]())!==b&&(!k.$$is_boolean||1==k);)if(y=!0,(k=M=t.$match_delimiter(C))===b||k.$$is_boolean&&1!=k)k=[""+t.$buffer()+C+e.get("EOL")],m=t,m["$buffer="].apply(m,k),k[k.length-1],t.$format()["$=="]("csv")&&(k=[""+t.$buffer().$rstrip()+" "],m=t,m["$buffer="].apply(m,k),k[k.length-1]),C=
	"",(k=!1!==(m=t.$format()["$=="]("psv"))&&m!==b?m:(l=t.$format()["$=="]("csv"))?t["$buffer_has_unclosed_quotes?"]():t.$format()["$=="]("csv"))===b||k.$$is_boolean&&1!=k?t.$close_cell(!0):t.$keep_cell_open();else{if(t.$format()["$=="]("csv")){if((k=t["$buffer_has_unclosed_quotes?"](M.$pre_match()))!==b&&(!k.$$is_boolean||1==k)){C=t.$skip_matched_delimiter(M);continue}}else if((k=M.$pre_match()["$end_with?"]("\\"))!==b&&(!k.$$is_boolean||1==k)){if((k=(C=t.$skip_matched_delimiter(M,!0))["$empty?"]())!==
	b&&(!k.$$is_boolean||1==k)){k=[""+t.$buffer()+e.get("EOL")];m=t;m["$buffer="].apply(m,k);k[k.length-1];t.$keep_cell_open();break}continue}t.$format()["$=="]("psv")?(k=a.to_ary(this.$parse_cell_spec(M.$pre_match(),"end")),x=null==k[0]?b:k[0],C=null==k[1]?b:k[1],t.$push_cell_spec(x),k=[""+t.$buffer()+C]):k=[""+t.$buffer()+M.$pre_match()];m=t;m["$buffer="].apply(m,k);k[k.length-1];(C=M.$post_match())["$=="]("")&&(y=!1);t.$close_cell()}if((f=t["$cell_open?"]())===b||f.$$is_boolean&&1!=f)u=d.$skip_blank_lines();
	if((f=d["$has_more_lines?"]())===b||f.$$is_boolean&&1!=f)(f=t["$cell_open?"]())===b||f.$$is_boolean&&1!=f||t.$close_cell(!0)}((h=!1!==(f=(k="colcount",m=p.$attributes(),!1!==(l=m["$[]"](k))&&l!==b?l:m["$[]="](k,p.$columns().$size()))["$=="](0))&&f!==b?f:w)===b||h.$$is_boolean&&1!=h)&&p.$assign_col_widths();p.$partition_header_footer(g);return p});a.defs(h,"$parse_col_specs",function(d){var c,g,h,f,k,m=b;(c=d["$include?"](" "))===b||c.$$is_boolean&&1!=c||(d=d.$tr(" ",""));if(d["$=="](d.$to_i().$to_s()))return(c=
	(g=a.get("Array")).$new,c.$$p=(h=function(){return t(["width"],{width:1})},h.$$s=this,h),c).call(g,d.$to_i());m=[];(c=(f=d.$split(",",-1)).$each,c.$$p=(k=function(d){var c=k.$$s||this,g,h,f,l=b,p=b,n=b,r=b;null==d&&(d=b);if(d["$=="](""))return m["$<<"](t(["width"],{width:1}));if((g=l=e.get("ColumnSpecRx").$match(d))===b||g.$$is_boolean&&1!=g)return b;p=t([],{});if((g=l["$[]"](2))!==b&&(!g.$$is_boolean||1==g)){g=a.to_ary(l["$[]"](2).$split("."));n=null==g[0]?b:g[0];r=null==g[1]?b:g[1];if((g=(h=n["$nil_or_empty?"]()["$!"](),
	!1!==h&&h!==b?e.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](n):h))!==b&&(!g.$$is_boolean||1==g))p["$[]="]("halign",e.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](n));if((g=(h=r["$nil_or_empty?"]()["$!"](),!1!==h&&h!==b?e.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](r):h))!==b&&(!g.$$is_boolean||1==g))p["$[]="]("valign",e.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](r))}p["$[]="]("width",(g=l["$[]"](3))===b||g.$$is_boolean&&1!=g?1:l["$[]"](3).$to_i());
	if((g=(h=l["$[]"](4),!1!==h&&h!==b?e.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](l["$[]"](4)):h))!==b&&(!g.$$is_boolean||1==g))p["$[]="]("style",e.get("Table").$$scope.get("TEXT_STYLES")["$[]"](l["$[]"](4)));return(g=l["$[]"](1))===b||g.$$is_boolean&&1!=g?m["$<<"](p):(g=(h=1).$upto,g.$$p=(f=function(){return m["$<<"](p.$dup())},f.$$s=c,f),g).call(h,l["$[]"](1).$to_i())},k.$$s=this,k),c).call(f);return m});a.defs(h,"$parse_cell_spec",function(d,c,g){var h,f,k=b,m=b,l=b,p=l=k=b,n=b;null==c&&
	(c="start");null==g&&(g=b);k=b;m="";l=c;if("start"["$==="](l)){if((h=d["$include?"](g))===b||h.$$is_boolean&&1!=h)return[b,d];h=a.to_ary(d.$split(g,2));k=null==h[0]?b:h[0];m=null==h[1]?b:h[1];if((h=k=e.get("CellSpecStartRx").$match(k))===b||h.$$is_boolean&&1!=h)return[b,d];if((h=k["$[]"](0)["$empty?"]())!==b&&(!h.$$is_boolean||1==h))return[t([],{}),m]}else if("end"["$==="](l)){if((h=k=e.get("CellSpecEndRx").$match(d))===b||h.$$is_boolean&&1!=h)return[t([],{}),d];if((h=k["$[]"](0).$lstrip()["$empty?"]())!==
	b&&(!h.$$is_boolean||1==h))return[t([],{}),d.$rstrip()];m=k.$pre_match()}l=t([],{});if((h=k["$[]"](1))!==b&&(!h.$$is_boolean||1==h))if(h=a.to_ary(k["$[]"](1).$split(".")),p=null==h[0]?b:h[0],n=null==h[1]?b:h[1],p=(h=p["$nil_or_empty?"]())===b||h.$$is_boolean&&1!=h?p.$to_i():1,n=(h=n["$nil_or_empty?"]())===b||h.$$is_boolean&&1!=h?n.$to_i():1,k["$[]"](2)["$=="]("+")){if(!p["$=="](1))l["$[]="]("colspan",p);if(!n["$=="](1))l["$[]="]("rowspan",n)}else if(k["$[]"](2)["$=="]("*")&&!p["$=="](1))l["$[]="]("repeatcol",
	p);if((h=k["$[]"](3))!==b&&(!h.$$is_boolean||1==h)){h=a.to_ary(k["$[]"](3).$split("."));p=null==h[0]?b:h[0];n=null==h[1]?b:h[1];if((h=(f=p["$nil_or_empty?"]()["$!"](),!1!==f&&f!==b?e.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](p):f))!==b&&(!h.$$is_boolean||1==h))l["$[]="]("halign",e.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](p));if((h=(f=n["$nil_or_empty?"]()["$!"](),!1!==f&&f!==b?e.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](n):f))!==b&&(!h.$$is_boolean||
	1==h))l["$[]="]("valign",e.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](n))}if((h=(f=k["$[]"](4),!1!==f&&f!==b?e.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](k["$[]"](4)):f))!==b&&(!h.$$is_boolean||1==h))l["$[]="]("style",e.get("Table").$$scope.get("TEXT_STYLES")["$[]"](k["$[]"](4)));return[l,m]});a.defs(h,"$parse_style_attribute",function(a,d){var c,g,h,f,k,m,p,r=b,q=b,w=b,u=b,z=b,C=b,E=q=h=b;null==d&&(d=b);r=a["$[]"]("style");q=a["$[]"](1);if((c=(g=(h=!1!==q&&q!==b)?q["$include?"](" ")["$!"]():
	q,!1!==g&&g!==b?e.get("Compliance").$shorthand_property_syntax():g))===b||c.$$is_boolean&&1!=c)return a["$[]="]("style",q),[q,r];w="style";u=[];z=t([],{});C=(c=(g=this).$lambda,c.$$p=(f=function(){var a=f.$$s||this,e,c,g=b;return(e=u["$empty?"]())===b||e.$$is_boolean&&1!=e?(g=w,"role"["$==="](g)||"option"["$==="](g)?(e=w,a=z,!1!==(c=a["$[]"](e))&&c!==b?c:a["$[]="](e,[]),z["$[]"](w).$push(u.$join())):("id"["$==="](g)&&((e=z["$has_key?"]("id"))===b||e.$$is_boolean&&1!=e||a.$warn("asciidoctor: WARNING:"+
	((e=d["$nil?"]())===b||e.$$is_boolean&&1!=e?" "+d.$prev_line_info()+":":b)+" multiple ids detected in style attribute")),z["$[]="](w,u.$join())),u=[]):(e=w["$!="]("style"))===b||e.$$is_boolean&&1!=e?b:a.$warn("asciidoctor: WARNING:"+((e=d["$nil?"]())===b||e.$$is_boolean&&1!=e?" "+d.$prev_line_info()+":":b)+" invalid empty "+w+" detected in style attribute")},f.$$s=this,f),c).call(g);(c=(h=q).$each_char,c.$$p=(k=function(a){var e,d,c,g=b;null==a&&(a=b);if((e=!1!==(d=!1!==(c=a["$=="]("."))&&c!==b?c:
	a["$=="]("#"))&&d!==b?d:a["$=="]("%"))===b||e.$$is_boolean&&1!=e)return u.$push(a);C.$call();g=a;return"."["$==="](g)?w="role":"#"["$==="](g)?w="id":"%"["$==="](g)?w="option":b},k.$$s=this,k),c).call(h);if(w["$=="]("style"))h=a["$[]="]("style",q);else{C.$call();h=(c=z["$has_key?"]("style"))===b||c.$$is_boolean&&1!=c?b:a["$[]="]("style",z["$[]"]("style"));if((c=z["$has_key?"]("id"))!==b&&(!c.$$is_boolean||1==c))a["$[]="]("id",z["$[]"]("id"));if((c=z["$has_key?"]("role"))!==b&&(!c.$$is_boolean||1==
	c))a["$[]="]("role",l(z["$[]"]("role")," "));if((c=z["$has_key?"]("option"))!==b&&(!c.$$is_boolean||1==c))if((c=(m=q=z["$[]"]("option")).$each,c.$$p=(p=function(e){null==e&&(e=b);return a["$[]="](""+e+"-option","")},p.$$s=this,p),c).call(m),(c=E=a["$[]"]("options"))===b||c.$$is_boolean&&1!=c)a["$[]="]("options",l(q,","));else a["$[]="]("options",l(n(q,E.$split(",")),","))}return[h,r]});a.defs(h,"$adjust_indentation!",function(a,d,c){var h,f,m,p,w,u,t,z=b,C=b,E=b;null==d&&(d=0);null==c&&(c=0);if((h=
	a["$empty?"]())!==b&&(!h.$$is_boolean||1==h))return b;(h=(f=q(c=c.$to_i(),0))?a.$join()["$include?"](e.get("TAB")):q(c=c.$to_i(),0))===b||h.$$is_boolean&&1!=h||(z=l(" ",c),(h=(f=a)["$map!"],h.$$p=(m=function(a){var d=m.$$s||this,h,f,p,r,q,w=b;null==a&&(a=b);if((h=a["$empty?"]())!==b&&(!h.$$is_boolean||1==h))return a;(h=a["$start_with?"](e.get("TAB")))===b||h.$$is_boolean&&1!=h||(h=(f=a)["$sub!"],h.$$p=(p=function(a){null==a&&(a=b);return l(z,a.$length())},p.$$s=d,p),h).call(f,e.get("TabIndentRx"));
	if((h=a["$include?"](e.get("TAB")))===b||h.$$is_boolean&&1!=h)return a;w=0;return(h=(r=a)["$gsub!"],h.$$p=(q=function(){var a=b,e=b;null==g["~"]&&(g["~"]=b);if((a=n(g["~"].$begin(0),w))["$%"](c)["$=="](0))return w=n(w,k(c,1)),z;(e=k(c,a["$%"](c)))["$=="](1)||(w=n(w,k(e,1)));return l(" ",e)},q.$$s=d,q),h).call(r,e.get("TabRx"))},m.$$s=this,m),h).call(f));if((h=(f=!1!==d&&d!==b)?q(d=d.$to_i(),-1):d)===b||h.$$is_boolean&&1!=h)return b;C=b;(h=(f=a).$each,h.$$p=(p=function(a){var e,d=b;null==a&&(a=b);
	return(e=a["$empty?"]())===b||e.$$is_boolean&&1!=e?(d=k(a.$length(),a.$lstrip().$length()))["$=="](0)?(C=b,D.$v=b,D):(e=!1!==C&&C!==b?q(d,C):C)===b||e.$$is_boolean&&1!=e?C=d:b:b},p.$$s=this,p),h).call(f);d["$=="](0)?!1!==C&&C!==b&&(h=a["$map!"],h.$$p=(w=function(a){var e;null==a&&(a=b);return(e=a["$empty?"]())===b||e.$$is_boolean&&1!=e?a["$[]"](r(C,-1,!1)):a},w.$$s=this,w),h).call(a):(E=l(" ",d),!1!==C&&C!==b?(h=a["$map!"],h.$$p=(u=function(a){var e;null==a&&(a=b);return(e=a["$empty?"]())===b||e.$$is_boolean&&
	1!=e?n(E,a["$[]"](r(C,-1,!1))):a},u.$$s=this,u),h).call(a):(h=a["$map!"],h.$$p=(t=function(a){var e;null==a&&(a=b);return(e=a["$empty?"]())===b||e.$$is_boolean&&1!=e?n(E,a):a},t.$$s=this,t),h).call(a));return b});a.defs(h,"$sanitize_attribute_name",function(a){return a.$gsub(e.get("InvalidAttributeNameCharsRx"),"").$downcase()});return(a.defs(h,"$roman_numeral_to_int",function(a){var e,d,g,h=b,f=b;a=a.$downcase();h=t(["i","v","x"],{i:1,v:5,x:10});f=0;(e=(d=r(0,k(a.$length(),1),!1)).$each,e.$$p=(g=
	function(e){var d,g=b;null==e&&(e=b);g=h["$[]"](a["$[]"](r(e,e,!1)));return(d=c(n(e,1),a.$length())?q(h["$[]"](a["$[]"](r(n(e,1),n(e,1),!1))),g):c(n(e,1),a.$length()))===b||d.$$is_boolean&&1!=d?f=n(f,g):f=k(f,g)},g.$$s=this,g),e).call(d);return f}),b)&&"roman_numeral_to_int"})(x(m,"Asciidoctor").$$scope.base,null)}(a.base)};
	Opal.modules["asciidoctor/path_resolver"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var q=a.nil,l=a.module,f=a.klass,k=a.hash2,d=a.range;a.add_stubs("$attr_accessor $is_root? $expand_path $pwd $start_with? $== $=~ $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixfy $is_web_root? $is_unc? $index $split $shift $delete $[]= $* $raise $empty? $system_path $!= $! $dup $each $> $length $pop $fetch $warn $push $uri_prefix $<< $+ $chomp".split(" "));
	return function(c){(function(b,$super){function c(){}var l=c=f(b,$super,"PathResolver",c),t=l.$$proto,p=l.$$scope;t.file_separator=t._partition_path_web=t._partition_path_sys=t.working_dir=q;a.cdecl(p,"DOT",".");a.cdecl(p,"DOT_DOT","..");a.cdecl(p,"DOT_SLASH","./");a.cdecl(p,"SLASH","/");a.cdecl(p,"BACKSLASH","\\");a.cdecl(p,"DOUBLE_SLASH","//");a.cdecl(p,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);l.$attr_accessor("file_separator");l.$attr_accessor("working_dir");a.defn(l,"$initialize",function(b,d){var c;
	null==b&&(b=q);null==d&&(d=q);this.file_separator=!1!==b&&b!==q?b:!1!==(c=a.get("File").$$scope.get("ALT_SEPARATOR"))&&c!==q?c:a.get("File").$$scope.get("SEPARATOR");this.working_dir=!1!==d&&d!==q?(c=this["$is_root?"](d))===q||c.$$is_boolean&&1!=c?a.get("File").$expand_path(d):d:a.get("File").$expand_path(a.get("Dir").$pwd());this._partition_path_sys=k([],{});return this._partition_path_web=k([],{})});a.defn(l,"$is_root?",function(b){var d,c,f;return(d=b["$start_with?"](p.get("SLASH")))===q||d.$$is_boolean&&
	1!=d?(d=this.file_separator["$=="](p.get("BACKSLASH"))?p.get("WindowsRootRx")["$=~"](b):this.file_separator["$=="](p.get("BACKSLASH")))===q||d.$$is_boolean&&1!=d?(d=(c=(f=a.get("RUBY_ENGINE_OPAL"),!1!==f&&f!==q?a.get("JAVASCRIPT_PLATFORM")["$=="]("browser"):f),!1!==c&&c!==q?b["$start_with?"]("file:///"):c))===q||d.$$is_boolean&&1!=d?!1:!0:!0:!0});a.defn(l,"$is_unc?",function(a){return a["$start_with?"](p.get("DOUBLE_SLASH"))});a.defn(l,"$is_web_root?",function(a){return a["$start_with?"](p.get("SLASH"))});
	a.defn(l,"$posixfy",function(a){var b;return(b=a["$nil_or_empty?"]())===q||b.$$is_boolean&&1!=b?(b=a["$include?"](p.get("BACKSLASH")))===q||b.$$is_boolean&&1!=b?a:a.$tr(p.get("BACKSLASH"),p.get("SLASH")):""});a.defn(l,"$expand_path",function(b){var d=q,c=q;b=a.to_ary(this.$partition_path(b));d=null==b[0]?q:b[0];c=null==b[1]?q:b[1];return this.$join_path(d,c)});a.defn(l,"$partition_path",function(a,b){var c,f=q,k=f=q,l=q;null==b&&(b=!1);if((c=f=!1!==b&&b!==q?this._partition_path_web["$[]"](a):this._partition_path_sys["$[]"](a))!==
	q&&(!c.$$is_boolean||1==c))return f;f=this.$posixfy(a);k=!1!==b&&b!==q?(c=this["$is_web_root?"](f))===q||c.$$is_boolean&&1!=c?(c=f["$start_with?"](p.get("DOT_SLASH")))===q||c.$$is_boolean&&1!=c?q:p.get("DOT_SLASH"):p.get("SLASH"):(c=this["$is_root?"](f))===q||c.$$is_boolean&&1!=c?(c=f["$start_with?"](p.get("DOT_SLASH")))===q||c.$$is_boolean&&1!=c?q:p.get("DOT_SLASH"):(c=this["$is_unc?"](f))===q||c.$$is_boolean&&1!=c?(c=f["$start_with?"](p.get("SLASH")))===q||c.$$is_boolean&&1!=c?f["$[]"](d(0,f.$index(p.get("SLASH")),
	!1)):p.get("SLASH"):p.get("DOUBLE_SLASH");l=f.$split(p.get("SLASH"));k["$=="](p.get("DOUBLE_SLASH"))?l=l["$[]"](d(2,-1,!1)):!1!==k&&k!==q&&l.$shift();l.$delete(p.get("DOT"));return(!1!==b&&b!==q?this._partition_path_web:this._partition_path_sys)["$[]="](a,[l,k,f])});a.defn(l,"$join_path",function(a,b){null==b&&(b=q);return!1!==b&&b!==q?""+b+n(a,p.get("SLASH")):n(a,p.get("SLASH"))});a.defn(l,"$system_path",function(b,d,c,f){var l,n,h,e=q,w=q,t=q,C=q,x=q,y=x=t=q,v=q;null==c&&(c=q);null==f&&(f=k([],
	{}));!1!==c&&c!==q&&(((l=this["$is_root?"](c))===q||l.$$is_boolean&&1!=l)&&this.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+c),c=this.$posixfy(c));(l=b["$nil_or_empty?"]())===q||l.$$is_boolean&&1!=l?(l=a.to_ary(this.$partition_path(b)),e=null==l[0]?q:l[0],w=null==l[1]?q:l[1]):e=[];if((l=e["$empty?"]())!==q&&(!l.$$is_boolean||1==l))if((l=d["$nil_or_empty?"]())===q||l.$$is_boolean&&1!=l){if((l=this["$is_root?"](d))===q||l.$$is_boolean&&1!=l)return this.$system_path(d,c,c,f);if(!1===
	c||c===q)return this.$expand_path(d)}else return!1!==c&&c!==q?c:this.working_dir;if(!((l=(n=!1!==w&&w!==q)?w["$!="](p.get("DOT_SLASH")):w)===q||l.$$is_boolean&&1!=l||(t=this.$join_path(e,w),(l=!1!==(n=c["$!"]())&&n!==q?n:t["$start_with?"](c))===q||l.$$is_boolean&&1!=l)))return t;d=(l=d["$nil_or_empty?"]())===q||l.$$is_boolean&&1!=l?(l=this["$is_root?"](d))===q||l.$$is_boolean&&1!=l?this.$system_path(d,c,c,f):this.$posixfy(d):!1!==c&&c!==q?c:this.working_dir;c["$=="](d)?(l=a.to_ary(this.$partition_path(c)),
	C=null==l[0]?q:l[0],x=null==l[1]?q:l[1],t=C.$dup()):(!1!==c&&c!==q?(((l=d["$start_with?"](c))===q||l.$$is_boolean&&1!=l)&&this.$raise(a.get("SecurityError"),""+(!1!==(l=f["$[]"]("target_name"))&&l!==q?l:"Start path")+" "+d+" is outside of jail: "+c+" (disallowed in safe mode)"),l=a.to_ary(this.$partition_path(d)),t=null==l[0]?q:l[0],x=null==l[1]?q:l[1],l=a.to_ary(this.$partition_path(c)),C=null==l[0]?q:l[0]):(l=a.to_ary(this.$partition_path(d)),t=null==l[0]?q:l[0]),x=null==l[1]?q:l[1]);y=t.$dup();
	v=!1;(l=(n=e).$each,l.$$p=(h=function(e){var d=h.$$s||this,g;null==e&&(e=q);if(e["$=="](p.get("DOT_DOT"))){if(!1!==c&&c!==q){e=y.$length();var k=C.$length();if("number"===typeof e&&"number"===typeof k?e>k:e["$>"](k))return y.$pop();if((g=(!1!==q&&q!==q?q:f.$fetch("recover",!0))["$!"]())===q||g.$$is_boolean&&1!=g){if((g=v["$!"]())===q||g.$$is_boolean&&1!=g)return q;d.$warn("asciidoctor: WARNING: "+(!1!==(g=f["$[]"]("target_name"))&&g!==q?g:"path")+" has illegal reference to ancestor of jail, auto-recovering");
	return v=!0}return d.$raise(a.get("SecurityError"),""+(!1!==(g=f["$[]"]("target_name"))&&g!==q?g:"path")+" "+b+" refers to location outside jail: "+c+" (disallowed in safe mode)")}return y.$pop()}return y.$push(e)},h.$$s=this,h),l).call(n);return this.$join_path(y,x)});a.defn(l,"$web_path",function(b,c){var f,k,l,n=q,h=q,e=q,w=q;null==c&&(c=q);b=this.$posixfy(b);c=this.$posixfy(c);n=q;if((f=!1!==(k=c["$nil_or_empty?"]())&&k!==q?k:this["$is_web_root?"](b))===q||f.$$is_boolean&&1!=f)b=""+c+p.get("SLASH")+
	b,(f=n=p.get("Helpers").$uri_prefix(b))===q||f.$$is_boolean&&1!=f||(b=b["$[]"](d(n.$length(),-1,!1)));f=a.to_ary(this.$partition_path(b,!0));h=null==f[0]?q:f[0];e=null==f[1]?q:f[1];w=[];(f=(k=h).$each,f.$$p=(l=function(a){var b;null==a&&(a=q);return a["$=="](p.get("DOT_DOT"))?(b=w["$empty?"]())===q||b.$$is_boolean&&1!=b?w["$[]"](-1)["$=="](p.get("DOT_DOT"))?w["$<<"](a):w.$pop():(b=!1!==e&&e!==q?e["$!="](p.get("DOT_SLASH")):e)===q||b.$$is_boolean&&1!=b?w["$<<"](a):q:w["$<<"](a)},l.$$s=this,l),f).call(k);
	return!1!==n&&n!==q?""+n+this.$join_path(w,e):this.$join_path(w,e)});return(a.defn(l,"$relative_path",function(a,b){var c,f,k=q;if((c=(f=this["$is_root?"](a),!1!==f&&f!==q?this["$is_root?"](b):f))===q||c.$$is_boolean&&1!=c)return a;c=b.$chomp(this.file_separator).$length();k="number"===typeof c?c+1:c["$+"](1);return a["$[]"](d(k,-1,!1))}),q)&&"relative_path"})(l(c,"Asciidoctor").$$scope.base,null)}(a.base)};
	Opal.modules["asciidoctor/reader"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}a.dynamic_require_severity="ignore";var d=a.nil,c=a.breaker,b=
	a.slice,D=a.module,x=a.klass,y=a.hash2,t=a.range;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $is_a? $split $file $dir $dirname $== $basename $prepare_lines $dup $empty? $[] $normalize_lines_from_string $normalize_lines_array $+ $nil? $peek_line $nil_or_empty? $> $process_line $times $read_line $<< $reverse_each $unshift $has_more_lines? $shift $* $read_lines $advance $eof? $start_with? $match $push $read_lines_until $=~ $size $clear $[]= $- $new $line_info $to_i $fetch $attributes $< $references $has_key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $preprocess_conditional_inclusion $captures $preprocess_include $strip $pop_include $downcase $warn $=== $detect $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $pwd $base_dir $join $uriish? $require_library $normalize_system_path $file? $relative_path $each $map $to_proc $/ $concat $to_a $uniq $sort $to_set $open $each_line $infinite? $push_include $force_encoding $chomp $read $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
	return function(p){p=D(p,"Asciidoctor").$$scope;(function(b,$super){function k(){}var p=k=x(b,$super,"Reader",k),A=p.$$proto,z=p.$$scope,h;A.file=A.dir=A.lines=A.process_lines=A.look_ahead=A.eof=A.unescape_next_line=A.lineno=A.path=A.source_lines=d;(function(b,$super){function c(){}var h=c=x(b,$super,"Cursor",c);h.$attr_accessor("file");h.$attr_accessor("dir");h.$attr_accessor("path");h.$attr_accessor("lineno");a.defn(h,"$initialize",function(a,b,e,c){null==b&&(b=d);null==e&&(e=d);null==c&&(c=d);
	this.file=a;this.dir=b;this.path=e;return this.lineno=c});a.defn(h,"$line_info",function(){return""+this.$path()+": line "+this.$lineno()});return a.alias(h,"to_s","line_info")})(z.base,null);p.$attr_reader("file");p.$attr_reader("dir");p.$attr_reader("path");p.$attr_reader("lineno");p.$attr_reader("source_lines");p.$attr_accessor("process_lines");a.defn(p,"$initialize",function(b,c,h){var f;null==b&&(b=d);null==c&&(c=d);null==h&&(h=y(["normalize"],{normalize:!1}));if((f=c["$!"]())===d||f.$$is_boolean&&
	1!=f)if((f=c["$is_a?"](a.get("String")))===d||f.$$is_boolean&&1!=f){this.file=c.$file();this.dir=c.$dir();this.path=!1!==(f=c.$path())&&f!==d?f:"<stdin>";if((f=this.file)!==d&&(!f.$$is_boolean||1==f)){if((f=this.dir)===d||f.$$is_boolean&&1!=f)this.dir=a.get("File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=d);if((f=c.$path())===d||f.$$is_boolean&&1!=f)this.path=a.get("File").$basename(this.file)}this.lineno=!1!==(f=c.$lineno())&&f!==d?f:1}else this.file=c,f=a.to_ary(a.get("File").$split(this.file)),
	this.dir=null==f[0]?d:f[0],this.path=null==f[1]?d:f[1],this.lineno=1;else this.file=this.dir=d,this.path="<stdin>",this.lineno=1;this.lines=!1!==b&&b!==d?this.$prepare_lines(b,h):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1});a.defn(p,"$prepare_lines",function(b,c){var h;null==c&&(c=y([],{}));return(h=b["$is_a?"](a.get("String")))===d||h.$$is_boolean&&1!=h?(h=c["$[]"]("normalize"))===d||h.$$is_boolean&&
	1!=h?b.$dup():z.get("Helpers").$normalize_lines_array(b):(h=c["$[]"]("normalize"))===d||h.$$is_boolean&&1!=h?b.$split(z.get("EOL")):z.get("Helpers").$normalize_lines_from_string(b)});a.defn(p,"$process_line",function(a){var b;(b=this.process_lines)===d||b.$$is_boolean&&1!=b||(this.look_ahead=n(this.look_ahead,1));return a});a.defn(p,"$has_more_lines?",function(){var a;return(!1!==(a=this.eof)&&a!==d?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()});a.defn(p,"$next_line_empty?",function(){return this.$peek_line()["$nil_or_empty?"]()});
	a.defn(p,"$peek_line",function(a){var b,c,h=d;null==a&&(a=!1);if((b=!1!==(c=a)&&c!==d?c:q(this.look_ahead,0))===d||b.$$is_boolean&&1!=b){if((b=!1!==(c=this.eof)&&c!==d?c:this.lines["$empty?"]())===d||b.$$is_boolean&&1!=b)return(b=(h=this.$process_line(this.lines["$[]"](0)))["$!"]())===d||b.$$is_boolean&&1!=b?h:this.$peek_line();this.eof=!0;this.look_ahead=0;return d}return(b=this.unescape_next_line)===d||b.$$is_boolean&&1!=b?this.lines["$[]"](0):this.lines["$[]"](0)["$[]"](t(1,-1,!1))});a.defn(p,
	"$peek_lines",function(a,b){var h,f,k,l,m,p=d,n=d;null==a&&(a=1);null==b&&(b=!0);p=this.look_ahead;n=[];(h=(f=a).$times,h.$$p=(k=function(){var a,e=d;return(a=e=(k.$$s||this).$read_line(b))===d||a.$$is_boolean&&1!=a?(c.$v=d,c):n["$<<"](e)},k.$$s=this,k),h).call(f);if((h=n["$empty?"]())===d||h.$$is_boolean&&1!=h)(h=(l=n).$reverse_each,h.$$p=(m=function(a){var b=m.$$s||this;null==a&&(a=d);return b.$unshift(a)},m.$$s=this,m),h).call(l),!1!==b&&b!==d&&(this.look_ahead=p);return n});a.defn(p,"$read_line",
	function(a){var b,c,h;null==a&&(a=!1);return(b=!1!==(c=!1!==(h=a)&&h!==d?h:q(this.look_ahead,0))&&c!==d?c:this["$has_more_lines?"]())===d||b.$$is_boolean&&1!=b?d:this.$shift()});a.defn(p,"$read_lines",function(){for(var a,b=d,b=[];(a=this["$has_more_lines?"]())!==d&&(!a.$$is_boolean||1==a);)b["$<<"](this.$shift());return b});a.alias(p,"readlines","read_lines");a.defn(p,"$read",function(){return l(this.$read_lines(),z.get("EOL"))});a.defn(p,"$advance",function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()});
	a.defn(p,"$unshift_line",function(a){this.$unshift(a);return d});a.alias(p,"restore_line","unshift_line");a.defn(p,"$unshift_lines",function(a){var b,c;(b=a.$reverse_each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=d);return b.$unshift(a)},c.$$s=this,c),b).call(a);return d});a.alias(p,"restore_lines","unshift_lines");a.defn(p,"$replace_next_line",function(a){this.$advance();this.$unshift(a);return d});a.alias(p,"replace_line","replace_next_line");a.defn(p,"$skip_blank_lines",function(){var a,
	b,c=d,h=d;if((a=this["$eof?"]())!==d&&(!a.$$is_boolean||1==a))return 0;for(c=0;!((b=h=this.$peek_line())===d||b.$$is_boolean&&1!=b||(b=h["$empty?"]())===d||b.$$is_boolean&&1!=b);)this.$advance(),c=n(c,1);return c});a.defn(p,"$skip_comment_lines",function(b){var c,h,f=d,k=d,l=d,m=d,p=d;null==b&&(b=y([],{}));if((c=this["$eof?"]())!==d&&(!c.$$is_boolean||1==c))return[];f=[];for(k=b["$[]"]("include_blank_lines");(h=l=this.$peek_line())!==d&&(!h.$$is_boolean||1==h);)if((h=(b=!1!==k&&k!==d)?l["$empty?"]():
	k)===d||h.$$is_boolean&&1!=h)if((h=(b=m=l["$start_with?"]("//"),!1!==b&&b!==d?p=z.get("CommentBlockRx").$match(l):b))===d||h.$$is_boolean&&1!=h)if((b=!1!==m&&m!==d?z.get("CommentLineRx")["$=~"](l):m)===d||b.$$is_boolean&&1!=b)break;else f["$<<"](this.$shift());else f["$<<"](this.$shift()),(h=f).$push.apply(h,a.to_a(this.$read_lines_until(y(["terminator","read_last_line","skip_processing"],{terminator:p["$[]"](0),read_last_line:!0,skip_processing:!0}))));else f["$<<"](this.$shift());return f});a.defn(p,
	"$skip_line_comments",function(){var a,b,c=d,h=d;if((a=this["$eof?"]())!==d&&(!a.$$is_boolean||1==a))return[];for(c=[];!((b=h=this.$peek_line())===d||b.$$is_boolean&&1!=b||(b=z.get("CommentLineRx")["$=~"](h))===d||b.$$is_boolean&&1!=b);)c["$<<"](this.$shift());return c});a.defn(p,"$terminate",function(){this.lineno=n(this.lineno,this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return d});a.defn(p,"$eof?",function(){return this["$has_more_lines?"]()["$!"]()});a.alias(p,"empty?",
	"eof?");a.defn(p,"$read_lines_until",h=function(b){var k,l,m,p,n,q=h.$$p||d,r=d,t=d,u=d,x=d,A=d,N=d,D=d,T=d,U=d,V=d;null==b&&(b=y([],{}));h.$$p=null;r=[];(k=b["$[]"]("skip_first_line"))===d||k.$$is_boolean&&1!=k||this.$advance();(k=(l=this.process_lines,!1!==l&&l!==d?b["$[]"]("skip_processing"):l))===d||k.$$is_boolean&&1!=k?t=!1:(this.process_lines=!1,t=!0);(k=u=b["$[]"]("terminator"))===d||k.$$is_boolean&&1!=k?(x=b["$[]"]("break_on_blank_lines"),A=b["$[]"]("break_on_list_continuation")):A=x=!1;N=
	b["$[]"]("skip_line_comments");for(U=T=D=!1;(l=(m=U["$!"](),!1!==m&&m!==d?V=this.$read_line():m))!==d&&(!l.$$is_boolean||1==l);)if(U=function(){for(;(m=!0)!==d&&(!m.$$is_boolean||1==m);)return((m=(p=!1!==u&&u!==d)?V["$=="](u):u)===d||m.$$is_boolean&&1!=m)&&((m=(p=!1!==x&&x!==d)?V["$empty?"]():x)===d||m.$$is_boolean&&1!=m)?(m=(p=(n=!1!==A&&A!==d)?D:A,!1!==p&&p!==d?V["$=="](z.get("LIST_CONTINUATION")):p))===d||m.$$is_boolean&&1!=m?(m=(p=q!==d)?(n=a.yield1(q,V))===c?c.$v:n:q!==d)===d||m.$$is_boolean&&
	1!=m?!1:!0:(b["$[]="]("preserve_last_line",!0),!0):!0;return d}(),!1!==U&&U!==d)(l=b["$[]"]("read_last_line"))===d||l.$$is_boolean&&1!=l||(r["$<<"](V),D=!0),(l=b["$[]"]("preserve_last_line"))===d||l.$$is_boolean&&1!=l||(this.$unshift(V),T=!0);else if((l=(m=(p=!1!==N&&N!==d)?V["$start_with?"]("//"):N,!1!==m&&m!==d?z.get("CommentLineRx")["$=~"](V):m))===d||l.$$is_boolean&&1!=l)r["$<<"](V),D=!0;!1!==t&&t!==d&&(this.process_lines=!0,(k=(l=!1!==T&&T!==d)?u["$!"]():T)===d||k.$$is_boolean&&1!=k||(this.look_ahead=
	f(this.look_ahead,1)));return r});a.defn(p,"$shift",function(){this.lineno=n(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=f(this.look_ahead,1));return this.lines.$shift()});a.defn(p,"$unshift",function(a){this.lineno=f(this.lineno,1);this.look_ahead=n(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)});a.defn(p,"$cursor",function(){return z.get("Cursor").$new(this.file,this.dir,this.path,this.lineno)});a.defn(p,"$line_info",function(){return""+this.path+": line "+this.lineno});
	a.alias(p,"next_line_info","line_info");a.defn(p,"$prev_line_info",function(){return""+this.path+": line "+f(this.lineno,1)});a.defn(p,"$lines",function(){return this.lines.$dup()});a.defn(p,"$string",function(){return l(this.lines,z.get("EOL"))});a.defn(p,"$source",function(){return l(this.source_lines,z.get("EOL"))});return(a.defn(p,"$to_s",function(){return this.$line_info()}),d)&&"to_s"})(p.base,null);(function(p,$super){function m(){}var u=m=x(p,$super,"PreprocessorReader",m),A=u.$$proto,z=u.$$scope,
	h,e,w,E;A.document=A.lineno=A.process_lines=A.look_ahead=A.skipping=A.include_stack=A.conditional_stack=A.path=A.include_processor_extensions=A.maxdepth=A.dir=A.lines=A.file=A.includes=A.unescape_next_line=d;u.$attr_reader("include_stack");u.$attr_reader("includes");a.defn(u,"$initialize",h=function(b,e,c){var f,k,l=d;null==e&&(e=d);null==c&&(c=d);h.$$p=null;this.document=b;a.find_super_dispatcher(this,"initialize",h,null).apply(this,[e,c,y(["normalize"],{normalize:!0})]);l=b.$attributes().$fetch("max-include-depth",
	64).$to_i();if("number"===typeof l?0>l:l["$<"](0))l=0;this.maxdepth=y(["abs","rel"],{abs:l,rel:l});this.include_stack=[];this.includes=(f=b.$references(),!1!==(k=f["$[]"]("includes"))&&k!==d?k:f["$[]="]("includes",[]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=d});a.defn(u,"$prepare_lines",e=function(c,h){var f=b.call(arguments,0),k,m,p,q=e.$$p,r=d,w=d,t=d,u=d;null==h&&(h=y([],{}));e.$$p=null;r=a.find_super_dispatcher(this,"prepare_lines",e,q).apply(this,
	f);if(!((k=(m=this.document,!1!==m&&m!==d?this.document.$attributes()["$has_key?"]("skip-front-matter"):m))===d||k.$$is_boolean&&1!=k||(k=w=this["$skip_front_matter!"](r))===d||k.$$is_boolean&&1!=k))this.document.$attributes()["$[]="]("front-matter",l(w,z.get("EOL")));if((k=h.$fetch("condense",!0))!==d&&(!k.$$is_boolean||1==k)){for(;(m=(p=t=r["$[]"](0),!1!==p&&p!==d?t["$empty?"]():p))!==d&&(!m.$$is_boolean||1==m);)m=r.$shift(),!1!==m&&m!==d?this.lineno=n(this.lineno,1):m;for(;(m=(p=u=r["$[]"](-1),
	!1!==p&&p!==d?u["$empty?"]():p))!==d&&(!m.$$is_boolean||1==m);)r.$pop()}if((k=h["$[]"]("indent"))!==d&&(!k.$$is_boolean||1==k))z.get("Parser")["$adjust_indentation!"](r,h["$[]"]("indent"),this.document.$attr("tabsize"));return r});a.defn(u,"$process_line",function(b){var e,c,h,f,k=d,l=d;if((e=this.process_lines)===d||e.$$is_boolean&&1!=e)return b;if((e=b["$empty?"]())!==d&&(!e.$$is_boolean||1==e))return this.look_ahead=n(this.look_ahead,1),"";if((e=(c=(h=b["$end_with?"]("]"),!1!==h&&h!==d?b["$start_with?"]("[")["$!"]():
	h),!1!==c&&c!==d?b["$include?"]("::"):c))===d||e.$$is_boolean&&1!=e){if((e=this.skipping)===d||e.$$is_boolean&&1!=e)return this.look_ahead=n(this.look_ahead,1),b;this.$advance();return d}if((e=(c=b["$include?"]("if"),!1!==c&&c!==d?k=z.get("ConditionalDirectiveRx").$match(b):c))===d||e.$$is_boolean&&1!=e){if((e=this.skipping)===d||e.$$is_boolean&&1!=e)return(e=(h=!1!==(f=l=b["$start_with?"]("\\include::"))&&f!==d?f:b["$start_with?"]("include::"),!1!==h&&h!==d?k=z.get("IncludeDirectiveRx").$match(b):
	h))===d||e.$$is_boolean&&1!=e?(this.look_ahead=n(this.look_ahead,1),b):!1!==l&&l!==d?(this.unescape_next_line=!0,this.look_ahead=n(this.look_ahead,1),b["$[]"](t(1,-1,!1))):(e=this.$preprocess_include(k["$[]"](1),k["$[]"](2).$strip()))===d||e.$$is_boolean&&1!=e?(this.look_ahead=n(this.look_ahead,1),b):d;this.$advance();return d}if((e=b["$start_with?"]("\\"))===d||e.$$is_boolean&&1!=e){if((e=(c=this).$preprocess_conditional_inclusion.apply(c,a.to_a(k.$captures())))===d||e.$$is_boolean&&1!=e)return this.look_ahead=
	n(this.look_ahead,1),b;this.$advance();return d}this.unescape_next_line=!0;this.look_ahead=n(this.look_ahead,1);return b["$[]"](t(1,-1,!1))});a.defn(u,"$peek_line",w=function(e){var c=b.call(arguments,0),h,f=w.$$p,k=d;null==e&&(e=!1);w.$$p=null;return(h=k=a.find_super_dispatcher(this,"peek_line",w,f).apply(this,c))===d||h.$$is_boolean&&1!=h?(h=this.include_stack["$empty?"]())===d||h.$$is_boolean&&1!=h?(this.$pop_include(),this.$peek_line(e)):d:k});a.defn(u,"$preprocess_conditional_inclusion",function(a,
	b,e,c){var h,f,k,l,m,p,n,r,w,t,u=d,x=u=d,A=d,E=A=x=u=d,x=d;if((h=!1!==(f=(k=!1!==(l=a["$=="]("ifdef"))&&l!==d?l:a["$=="]("ifndef"),!1!==k&&k!==d?b["$empty?"]():k))&&f!==d?f:(k=a["$=="]("endif"))?c:a["$=="]("endif"))!==d&&(!h.$$is_boolean||1==h))return!1;b=b.$downcase();if(a["$=="]("endif"))return u=this.conditional_stack.$size(),q(u,0)?(u=this.conditional_stack["$[]"](-1),(h=!1!==(f=b["$empty?"]())&&f!==d?f:b["$=="](u["$[]"]("target")))===d||h.$$is_boolean&&1!=h?this.$warn("asciidoctor: ERROR: "+
	this.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+u["$[]"]("target")+"[]"):(this.conditional_stack.$pop(),this.skipping=(h=this.conditional_stack["$empty?"]())===d||h.$$is_boolean&&1!=h?this.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1)):this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+b+"[]"),!0;x=!1;if((h=this.skipping)===d||h.$$is_boolean&&1!=h)if(A=a,"ifdef"["$==="](A))A=e,d["$==="](A)?x=this.document.$attributes()["$has_key?"](b)["$!"]():
	","["$==="](A)?x=(h=(f=b.$split(",")).$detect,h.$$p=(m=function(a){var b=m.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$has_key?"](a)},m.$$s=this,m),h).call(f)["$!"]():"+"["$==="](A)&&(x=(h=(k=b.$split("+")).$detect,h.$$p=(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$has_key?"](a)["$!"]()},p.$$s=this,p),h).call(k));else if("ifndef"["$==="](A))A=e,d["$==="](A)?x=this.document.$attributes()["$has_key?"](b):
	","["$==="](A)?x=(h=(l=b.$split(",")).$detect,h.$$p=(n=function(a){var b=n.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$has_key?"](a)["$!"]()},n.$$s=this,n),h).call(l)["$!"]():"+"["$==="](A)&&(x=(h=(r=b.$split("+")).$detect,h.$$p=(w=function(a){var b=w.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$has_key?"](a)},w.$$s=this,w),h).call(r));else if("ifeval"["$==="](A)){if((h=!1!==(t=b["$empty?"]()["$!"]())&&
	t!==d?t:(u=z.get("EvalExpressionRx").$match(c.$strip()))["$!"]())!==d&&(!h.$$is_boolean||1==h))return!1;x=this.$resolve_expr_val(u["$[]"](1));A=this.$resolve_expr_val(u["$[]"](3));x=(E=u["$[]"](2))["$=="]("!=")?x.$send("==",A):x.$send(E.$to_sym(),A)["$!"]()}if((h=!1!==(t=a["$=="]("ifeval"))&&t!==d?t:c["$!"]())!==d&&(!h.$$is_boolean||1==h))!1!==x&&x!==d&&(this.skipping=!0),this.conditional_stack["$<<"](y(["target","skip","skipping"],{target:b,skip:x,skipping:this.skipping}));else if((h=!1!==(t=this.skipping)&&
	t!==d?t:x)===d||h.$$is_boolean&&1!=h)x=this.$peek_line(!0),this.$replace_next_line(c.$rstrip()),this.$unshift(x);return!0});a.defn(u,"$preprocess_include",function(b,e){var h,m,p,r,t,w,u,x,A,E=d,D=d,V=d,J=d,Q=d,K=d,R=d,Z=d,aa=d,S=d,da=d,W=d,G=d,ea=d,H=d,X=d;if((h=(E=this.document.$sub_attributes(b,y(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===d||h.$$is_boolean&&1!=h){if((h=(m=this["$include_processors?"](),!1!==m&&m!==d?D=(p=(r=this.include_processor_extensions).$find,
	p.$$p=(t=function(a){null==a&&(a=d);return a.$instance()["$handles?"](E)},t.$$s=this,t),p).call(r):m))===d||h.$$is_boolean&&1!=h){if(k(this.document.$safe(),z.get("SafeMode").$$scope.get("SECURE")))return this.$replace_next_line("link:"+E+"[]"),!0;if((h=(m=q(V=this.maxdepth["$[]"]("abs"),0))?k(this.include_stack.$size(),V):q(V=this.maxdepth["$[]"]("abs"),0))===d||h.$$is_boolean&&1!=h){if(q(V,0)){if((h=a.get("RUBY_ENGINE_OPAL"))===d||h.$$is_boolean&&1!=h)if((h=z.get("Helpers")["$uriish?"](E))===d||
	h.$$is_boolean&&1!=h){J="file";Q=this.document.$normalize_system_path(E,this.dir,d,y(["target_name"],{target_name:"include file"}));if((h=a.get("File")["$file?"](Q))===d||h.$$is_boolean&&1!=h)return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+Q),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+E+"["+e+"]"),!0;K=z.get("PathResolver").$new().$relative_path(Q,this.document.$base_dir())}else{if((h=this.document.$attributes()["$has_key?"]("allow-uri-read"))===
	d||h.$$is_boolean&&1!=h)return this.$replace_next_line("link:"+E+"[]"),!0;J="uri";Q=K=E;if((h=this.document.$attributes()["$has_key?"]("cache-uri"))===d||h.$$is_boolean&&1!=h)(h=a.get("RUBY_ENGINE_OPAL")["$!"]())===d||h.$$is_boolean&&1!=h||a.get("OpenURI");else{var ka;try{ka=null!=a.get("OpenURI").$$scope.get("Cache")?"constant":d}catch(ia){if(ia.$$class===a.NameError)ka=d;else throw ia;}((h=ka)===d||h.$$is_boolean&&1!=h)&&z.get("Helpers").$require_library("open-uri/cached","open-uri-cached")}}else J=
	"file",Q=K=(h=this.include_stack["$empty?"]())===d||h.$$is_boolean&&1!=h?a.get("File").$join(this.dir,E):a.get("Dir").$pwd()["$=="](this.document.$base_dir())?E:a.get("File").$join(this.dir,E);Z=R=d;aa=y([],{});(h=e["$empty?"]()["$!"]())===d||h.$$is_boolean&&1!=h||(aa=z.get("AttributeList").$new(e).$parse(),(h=aa["$has_key?"]("lines"))===d||h.$$is_boolean&&1!=h?(h=aa["$has_key?"]("tag"))===d||h.$$is_boolean&&1!=h?(h=aa["$has_key?"]("tags"))===d||h.$$is_boolean&&1!=h||(Z=aa["$[]"]("tags").$split(z.get("DataDelimiterRx")).$to_set()):
	Z=[aa["$[]"]("tag")].$to_set():(R=[],(h=(m=aa["$[]"]("lines").$split(z.get("DataDelimiterRx"))).$each,h.$$p=(w=function(b){var e,c,h,f=d,k=d;null==b&&(b=d);if((e=b["$include?"](".."))===d||e.$$is_boolean&&1!=e)return R["$<<"](b.$to_i());e=a.to_ary((c=(h=b.$split("..")).$map,c.$$p="to_i".$to_proc(),c).call(h));f=null==e[0]?d:e[0];k=null==e[1]?d:e[1];return k["$=="](-1)?(R["$<<"](f),R["$<<"](1/0)):R.$concat(a.get("Range").$new(f,k).$to_a())},w.$$s=this,w),h).call(m),R=R.$sort().$uniq()));if(!1!==R&&
	R!==d){if((h=R["$empty?"]())===d||h.$$is_boolean&&1!=h){S=[];W=da=0;try{(h=(p=this).$open,h.$$p=(u=function(b){var e=u.$$s||this,h,f,k;null==b&&(b=d);return(h=(f=b).$each_line,h.$$p=(k=function(e){var h,f,k=d;null==e&&(e=d);W=n(W,1);k=R["$[]"](0);if((h=(f=k["$is_a?"](a.get("Float")),!1!==f&&f!==d?k["$infinite?"]():f))===d||h.$$is_boolean&&1!=h)return b.$lineno()["$=="](k)&&(S.$push(e),da["$=="](0)&&(da=W),R.$shift()),(h=R["$empty?"]())===d||h.$$is_boolean&&1!=h?d:(c.$v=d,c);S.$push(e);return da["$=="](0)?
	da=W:d},k.$$s=e,k),h).call(f)},u.$$s=this,u),h).call(p,Q,"r")}catch(ia){try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+J+" not readable: "+Q),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+E+"["+e+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}this.$advance();this.$push_include(S,Q,K,da,aa)}}else if(!1!==Z&&Z!==d){if((h=Z["$empty?"]())===d||h.$$is_boolean&&1!=h){S=[];W=da=0;G=d;ea=a.get("Set").$new();try{(h=this.$open,h.$$p=(x=function(b){var e=
	x.$$s||this,h,f,k;null==b&&(b=d);return(h=(f=b).$each_line,h.$$p=(k=function(b){var e=k.$$s||this,h,f,l,m=d;null==b&&(b=d);W=n(W,1);(h=z.get("FORCE_ENCODING"))===d||h.$$is_boolean&&1!=h||b.$force_encoding(a.get("Encoding").$$scope.get("UTF_8"));b=b.$rstrip();m=b.$chomp("--\x3e").$rstrip();return!1!==G&&G!==d?(h=m["$end_with?"]("end::"+G+"[]"))===d||h.$$is_boolean&&1!=h?(((h=(f=m["$end_with?"]("[]"),!1!==f&&f!==d?z.get("TagDirectiveRx")["$=~"](m):f))===d||h.$$is_boolean&&1!=h)&&S.$push(b),da["$=="](0)?
	da=W:d):G=d:(h=(f=m["$end_with?"]("[]"),!1!==f&&f!==d?z.get("TagDirectiveRx")["$=~"](m):f))===d||h.$$is_boolean&&1!=h?d:(h=(f=Z).$each,h.$$p=(l=function(a){var b;null==a&&(a=d);if((b=m["$end_with?"]("tag::"+a+"[]"))===d||b.$$is_boolean&&1!=b)return d;G=a;ea["$<<"](a);return c.$v=d,c},l.$$s=e,l),h).call(f)},k.$$s=e,k),h).call(f)},x.$$s=this,x),h).call(this,Q,"r")}catch(ia){try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+J+" not readable: "+Q),this.$replace_next_line("Unresolved directive in "+
	this.path+" - include::"+E+"["+e+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}((h=(H=f(Z.$to_a(),ea.$to_a()))["$empty?"]())===d||h.$$is_boolean&&1!=h)&&this.$warn("asciidoctor: WARNING: "+this.$line_info()+": tag"+(q(H.$size(),1)?"s":d)+" '"+l(H,",")+"' not found in include "+J+": "+Q);this.$advance();this.$push_include(S,Q,K,da,aa)}}else try{X=(h=this.$open,h.$$p=(A=function(a){null==a&&(a=d);return a.$read()},A.$$s=this,A),h).call(this,Q,"r"),this.$advance(),this.$push_include(X,Q,K,
	1,aa)}catch(ia){try{this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+J+" not readable: "+Q),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+E+"["+e+"]")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return!0}return!1}this.$warn("asciidoctor: ERROR: "+this.$line_info()+": maximum include depth of "+this.maxdepth["$[]"]("rel")+" exceeded");return!1}this.$advance();D.$process_method()["$[]"](this.document,this,E,z.get("AttributeList").$new(e).$parse());
	return!0}this.$advance();this.document.$attributes().$fetch("attribute-missing",z.get("Compliance").$attribute_missing())["$=="]("skip")&&this.$unshift("Unresolved directive in "+this.path+" - include::"+b+"["+e+"]");return!0});a.defn(u,"$push_include",function(b,e,c,h,k){var l,m=d,p=d;null==e&&(e=d);null==c&&(c=d);null==h&&(h=1);null==k&&(k=y([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);!1!==e&&e!==d?(this.file=e,this.dir=
	z.get("File").$dirname(e),this.process_lines=z.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(e))):(this.file=d,this.dir=".",this.process_lines=!0);!1!==c&&c!==d?(this.includes["$<<"](z.get("Helpers").$rootname(c)),e=c):e="<stdin>";this.path=e;this.lineno=h;if((l=k["$has_key?"]("depth"))!==d&&(!l.$$is_boolean||1==l)){m=k["$[]"]("depth").$to_i();if("number"===typeof m?0>=m:m["$<="](0))m=1;this.maxdepth=y(["abs","rel"],{abs:n(f(this.include_stack.$size(),1),m),rel:m})}(l=(this.lines=this.$prepare_lines(b,
	y(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:k["$[]"]("indent")})))["$empty?"]())===d||l.$$is_boolean&&1!=l?((l=k["$has_key?"]("leveloffset"))===d||l.$$is_boolean&&1!=l||(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+k["$[]"]("leveloffset")),this.lines.$push(""),(l=p=this.document.$attr("leveloffset"))===d||l.$$is_boolean&&1!=l?this.lines.$push(":leveloffset!:"):this.lines.$push(":leveloffset: "+p),this.lineno=f(this.lineno,2)),this.eof=!1,this.look_ahead=0):
	this.$pop_include();return d});a.defn(u,"$pop_include",function(){var b;q(this.include_stack.$size(),0)&&(b=a.to_ary(this.include_stack.$pop()),this.lines=null==b[0]?d:b[0],this.file=null==b[1]?d:b[1],this.dir=null==b[2]?d:b[2],this.path=null==b[3]?d:b[3],this.lineno=null==b[4]?d:b[4],this.maxdepth=null==b[5]?d:b[5],this.process_lines=null==b[6]?d:b[6],this.eof=this.lines["$empty?"](),this.look_ahead=0);return d});a.defn(u,"$include_depth",function(){return this.include_stack.$size()});a.defn(u,"$exceeded_max_depth?",
	function(){var a,b=d;return(a=q(b=this.maxdepth["$[]"]("abs"),0)?k(this.include_stack.$size(),b):q(this.maxdepth["$[]"]("abs"),0))===d||a.$$is_boolean&&1!=a?!1:this.maxdepth["$[]"]("rel")});a.defn(u,"$shift",E=function(){var e=b.call(arguments,0),c,h=E.$$p;E.$$p=null;if((c=this.unescape_next_line)===d||c.$$is_boolean&&1!=c)return a.find_super_dispatcher(this,"shift",E,h).apply(this,e);this.unescape_next_line=!1;return a.find_super_dispatcher(this,"shift",E,h).apply(this,e)["$[]"](t(1,-1,!1))});a.defn(u,
	"$skip_front_matter!",function(b,e){var c,h,f,k=d,l=d;null==e&&(e=!0);k=d;if(b["$[]"](0)["$=="]("---")){l=b.$dup();k=[];b.$shift();!1!==e&&e!==d&&(this.lineno=n(this.lineno,1));for(;(h=(f=b["$empty?"]()["$!"](),!1!==f&&f!==d?b["$[]"](0)["$!="]("---"):f))!==d&&(!h.$$is_boolean||1==h);)k.$push(b.$shift()),!1!==e&&e!==d&&(this.lineno=n(this.lineno,1));(c=b["$empty?"]())===d||c.$$is_boolean&&1!=c?(b.$shift(),!1!==e&&e!==d&&(this.lineno=n(this.lineno,1))):((c=b).$unshift.apply(c,a.to_a(l)),!1!==e&&e!==
	d&&(this.lineno=0),k=d)}return k});a.defn(u,"$resolve_expr_val",function(a){var b,e,c,h=d;(b=!1!==(e=(c=a["$start_with?"]('"'),!1!==c&&c!==d?a["$end_with?"]('"'):c))&&e!==d?e:(c=a["$start_with?"]("'"),!1!==c&&c!==d?a["$end_with?"]("'"):c))===d||b.$$is_boolean&&1!=b?h=!1:(h=!0,a=a["$[]"](t(1,-1,!0)));(b=a["$include?"]("{"))===d||b.$$is_boolean&&1!=b||(a=this.document.$sub_attributes(a,y(["attribute_missing"],{attribute_missing:"drop"})));return!1!==h&&h!==d?a:(b=a["$empty?"]())===d||b.$$is_boolean&&
	1!=b?a["$=="]("true")?!0:a["$=="]("false")?!1:(b=a.$rstrip()["$empty?"]())===d||b.$$is_boolean&&1!=b?(b=a["$include?"]("."))===d||b.$$is_boolean&&1!=b?a.$to_i():a.$to_f():" ":d});a.defn(u,"$include_processors?",function(){var a,b;return(a=this.include_processor_extensions["$nil?"]())===d||a.$$is_boolean&&1!=a?this.include_processor_extensions["$!="](!1):(a=(b=this.document["$extensions?"](),!1!==b&&b!==d?this.document.$extensions()["$include_processors?"]():b))===d||a.$$is_boolean&&1!=a?this.include_processor_extensions=
	!1:(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]()});return(a.defn(u,"$to_s",function(){var a,b,e;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+(a=(b=this.include_stack).$map,a.$$p=(e=function(a){null==a&&(a=d);return a.$to_s()},e.$$s=this,e),a).call(b).$join(", ")+"]}>"}),d)&&"to_s"})(p.base,p.get("Reader"))}(a.base)};
	Opal.modules["asciidoctor/section"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}a.dynamic_require_severity="ignore";var l=a.nil,f=a.slice,k=a.module,d=a.klass,c=a.hash2,b=a.range;a.add_stubs("$attr_accessor $+ $level $> $== $context $special $has_key? $attributes $[] $chomp $tr_s $gsub $downcase $title $empty? $start_with? $unique_id_start_index $references $sectnum $assign_index $!= $class $object_id $inspect $size".split(" "));
	return function(D){D=k(D,"Asciidoctor").$$scope;(function(k,$super){function t(){}var p=t=d(k,$super,"Section",t),r=p.$$proto,g=p.$$scope,m,u,A;r.level=r.document=r.parent=r.number=r.title=r.numbered=r.blocks=l;p.$attr_accessor("index");p.$attr_accessor("number");p.$attr_accessor("sectname");p.$attr_accessor("special");p.$attr_accessor("numbered");a.defn(p,"$initialize",m=function(b,d,e,g){null==b&&(b=l);null==d&&(d=l);null==e&&(e=!0);null==g&&(g=c([],{}));m.$$p=null;a.find_super_dispatcher(this,
	"initialize",m,null).apply(this,[b,"section",g]);this.level=!1!==d&&d!==l?d:!1!==b&&b!==l?n(b.$level(),1):1;this.numbered=(d=!1!==e&&e!==l)?q(this.level,0):e;this.special=(d=!1!==b&&b!==l?b.$context()["$=="]("section"):b,!1!==d&&d!==l?b.$special():d);this.index=0;return this.number=1});a.alias(p,"name","title");a.defn(p,"$generate_id",function(){var a,d,e=l,c=l,f=l,k=c=l;if((a=this.document.$attributes()["$has_key?"]("sectids"))===l||a.$$is_boolean&&1!=a)return l;e=!1!==(a=this.document.$attributes()["$[]"]("idseparator"))&&
	a!==l?a:"_";c=!1!==(a=this.document.$attributes()["$[]"]("idprefix"))&&a!==l?a:"_";f=""+c+this.$title().$downcase().$gsub(g.get("InvalidSectionIdCharsRx"),e).$tr_s(e,e).$chomp(e);if((a=(d=c["$empty?"](),!1!==d&&d!==l?f["$start_with?"](e):d))!==l&&(!a.$$is_boolean||1==a))for(f=f["$[]"](b(1,-1,!1));(d=f["$start_with?"](e))!==l&&(!d.$$is_boolean||1==d);)f=f["$[]"](b(1,-1,!1));c=f;for(k=g.get("Compliance").$unique_id_start_index();(d=this.document.$references()["$[]"]("ids")["$has_key?"](c))!==l&&(!d.$$is_boolean||
	1==d);)c=""+f+e+k,k=n(k,1);return c});a.defn(p,"$sectnum",function(a,b){var e,d,c,g;null==a&&(a=".");null==b&&(b=l);!1!==(e=b)&&e!==l?e:b=b["$=="](!1)?"":a;return(e=(d=(c=(g=this.level,!1!==g&&g!==l?q(this.level,1):g),!1!==c&&c!==l?this.parent:c),!1!==d&&d!==l?this.parent.$context()["$=="]("section"):d))===l||e.$$is_boolean&&1!=e?""+this.number+b:""+this.parent.$sectnum(a)+this.number+b});a.defn(p,"$<<",u=function(b){var d=f.call(arguments,0),e=u.$$p;u.$$p=null;b.$context()["$=="]("section")&&this.$assign_index(b);
	return a.find_super_dispatcher(this,"<<",u,e).apply(this,d)});return(a.defn(p,"$to_s",A=function(){var b=f.call(arguments,0),d,e=A.$$p,c=l;A.$$p=null;if((d=this.title["$!="](l))===l||d.$$is_boolean&&1!=d)return a.find_super_dispatcher(this,"to_s",A,e).apply(this,b);c=(d=this.numbered)===l||d.$$is_boolean&&1!=d?this.title:""+this.$sectnum()+" "+this.title;return"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+c.$inspect()+", blocks: "+this.blocks.$size()+"}>"}),l)&&"to_s"})(D.base,
	D.get("AbstractBlock"))}(a.base)};
	Opal.modules["asciidoctor/stylesheets"]=function(a){a.dynamic_require_severity="ignore";var n=a.nil,q=a.module,l=a.klass,f=a.hash2;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $open $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(k){(function(d,$super){function b(){}var k=b=l(d,$super,"Stylesheets",b),q=k.$$proto,y=k.$$scope;q.primary_stylesheet_data=
	q.coderay_stylesheet_data=q.pygments_stylesheet_data=n;a.cdecl(y,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(y,"DEFAULT_PYGMENTS_STYLE","default");a.cdecl(y,"STYLESHEETS_DATA_PATH",a.get("File").$join(y.get("DATA_PATH"),"stylesheets"));k.__instance__=k.$new();a.defs(k,"$instance",function(){null==this.__instance__&&(this.__instance__=n);return this.__instance__});a.defn(k,"$primary_stylesheet_name",function(){return y.get("DEFAULT_STYLESHEET_NAME")});a.defn(k,"$primary_stylesheet_data",function(){var b;
	return!1!==(b=this.primary_stylesheet_data)&&b!==n?b:this.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(y.get("STYLESHEETS_DATA_PATH"),"asciidoctor-default.css")).$chomp()});a.defn(k,"$embed_primary_stylesheet",function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"});a.defn(k,"$write_primary_stylesheet",function(b){var d,f,g;return(d=(f=a.get("File")).$open,d.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=n);return a.$write(b.$primary_stylesheet_data())},g.$$s=
	this,g),d).call(f,a.get("File").$join(b,this.$primary_stylesheet_name()),"w")});a.defn(k,"$coderay_stylesheet_name",function(){return"coderay-asciidoctor.css"});a.defn(k,"$coderay_stylesheet_data",function(){var b;return!1!==(b=this.coderay_stylesheet_data)&&b!==n?b:this.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(y.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()});a.defn(k,"$embed_coderay_stylesheet",function(){return"<style>\n"+this.$coderay_stylesheet_data()+
	"\n</style>"});a.defn(k,"$write_coderay_stylesheet",function(b){var d,f,g;return(d=(f=a.get("File")).$open,d.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=n);return a.$write(b.$coderay_stylesheet_data())},g.$$s=this,g),d).call(f,a.get("File").$join(b,this.$coderay_stylesheet_name()),"w")});a.defn(k,"$pygments_stylesheet_name",function(a){var b;null==a&&(a=n);return"pygments-"+(!1!==(b=a)&&b!==n?b:y.get("DEFAULT_PYGMENTS_STYLE"))+".css"});a.defn(k,"$pygments_stylesheet_data",function(a){var b;return(b=
	this.$load_pygments())===n||b.$$is_boolean&&1!=b?"/* Pygments styles disabled. Pygments is not available. */":!1!==(b=this.pygments_stylesheet_data)&&b!==n?b:this.pygments_stylesheet_data=f([],{})});a.defn(k,"$embed_pygments_stylesheet",function(a){null==a&&(a=n);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"});a.defn(k,"$write_pygments_stylesheet",function(b,d){var f,g,k;null==d&&(d=n);return(f=(g=a.get("File")).$open,f.$$p=(k=function(a){var b=k.$$s||this;null==a&&(a=n);return a.$write(b.$pygments_stylesheet_data(d))},
	k.$$s=this,k),f).call(g,a.get("File").$join(b,this.$pygments_stylesheet_name(d)),"w")});return(a.defn(k,"$load_pygments",function(){var b;return(b=null==a.Object.$$scope.Pygments?n:"constant")===n||b.$$is_boolean&&1!=b?y.get("Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]():!0}),n)&&"load_pygments"})(q(k,"Asciidoctor").$$scope.base,null)}(a.base)};
	Opal.modules["asciidoctor/table"]=function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var d=a.nil,c=a.slice,b=a.module,
	D=a.klass,x=a.hash2,y=a.range;a.add_stubs("$attr_accessor $new $key? $[] $abs $to_i $== $!= $> $[]= $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_col_widths $** $assign_width $- $shift $style= $head= $foot= $pop $update_attributes $parent $attr_reader $delete $! $header_row? $table $split $include? $readlines $unshift $nil? $strip $apply_normal_subs $convert $map $text $to_s $cursor $raise $nested? $document $escape $columns $start_with? $match $chop $pre_match $post_match $end_with? $lstrip $push_cell_spec $cell_open? $close_cell $advance $take_cell_spec $fetch $warn $line_info $tr_s $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $close_row $rows $effective_col_visits".split(" "));
	return function(t){t=b(t,"Asciidoctor").$$scope;(function(b,$super){function c(){}var m=c=D(b,$super,"Table",c),u=m.$$proto,t=m.$$scope,z;u.attributes=u.document=u.has_header_option=u.rows=u.columns=d;(function(b,$super){function d(){}var c=d=D(b,$super,"Rows",d);c.$attr_accessor("head","foot","body");a.defn(c,"$initialize",function(a,b,d){null==a&&(a=[]);null==b&&(b=[]);null==d&&(d=[]);this.head=a;this.foot=b;return this.body=d});return a.alias(c,"[]","send")})(t.base,null);a.cdecl(t,"DEFAULT_DATA_FORMAT",
	"psv");a.cdecl(t,"DATA_FORMATS",["psv","dsv","csv"]);a.cdecl(t,"DEFAULT_DELIMITERS",x(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.cdecl(t,"TEXT_STYLES",x("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.cdecl(t,"ALIGNMENTS",x(["h","v"],{h:x(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:x(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})}));m.$attr_accessor("columns");m.$attr_accessor("rows");m.$attr_accessor("has_header_option");
	a.defn(m,"$initialize",z=function(b,e){var c,g,f,k=d,m=d;z.$$p=null;a.find_super_dispatcher(this,"initialize",z,null).apply(this,[b,"table"]);this.rows=t.get("Rows").$new();this.columns=[];this.has_header_option=e["$key?"]("header-option");k=e["$[]"]("width");m=k.$to_i().$abs();(c=!1!==(g=(f=m["$=="](0))?k["$!="]("0"):m["$=="](0))&&g!==d?g:n(m,100))===d||c.$$is_boolean&&1!=c||(m=100);this.attributes["$[]="]("tablepcwidth",m);return(c=this.document.$attributes()["$key?"]("pagewidth"))===d||c.$$is_boolean&&
	1!=c?d:(c="tableabswidth",g=this.attributes,!1!==(f=g["$[]"](c))&&f!==d?f:g["$[]="](c,q(l(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()))});a.defn(m,"$header_row?",function(){var a;return a=this.has_header_option,!1!==a&&a!==d?this.rows.$body()["$empty?"]():a});a.defn(m,"$create_columns",function(a){var b,c,g=d,k=d,g=[],k=0;(b=a.$each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=d);k=f(k,a["$[]"]("width"));return g["$<<"](t.get("Column").$new(b,
	g.$size(),a))},c.$$s=this,c),b).call(a);if((b=(this.columns=g)["$empty?"]())===d||b.$$is_boolean&&1!=b)this.attributes["$[]="]("colcount",g.$size()),this.$assign_col_widths(k["$=="](0)?d:k);return d});a.defn(m,"$assign_col_widths",function(a){var b,c,g,m,p,n=d,t=d,u=d;null==a&&(a=d);n=10["$**"](4);t=u=0;!1!==a&&a!==d?(b=(c=this.columns).$each,b.$$p=(g=function(b){null==b&&(b=d);return t=f(t,u=b.$assign_width(d,a,n))},g.$$s=this,g),b).call(c):(u=l(l(q(100,n),this.columns.$size()).$to_i(),n),u.$to_i()["$=="](u)&&
	(u=u.$to_i()),(b=(m=this.columns).$each,b.$$p=(p=function(a){null==a&&(a=d);return t=f(t,a.$assign_width(u))},p.$$s=this,p),b).call(m));t["$=="](100)||this.columns["$[]"](-1).$assign_width(l(q(f(k(100,t),u),n).$round(),n));return d});return(a.defn(m,"$partition_header_footer",function(a){var b,c,g,f=d,l=d;this.attributes["$[]="]("rowcount",this.rows.$body().$size());f=this.rows.$body().$size();(b=(c=n(f,0))?this.has_header_option:n(f,0))===d||b.$$is_boolean&&1!=b||(l=this.rows.$body().$shift(),f=
	k(f,1),(b=(c=l).$each,b.$$p=(g=function(a){var b,e;null==a&&(a=d);return b=[d],e=a,e["$style="].apply(e,b),b[b.length-1]},g.$$s=this,g),b).call(c),b=[[l]],c=this.rows,c["$head="].apply(c,b),b[b.length-1]);(b=(c=n(f,0))?a["$key?"]("footer-option"):n(f,0))===d||b.$$is_boolean&&1!=b||(b=[[this.rows.$body().$pop()]],c=this.rows,c["$foot="].apply(c,b),b[b.length-1]);return d}),d)&&"partition_header_footer"})(t.base,t.get("AbstractBlock"));(function(b,$super){function c(){}var k=c=D(b,$super,"Column",c),
	n;k.$$proto.attributes=d;k.$attr_accessor("style");a.defn(k,"$initialize",n=function(b,c,h){var e;null==h&&(h=x([],{}));n.$$p=null;a.find_super_dispatcher(this,"initialize",n,null).apply(this,[b,"column"]);this.style=h["$[]"]("style");h["$[]="]("colnumber",f(c,1));b="width";c=h;!1!==(e=c["$[]"](b))&&e!==d?e:c["$[]="](b,1);b="halign";c=h;!1!==(e=c["$[]"](b))&&e!==d?e:c["$[]="](b,"left");b="valign";c=h;!1!==(e=c["$[]"](b))&&e!==d?e:c["$[]="](b,"top");return this.$update_attributes(h)});a.alias(k,"table",
	"parent");return(a.defn(k,"$assign_width",function(a,b,c){var e;null==b&&(b=d);null==c&&(c=1E4);!1!==b&&b!==d&&(a=l(q(q(l(this.attributes["$[]"]("width").$to_f(),b),100),c).$to_i(),c),a.$to_i()["$=="](a)&&(a=a.$to_i()));this.attributes["$[]="]("colpcwidth",a);if((e=this.$parent().$attributes()["$key?"]("tableabswidth"))!==d&&(!e.$$is_boolean||1==e))this.attributes["$[]="]("colabswidth",q(l(a,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round());return a}),d)&&"assign_width"})(t.get("Table"),
	t.get("AbstractNode"));(function(b,$super){function g(){}var f=g=D(b,$super,"Cell",g),k=f.$$proto,l=f.$$scope,n,h;k.style=k.document=k.text=k.inner_document=k.colspan=k.rowspan=k.attributes=d;f.$attr_accessor("style");f.$attr_accessor("colspan");f.$attr_accessor("rowspan");a.alias(f,"column","parent");f.$attr_reader("inner_document");a.defn(f,"$initialize",n=function(b,c,h,g){var f,k=d,m=d,p=d,q=d;null==h&&(h=x([],{}));null==g&&(g=d);n.$$p=null;a.find_super_dispatcher(this,"initialize",n,null).apply(this,
	[b,"cell"]);this.text=c;this.rowspan=this.colspan=this.style=d;!1!==b&&b!==d&&(this.style=b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes()));!1!==h&&h!==d&&(this.colspan=h.$delete("colspan"),this.rowspan=h.$delete("rowspan"),(f=h["$key?"]("style"))===d||f.$$is_boolean&&1!=f||(this.style=h["$[]"]("style")),this.$update_attributes(h));if((f=(c=this.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():this.style["$=="]("asciidoc"))===d||f.$$is_boolean&&1!=f)return d;
	k=this.document.$attributes().$delete("doctitle");m=this.text.$split(l.get("EOL"));if((f=!1!==(c=m["$empty?"]())&&c!==d?c:m["$[]"](0)["$include?"]("::")["$!"]())===d||f.$$is_boolean&&1!=f)p=m["$[]"](0),q=l.get("PreprocessorReader").$new(this.document,p).$readlines(),(f=q["$!="](p))===d||f.$$is_boolean&&1!=f||(m.$shift(),(f=m).$unshift.apply(f,a.to_a(q)));this.inner_document=l.get("Document").$new(m,x(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:g}));return(c=k["$nil?"]())===
	d||c.$$is_boolean&&1!=c?this.document.$attributes()["$[]="]("doctitle",k):d});a.defn(f,"$text",function(){return this.$apply_normal_subs(this.text).$strip()});a.defn(f,"$content",function(){var a,b,c;return this.style["$=="]("asciidoc")?this.inner_document.$convert():(a=(b=this.$text().$split(l.get("BlankLineRx"))).$map,a.$$p=(c=function(a){var b=c.$$s||this,e,h;null==b.style&&(b.style=d);null==a&&(a=d);return(e=!1!==(h=b.style["$!"]())&&h!==d?h:b.style["$=="]("header"))===d||e.$$is_boolean&&1!=e?
	l.get("Inline").$new(b.$parent(),"quoted",a,x(["type"],{type:b.style})).$convert():a},c.$$s=this,c),a).call(b)});return(a.defn(f,"$to_s",h=function(){var b=c.call(arguments,0),g,f=h.$$p;h.$$p=null;return""+a.find_super_dispatcher(this,"to_s",h,f).apply(this,b).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(g=this.colspan)&&g!==d?g:1)+", rowspan: "+(!1!==(g=this.rowspan)&&g!==d?g:1)+", attributes: "+this.attributes+"]"}),d)&&"to_s"})(t.get("Table"),t.get("AbstractNode"));(function(b,$super){function c(){}
	var l=c=D(b,$super,"ParserContext",c),q=l.$$proto,t=l.$$scope;q.format=q.delimiter=q.delimiter_re=q.buffer=q.cell_specs=q.cell_open=q.last_cursor=q.table=q.current_row=q.col_count=q.col_visits=q.active_rowspans=q.linenum=d;l.$attr_accessor("table");l.$attr_accessor("format");l.$attr_reader("col_count");l.$attr_accessor("buffer");l.$attr_reader("delimiter");l.$attr_reader("delimiter_re");a.defn(l,"$initialize",function(a,b,c){var g,f;null==c&&(c=x([],{}));this.reader=a;this.table=b;this.last_cursor=
	a.$cursor();(g=this.format=c["$[]"]("format"))===d||g.$$is_boolean&&1!=g?this.format=t.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):((g=t.get("Table").$$scope.get("DATA_FORMATS")["$include?"](this.format))===d||g.$$is_boolean&&1!=g)&&this.$raise("Illegal table format: "+this.format);this.delimiter=(g=(f=this.format["$=="]("psv")?c["$key?"]("separator")["$!"]():this.format["$=="]("psv"),!1!==f&&f!==d?b.$document()["$nested?"]():f))===d||g.$$is_boolean&&1!=g?!1!==(g=c["$[]"]("separator"))&&g!==d?
	g:t.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](this.format):"!";this.delimiter_re=new RegExp(""+t.get("Regexp").$escape(this.delimiter));this.col_count=(g=b.$columns()["$empty?"]())===d||g.$$is_boolean&&1!=g?b.$columns().$size():-1;this.buffer="";this.cell_specs=[];this.cell_open=!1;this.active_rowspans=[0];this.col_visits=0;this.current_row=[];return this.linenum=-1});a.defn(l,"$starts_with_delimiter?",function(a){return a["$start_with?"](this.delimiter)});a.defn(l,"$match_delimiter",
	function(a){return this.delimiter_re.$match(a)});a.defn(l,"$skip_matched_delimiter",function(a,b){null==b&&(b=!1);this.buffer=""+this.buffer+(!1!==b&&b!==d?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()});a.defn(l,"$buffer_has_unclosed_quotes?",function(a){var b,c,g=d;null==a&&(a=d);g=(""+this.buffer+a).$strip();return b=(c=g["$start_with?"]('"'),!1!==c&&c!==d?g["$start_with?"]('""')["$!"]():c),!1!==b&&b!==d?g["$end_with?"]('"')["$!"]():b});a.defn(l,"$buffer_quoted?",
	function(){var a;this.buffer=this.buffer.$lstrip();return a=this.buffer["$start_with?"]('"'),!1!==a&&a!==d?this.buffer["$start_with?"]('""')["$!"]():a});a.defn(l,"$take_cell_spec",function(){return this.cell_specs.$shift()});a.defn(l,"$push_cell_spec",function(a){var b;null==a&&(a=x([],{}));this.cell_specs["$<<"](!1!==(b=a)&&b!==d?b:x([],{}));return d});a.defn(l,"$keep_cell_open",function(){this.cell_open=!0;return d});a.defn(l,"$mark_cell_closed",function(){this.cell_open=!1;return d});a.defn(l,
	"$cell_open?",function(){return this.cell_open});a.defn(l,"$cell_closed?",function(){return this.cell_open["$!"]()});a.defn(l,"$close_open_cell",function(a){var b;null==a&&(a=x([],{}));this.$push_cell_spec(a);(b=this["$cell_open?"]())===d||b.$$is_boolean&&1!=b||this.$close_cell(!0);this.$advance();return d});a.defn(l,"$close_cell",function(b){try{var c,e,g,l=d,m=d,p=d;null==b&&(b=!1);l=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(m=this.$take_cell_spec(),!1!==m&&m!==d?(p=m.$fetch("repeatcol",
	1),m.$delete("repeatcol")):(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),m=x([],{}),p=1)):(m=d,p=1,!this.format["$=="]("csv")||(c=(e=l["$empty?"]()["$!"](),!1!==e&&e!==d?l["$include?"]('"'):e))===d||c.$$is_boolean&&1!=c||((c=(e=l["$start_with?"]('"'),!1!==e&&e!==d?l["$end_with?"]('"'):e))===d||c.$$is_boolean&&1!=c||(l=l["$[]"](y(1,-1,!0)).$strip()),l=l.$tr_s('"','"')));(c=(e=1).$upto,c.$$p=(g=function(c){var e=g.$$s||
	this,h,q,u,x,y,N,D=d,T=d,U=d,D=d;null==e.col_count&&(e.col_count=d);null==e.table&&(e.table=d);null==e.current_row&&(e.current_row=d);null==e.last_cursor&&(e.last_cursor=d);null==e.reader&&(e.reader=d);null==e.col_visits&&(e.col_visits=d);null==e.linenum&&(e.linenum=d);null==c&&(c=d);if(e.col_count["$=="](-1))e.table.$columns()["$<<"](D=t.get("Table").$$scope.get("Column").$new(e.table,k(f(e.table.$columns().$size(),c),1))),(h=(q=(u=!1!==m&&m!==d)?m["$key?"]("colspan"):m,!1!==q&&q!==d?n(T=k(m["$[]"]("colspan").$to_i(),
	1),0):q))===d||h.$$is_boolean&&1!=h||(U=e.table.$columns().$size(),(h=(q=T).$times,h.$$p=(x=function(a){var b=x.$$s||this;null==b.table&&(b.table=d);null==a&&(a=d);return b.table.$columns()["$<<"](t.get("Table").$$scope.get("Column").$new(b.table,f(U,a)))},x.$$s=e,x),h).call(q));else if((h=D=e.table.$columns()["$[]"](e.current_row.$size()))===d||h.$$is_boolean&&1!=h)e.$warn("asciidoctor: ERROR: "+e.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(d);
	D=t.get("Table").$$scope.get("Cell").$new(D,l,m,e.last_cursor);e.last_cursor=e.reader.$cursor();((h=!1!==(u=D.$rowspan()["$!"]())&&u!==d?u:D.$rowspan()["$=="](1))===d||h.$$is_boolean&&1!=h)&&e.$activate_rowspan(D.$rowspan(),!1!==(h=D.$colspan())&&h!==d?h:1);e.col_visits=f(e.col_visits,!1!==(h=D.$colspan())&&h!==d?h:1);e.current_row["$<<"](D);return(h=(u=e["$end_of_row?"](),!1!==u&&u!==d?!1!==(y=!1!==(N=e.col_count["$!="](-1))&&N!==d?N:n(e.linenum,0))&&y!==d?y:(N=!1!==b&&b!==d)?c["$=="](p):b:u))===
	d||h.$$is_boolean&&1!=h?d:e.$close_row()},g.$$s=this,g),c).call(e,p);this.cell_open=!1;return d}catch(q){if(q===a.returner)return q.$v;throw q;}});a.defn(l,"$close_row",function(){var a,b;this.table.$rows().$body()["$<<"](this.current_row);this.col_count["$=="](-1)&&(this.col_count=this.col_visits);this.col_visits=0;this.current_row=[];this.active_rowspans.$shift();a=this.active_rowspans;!1!==(b=a["$[]"](0))&&b!==d?b:a["$[]="](0,0);return d});a.defn(l,"$activate_rowspan",function(a,b){var c,g,l;(c=
	(g=(1).$upto(k(a,1))).$each,c.$$p=(l=function(a){var c=l.$$s||this,e;null==c.active_rowspans&&(c.active_rowspans=d);null==a&&(a=d);return c.active_rowspans["$[]="](a,f(!1!==(e=c.active_rowspans["$[]"](a))&&e!==d?e:0,b))},l.$$s=this,l),c).call(g);return d});a.defn(l,"$end_of_row?",function(){var a;return!1!==(a=this.col_count["$=="](-1))&&a!==d?a:this.$effective_col_visits()["$=="](this.col_count)});a.defn(l,"$effective_col_visits",function(){return f(this.col_visits,this.active_rowspans["$[]"](0))});
	return(a.defn(l,"$advance",function(){return this.linenum=f(this.linenum,1)}),d)&&"advance"})(t.get("Table"),null)}(a.base)};
	(function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}a.dynamic_require_severity="ignore";var f,k=a.top,d=a.nil,c=a.gvars,b=a.module,D=a.hash2,x=a.range,y=a.hash;null==c[":"]&&(c[":"]=d);a.add_stubs("$== $>= $require $unshift $dirname $new $attr $instance_variable_set $send $<< $define $expand_path $join $home $[] $pwd $! $!= $default_external $to_a $bytes $to_set $map $keys $* $dup $[]= $insert $start $=== $inject $split $gsub $respond_to? $each $raise $ancestors $class $path $mtime $readlines $basename $strftime $rewind $entries $lines $record $parse $exception $message $set_backtrace $backtrace $stack_trace= $stack_trace $load $delete $key? $attributes $outfilesuffix $has_key? $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $uriish? $include? $write_primary_stylesheet $instance $empty? $nil? $read_asset $open $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
	((f=null!=a.RUBY_ENGINE)===d||f.$$is_boolean&&1!=f)&&a.cdecl(a,"RUBY_ENGINE","unknown");a.cdecl(a,"RUBY_ENGINE_OPAL",a.get("RUBY_ENGINE")["$=="]("opal"));a.cdecl(a,"RUBY_ENGINE_JRUBY",a.get("RUBY_ENGINE")["$=="]("jruby"));a.cdecl(a,"RUBY_MIN_VERSION_1_9",n(a.get("RUBY_VERSION"),"1.9"));a.cdecl(a,"RUBY_MIN_VERSION_2",n(a.get("RUBY_VERSION"),"2"));k.$require("set");a.get("RUBY_ENGINE")["$=="]("opal")&&k.$require("asciidoctor/opal_ext");c[":"].$unshift(a.get("File").$dirname("asciidoctor"));(function(c){c=
	b(c,"Asciidoctor");var f=c.$$scope,k,g,m,u=d,A=d;a.cdecl(f,"RUBY_ENGINE",a.get("RUBY_ENGINE"));(function(c){c=b(c,"SafeMode").$$scope;a.cdecl(c,"UNSAFE",0);a.cdecl(c,"SAFE",1);a.cdecl(c,"SERVER",10);a.cdecl(c,"SECURE",20)})(f.base);(function(c){c=b(c,"Compliance");c.keys=a.get("Set").$new();(function(a){return a.$attr("keys")})(a.get_singleton_class(c));a.defs(c,"$define",function(b,c){null==this.keys&&(this.keys=d);this.$instance_variable_set("@"+b,c);a.get_singleton_class(this).$send("attr_accessor",
	b);this.keys["$<<"](b);return d});c.$define("block_terminates_paragraph",!0);c.$define("strict_verbatim_paragraphs",!0);c.$define("underline_style_section_titles",!0);c.$define("unwrap_standalone_preamble",!0);c.$define("attribute_missing","skip");c.$define("attribute_undefined","drop-line");c.$define("shorthand_property_syntax",!0);c.$define("unique_id_start_index",2);c.$define("markdown_syntax",!0)})(f.base);a.cdecl(f,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor"))));
	a.cdecl(f,"LIB_PATH",a.get("File").$join(f.get("ROOT_PATH"),"lib"));a.cdecl(f,"DATA_PATH",a.get("File").$join(f.get("ROOT_PATH"),"data"));try{a.cdecl(f,"USER_HOME",a.get("Dir").$home())}catch(z){try{a.cdecl(f,"USER_HOME",!1!==(k=a.get("ENV")["$[]"]("HOME"))&&k!==d?k:a.get("Dir").$pwd())}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.cdecl(f,"COERCE_ENCODING",(k=a.get("RUBY_ENGINE_OPAL")["$!"](),!1!==k&&k!==d?a.get("RUBY_MIN_VERSION_1_9"):k));a.cdecl(f,"FORCE_ENCODING",(k=f.get("COERCE_ENCODING"),
	!1!==k&&k!==d?a.get("Encoding").$default_external()["$!="](a.get("Encoding").$$scope.get("UTF_8")):k));a.cdecl(f,"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());a.cdecl(f,"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());a.cdecl(f,"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());a.cdecl(f,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]());a.cdecl(f,"SUPPORTS_GSUB_RESULT_HASH",(k=a.get("RUBY_MIN_VERSION_1_9"),!1!==k&&k!==d?a.get("RUBY_ENGINE_OPAL")["$!"]():k));a.cdecl(f,
	"EOL","\n");a.cdecl(f,"NULL","\x00");a.cdecl(f,"TAB","\t");a.cdecl(f,"DEFAULT_DOCTYPE","article");a.cdecl(f,"DEFAULT_BACKEND","html5");a.cdecl(f,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.cdecl(f,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(f,"BACKEND_ALIASES",D(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.cdecl(f,"DEFAULT_PAGE_WIDTHS",D(["docbook"],{docbook:425}));a.cdecl(f,"DEFAULT_EXTENSIONS",D(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",
	pdf:".pdf",epub:".epub",asciidoc:".adoc"}));a.cdecl(f,"ASCIIDOC_EXTENSIONS",D([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.cdecl(f,"SECTION_LEVELS",D(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.cdecl(f,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.cdecl(f,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.cdecl(f,
	"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.cdecl(f,"DELIMITED_BLOCKS",D('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],____:["quote",
	["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]}));a.cdecl(f,"DELIMITED_BLOCK_LEADERS",(k=(g=f.get("DELIMITED_BLOCKS").$keys()).$map,k.$$p=(m=function(a){null==a&&(a=d);return a["$[]"](x(0,1,!1))},m.$$s=c,
	m),k).call(g).$to_set());a.cdecl(f,"LAYOUT_BREAK_LINES",D(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.cdecl(f,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.cdecl(f,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.cdecl(f,"ORDERED_LIST_KEYWORDS",D(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.cdecl(f,
	"LIST_CONTINUATION","+");a.cdecl(f,"LINE_BREAK"," +");a.cdecl(f,"LINE_CONTINUATION"," \\");a.cdecl(f,"LINE_CONTINUATION_LEGACY"," +");a.cdecl(f,"BLOCK_MATH_DELIMITERS",D(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.cdecl(f,"INLINE_MATH_DELIMITERS",D(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.cdecl(f,"FLEXIBLE_ATTRIBUTES",["sectnums"]);f.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(f,"CC_ALPHA","a-zA-Z"),a.cdecl(f,"CG_ALPHA","[a-zA-Z]"),
	a.cdecl(f,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(f,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(f,"CG_BLANK","[ \\t]"),a.cdecl(f,"CC_EOL","(?=\\n|$)"),a.cdecl(f,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(f,"CC_ALL","[\\s\\S]"),a.cdecl(f,"CC_WORD","a-zA-Z0-9_"),a.cdecl(f,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(f,"AuthorInfoLineRx",new RegExp("^("+f.get("CG_WORD")+"["+f.get("CC_WORD")+"\\-'.]*)(?: +("+f.get("CG_WORD")+"["+f.get("CC_WORD")+"\\-'.]*))?(?: +("+f.get("CG_WORD")+"["+f.get("CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.cdecl(f,
	"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);a.cdecl(f,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.cdecl(f,"ManpageNamePurposeRx",new RegExp("^(.*?)"+f.get("CG_BLANK")+"+-"+f.get("CG_BLANK")+"+(.*)$"));a.cdecl(f,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.cdecl(f,"EvalExpressionRx",new RegExp("^(\\S.*?)"+f.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+f.get("CG_BLANK")+"*(\\S.*)$"));a.cdecl(f,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);
	a.cdecl(f,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.cdecl(f,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+f.get("CG_BLANK")+"+(.*))?$"));a.cdecl(f,"InvalidAttributeNameCharsRx",/[^\w\-]/);a.cdecl(f,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.cdecl(f,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.cdecl(f,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+":.-]*)(?:,"+f.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$"));a.cdecl(f,
	"BlockAttributeListRx",new RegExp("^\\[(|"+f.get("CG_BLANK")+"*["+f.get("CC_WORD")+"\\{,.#\"'%].*)\\]$"));a.cdecl(f,"BlockAttributeLineRx",new RegExp("^\\[(|"+f.get("CG_BLANK")+"*["+f.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+":.-]*(?:,"+f.get("CG_BLANK")+"*\\S.*)?)\\])\\]$"));a.cdecl(f,"BlockTitleRx",/^\.([^\s.].*)$/);a.cdecl(f,"AdmonitionParagraphRx",new RegExp("^("+q(f.get("ADMONITION_STYLES").$to_a(),"|")+"):"+f.get("CG_BLANK")));a.cdecl(f,"LiteralParagraphRx",
	new RegExp("^("+f.get("CG_BLANK")+"+.*)$"));a.cdecl(f,"CommentBlockRx",/^\/{4,}$/);a.cdecl(f,"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.cdecl(f,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+f.get("CG_BLANK")+"+(\\S.*?)(?:"+f.get("CG_BLANK")+"+\\1)?$"));a.cdecl(f,"SetextSectionTitleRx",new RegExp("^((?=.*"+f.get("CG_WORD")+"+.*)[^.].*?)$"));a.cdecl(f,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.cdecl(f,"InlineSectionAnchorRx",new RegExp("^(.*?)"+f.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+f.get("CC_ALPHA")+":_]["+
	f.get("CC_WORD")+":.-]*)(?:,"+f.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$"));a.cdecl(f,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,5}|#x[a-fA-F0-9]{2,4});|[^"+f.get("CC_WORD")+"]+?"));a.cdecl(f,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.cdecl(f,"AnyListRx",new RegExp("^(?:<?\\d+>"+f.get("CG_BLANK")+"+"+f.get("CG_GRAPH")+"|"+f.get("CG_BLANK")+"*(?:-|(?:\\*|\\.|\\u2022){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+f.get("CG_BLANK")+"+"+f.get("CG_GRAPH")+"|"+f.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:"+
	f.get("CG_BLANK")+"+"+f.get("CG_GRAPH")+"|$))"));a.cdecl(f,"UnorderedListRx",new RegExp("^"+f.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+f.get("CG_BLANK")+"+(.*)$"));a.cdecl(f,"OrderedListRx",new RegExp("^"+f.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+f.get("CG_BLANK")+"+(.*)$"));a.cdecl(f,"OrderedListMarkerRxMap",D(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));
	a.cdecl(f,"DefinitionListRx",new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+f.get("CG_BLANK")+"+(.*))?$"));a.cdecl(f,"DefinitionListSiblingRx",D(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+f.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+f.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+f.get("CG_BLANK")+"+(.*))?$"),
	";;":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*(.*)(;;)(?:"+f.get("CG_BLANK")+"+(.*))?$")}));a.cdecl(f,"CalloutListRx",new RegExp("^<?(\\d+)>"+f.get("CG_BLANK")+"+(.*)"));a.cdecl(f,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.cdecl(f,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.cdecl(f,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+f.get("CC_EOL")+")"));a.cdecl(f,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+
	f.get("CC_EOL")+")"));a.cdecl(f,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+f.get("CC_EOL")+")");a.cdecl(f,"ListRxMap",D(["ulist","olist","dlist","colist"],{ulist:f.get("UnorderedListRx"),olist:f.get("OrderedListRx"),dlist:f.get("DefinitionListRx"),colist:f.get("CalloutListRx")}));a.cdecl(f,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.cdecl(f,"CellSpecStartRx",new RegExp("^"+f.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));
	a.cdecl(f,"CellSpecEndRx",new RegExp(""+f.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(f,"GenericBlockMacroRx",new RegExp("^("+f.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.cdecl(f,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);a.cdecl(f,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.cdecl(f,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+
	":.-]*)(?:,"+f.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));a.cdecl(f,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+f.get("CC_WORD")+":]["+f.get("CC_WORD")+":.-]*?)\\]\\]\\]"));a.cdecl(f,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+f.get("CG_WORD")+"["+f.get("CC_WORD")+".%+-]*@"+f.get("CG_ALNUM")+"["+f.get("CC_ALNUM")+".-]*\\."+f.get("CG_ALPHA")+"{2,4}\\b"));a.cdecl(f,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+f.get("CC_ALL")+"*?[^\\\\])\\]"));
	a.cdecl(f,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.cdecl(f,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+f.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+f.get("CC_ALL")+"+?)\\)\\)(?!\\)))"));a.cdecl(f,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);a.cdecl(f,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+f.get("CG_BLANK")+"*[^\\1])"));a.cdecl(f,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);
	a.cdecl(f,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);a.cdecl(f,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+f.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(f,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+f.get("CG_WORD")+"|"+f.get("CG_WORD")+".*?\\S)\\["+f.get("CG_BLANK")+"*(.+?)?\\]"));a.cdecl(f,"MenuInlineRx",new RegExp('\\\\?"('+f.get("CG_WORD")+'[^"]*?'+f.get("CG_BLANK")+"*&gt;"+f.get("CG_BLANK")+'*[^" \\t][^"]*)"'));a.cdecl(f,"PassInlineRx",
	y(!1,["+","`",new RegExp("(^|[^"+f.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+f.get("CC_ALL")+"*?\\S)\\4)(?!"+f.get("CG_WORD")+")")],!0,["`",d,new RegExp("(^|[^`"+f.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+f.get("CC_ALL")+"*?\\S)\\4)(?![`"+f.get("CC_WORD")+"])")]));a.cdecl(f,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+f.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+f.get("CC_ALL")+"*?[^\\\\])\\])"));
	a.cdecl(f,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+f.get("CC_WORD")+'":.\\/]'+f.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+f.get("CC_WORD")+'":.\\/]'+f.get("CC_ALL")+"*?)\\[("+f.get("CC_ALL")+"*?)\\])"));f.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(f,"LineBreakRx",/^(.*)[ \t]\+$/m);a.cdecl(f,"LayoutBreakLineRx",/^('|<){3,}$/);a.cdecl(f,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.cdecl(f,"BlankLineRx",new RegExp("^"+f.get("CG_BLANK")+"*\\n"));a.cdecl(f,"DataDelimiterRx",
	/,|;/);a.cdecl(f,"DoubleQuotedRx",/^("|)(.*)\1$/);a.cdecl(f,"DoubleQuotedMultiRx",new RegExp('^("|)('+f.get("CC_ALL")+"*)\\1$"));a.cdecl(f,"TrailingDigitsRx",/\d+$/);a.cdecl(f,"EscapedSpaceRx",new RegExp("\\\\("+f.get("CG_BLANK")+")"));a.cdecl(f,"SpaceDelimiterRx",new RegExp("([^\\\\])"+f.get("CG_BLANK")+"+"));a.cdecl(f,"SubModifierSniffRx",/[+-]/);a.cdecl(f,"UnicodeCharScanRx",function(){f.get("RUBY_ENGINE")["$=="]("opal");return d}());a.cdecl(f,"UriSniffRx",new RegExp("^"+f.get("CG_ALPHA")+"["+
	f.get("CC_ALNUM")+".+-]+:/{0,2}"));a.cdecl(f,"UriTerminator",/[);:]$/);a.cdecl(f,"XmlSanitizeRx",/<[^>]+>/);a.cdecl(f,"INTRINSIC_ATTRIBUTES",D("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",
	nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));u=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+f.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+f.get("CC_ALL")+"*?\\S)\\*(?!"+f.get("CG_WORD")+")")],["double","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+
	';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+f.get("CC_ALL")+'*?\\S)`"(?!'+f.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+f.get("CC_ALL")+"*?\\S)`'(?!"+f.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+f.get("CC_ALL")+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+f.get("CC_ALL")+"*?\\S)`(?!["+f.get("CC_WORD")+"\"'`])")],
	["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+f.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+f.get("CC_ALL")+"*?\\S)_(?!"+f.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+f.get("CC_ALL")+"+?)##")],["mark","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+f.get("CC_ALL")+"*?\\S)#(?!"+f.get("CG_WORD")+")")],["superscript",
	"unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];A=u.$dup();A["$[]="](2,["double","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+f.get("CC_ALL")+"*?\\S)''(?!"+f.get("CG_WORD")+")")]);A["$[]="](3,["single","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+f.get("CC_ALL")+"*?\\S)'(?!"+f.get("CG_WORD")+")")]);A["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+
	f.get("CC_ALL")+"+?)\\+\\+")]);A["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+f.get("CC_ALL")+"*?\\S)\\+(?!"+f.get("CG_WORD")+")")]);A.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+f.get("CC_ALL")+"*?\\S)'(?!"+f.get("CG_WORD")+")")]);a.cdecl(f,"QUOTE_SUBS",y(!1,u,!0,A));A=u=d;a.cdecl(f,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,
	"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+f.get("CG_WORD")+")\\\\?--(?="+f.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+f.get("CG_ALNUM")+")\\\\?'(?="+f.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,
	"","bounding"]]);(function(b){var c=b.$$scope;a.defn(b,"$load",function(b,g){var f,k,l,m,n,p,q,r,t,u=this,z=d,x=d,A=d,y=d,V=d,J=d,Q=d,K=d,R=d,Z=d,aa=d,S=d,da=d,W=d;null==g&&(g=D([],{}));try{g=g.$dup();(f=z=g["$[]"]("timings"))===d||f.$$is_boolean&&1!=f||z.$start("read");x=g["$[]="]("attributes",function(){if((f=(A=g["$[]"]("attributes"))["$!"]())===d||f.$$is_boolean&&1!=f){if((f=!1!==(k=a.get("Hash")["$==="](A))&&k!==d?k:(l=a.get("RUBY_ENGINE_JRUBY"),!1!==l&&l!==d?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](A):
	l))===d||f.$$is_boolean&&1!=f){if((f=a.get("Array")["$==="](A))===d||f.$$is_boolean&&1!=f){if((f=a.get("String")["$==="](A))===d||f.$$is_boolean&&1!=f){if((f=(p=A["$respond_to?"]("keys"),!1!==p&&p!==d?A["$respond_to?"]("[]"):p))===d||f.$$is_boolean&&1!=f)return u.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+A.$class().$ancestors());V=A;A=D([],{});(f=(p=V.$keys()).$each,f.$$p=(q=function(a){null==a&&(a=d);return A["$[]="](a,V["$[]"](a))},q.$$s=u,q),f).call(p);return A}y="\\1";
	A=A.$gsub(c.get("SpaceDelimiterRx"),""+y+c.get("NULL")).$gsub(c.get("EscapedSpaceRx"),y);return(f=(l=A.$split(c.get("NULL"))).$inject,f.$$p=(n=function(b,c){var e,h=d,g=d;null==b&&(b=d);null==c&&(c=d);e=a.to_ary(c.$split("=",2));h=null==e[0]?d:e[0];g=null==e[1]?d:e[1];b["$[]="](h,!1!==(e=g)&&e!==d?e:"");return b},n.$$s=u,n),f).call(l,D([],{}))}return(f=(k=A).$inject,f.$$p=(m=function(b,c){var e,h=d,g=d;null==b&&(b=d);null==c&&(c=d);e=a.to_ary(c.$split("=",2));h=null==e[0]?d:e[0];g=null==e[1]?d:e[1];
	b["$[]="](h,!1!==(e=g)&&e!==d?e:"");return b},m.$$s=u,m),f).call(k,D([],{}))}return A.$dup()}return D([],{})}());J=d;if((f=a.get("File")["$==="](b))===d||f.$$is_boolean&&1!=f)if((f=b["$respond_to?"]("readlines"))===d||f.$$is_boolean&&1!=f)(f=a.get("String")["$==="](b))===d||f.$$is_boolean&&1!=f?(f=a.get("Array")["$==="](b))===d||f.$$is_boolean&&1!=f?u.$raise(a.get("ArgumentError"),"unsupported input type: "+b.$class()):J=b.$dup():J=b.$lines().$entries();else{try{b.$rewind()}catch(G){try{d}finally{a.gvars["!"]=
	a.exceptions.pop()||a.nil}}J=b.$readlines()}else Q=a.get("File").$expand_path(b.$path()),K=b.$mtime(),J=b.$readlines(),x["$[]="]("docfile",Q),x["$[]="]("docdir",a.get("File").$dirname(Q)),x["$[]="]("docname",c.get("Helpers").$basename(Q,!0)),R=(f="docdate",r=x,!1!==(t=r["$[]"](f))&&t!==d?t:r["$[]="](f,K.$strftime("%Y-%m-%d"))),Z=(f="doctime",r=x,!1!==(t=r["$[]"](f))&&t!==d?t:r["$[]="](f,K.$strftime("%H:%M:%S %Z"))),x["$[]="]("docdatetime",""+R+" "+Z);!1!==z&&z!==d&&(z.$record("read"),z.$start("parse"));
	aa=g["$[]"]("parse")["$=="](!1)?c.get("Document").$new(J,g):c.get("Document").$new(J,g).$parse();!1!==z&&z!==d&&z.$record("parse");return aa}catch(G){S=G;try{try{da="asciidoctor: FAILED: "+(!1!==(f=x["$[]"]("docfile"))&&f!==d?f:"<stdin>")+": Failed to load AsciiDoc document",(f=S["$respond_to?"]("exception"))===d||f.$$is_boolean&&1!=f?(W=S.$class().$new(da,S),f=[S.$stack_trace()],r=W,r["$stack_trace="].apply(r,f),f[f.length-1]):(W=S.$exception(""+da+" - "+S.$message()),W.$set_backtrace(S.$backtrace()))}catch(ea){try{W=
	S}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return u.$raise(W)}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}});a.defn(b,"$load_file",function(b,c){null==c&&(c=D([],{}));return this.$load(a.get("File").$new(!1!==b&&b!==d?b:""),c)});a.defn(b,"$convert",function(b,g){var f,k,m,p,q,r,t,u=d,z=d,x=d,A=d,y=d,T=d,U=d,V=d,J=d,Q=d,K=y=d,R=u=u=V=T=d,Z=T=z=d,aa=u=U=A=d,S=x=d;null==g&&(g=D([],{}));g=g.$dup();g.$delete("parse");u=g.$delete("to_file");z=g.$delete("to_dir");x=!1!==(f=g.$delete("mkdirs"))&&
	f!==d?f:!1;A=g["$[]"]("timings");y=u;if((!0)["$==="](y)||d["$==="](y))T=(f=z["$!"](),!1!==f&&f!==d?a.get("File")["$==="](b):f),U=!1,V=z,u=d;else if((!1)["$==="](y))V=U=T=!1,u=d;else{if("/dev/null"["$==="](y))return this.$load(b,g);T=!1;U=u["$respond_to?"]("write");V=!1!==U&&U!==d?!1:u}if(((f=g["$key?"]("header_footer"))===d||f.$$is_boolean&&1!=f)&&(f=!1!==(k=T)&&k!==d?k:V)!==d&&(!f.$$is_boolean||1==f))g["$[]="]("header_footer",!0);if(!1!==T&&T!==d)J=a.get("File").$expand_path(b.$path()),g["$[]="]("to_dir",
	Q=a.get("File").$dirname(J));else if(!1!==V&&V!==d)if(!1!==z&&z!==d)if(!1!==u&&u!==d)g["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(z,u))));else g["$[]="]("to_dir",a.get("File").$expand_path(z));else{if(!1!==u&&u!==d)g["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(u)))}else g["$[]="]("to_dir",d);y=this.$load(b,g);if(!1!==T&&T!==d)K=a.get("File").$join(Q,""+y.$attributes()["$[]"]("docname")+y.$outfilesuffix()),K["$=="](J)&&this.$raise(a.get("IOError"),
	"input file and output file cannot be the same: "+K);else if(!1!==V&&V!==d){if(T=(f=g["$has_key?"]("base_dir"))===d||f.$$is_boolean&&1!=f?a.get("File").$expand_path(a.get("Dir").$pwd()):a.get("File").$expand_path(g["$[]"]("base_dir")),V=n(y.$safe(),c.get("SafeMode").$$scope.get("SAFE"))?T:d,!1!==z&&z!==d?(Q=y.$normalize_system_path(z,T,V,D(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==u&&u!==d?(K=y.$normalize_system_path(u,Q,d,D(["target_name","recover"],{target_name:"to_dir",
	recover:!1})),Q=a.get("File").$dirname(K)):K=a.get("File").$join(Q,""+y.$attributes()["$[]"]("docname")+y.$outfilesuffix())):!1!==u&&u!==d&&(K=y.$normalize_system_path(u,T,V,D(["target_name","recover"],{target_name:"to_dir",recover:!1})),Q=a.get("File").$dirname(K)),(f=a.get("File")["$directory?"](Q))===d||f.$$is_boolean&&1!=f)!1!==x&&x!==d?a.get("FileUtils").$mkdir_p(Q):this.$raise(a.get("IOError"),"target directory does not exist: "+z)}else K=u,Q=d;!1!==A&&A!==d&&A.$start("convert");u=(f=(k=!1!==
	K&&K!==d)?U["$!"]():K)===d||f.$$is_boolean&&1!=f?D([],{}):D(["outfile","outdir"],{outfile:K,outdir:Q});u=y.$convert(u);!1!==A&&A!==d&&A.$record("convert");return!1!==K&&K!==d?(!1!==A&&A!==d&&A.$start("write"),y.$write(u,K),!1!==A&&A!==d&&A.$record("write"),(f=(k=(m=(p=(q=(r=U["$!"](),!1!==r&&r!==d?l(y.$safe(),c.get("SafeMode").$$scope.get("SECURE")):r),!1!==q&&q!==d?y["$attr?"]("linkcss"):q),!1!==p&&p!==d?y["$attr?"]("copycss"):p),!1!==m&&m!==d?y["$attr?"]("basebackend-html"):m),!1!==k&&k!==d?(m=
	R=y.$attr("stylesdir"),!1!==m&&m!==d?c.get("Helpers")["$uriish?"](R):m)["$!"]():k))===d||f.$$is_boolean&&1!=f||(T=z=!1,(f=Z=y.$attr("stylesheet"))===d||f.$$is_boolean&&1!=f||((f=c.get("DEFAULT_STYLESHEET_KEYS")["$include?"](Z))===d||f.$$is_boolean&&1!=f?(f=c.get("Helpers")["$uriish?"](Z)["$!"]())===d||f.$$is_boolean&&1!=f||(T=!0):z=!0),A=(f=y["$attr?"]("source-highlighter","coderay"),!1!==f&&f!==d?y.$attr("coderay-css","class")["$=="]("class"):f),U=(f=y["$attr?"]("source-highlighter","pygments"),
	!1!==f&&f!==d?y.$attr("pygments-css","class")["$=="]("class"):f),(f=!1!==(k=!1!==(m=!1!==(p=z)&&p!==d?p:T)&&m!==d?m:A)&&k!==d?k:U)===d||f.$$is_boolean&&1!=f||(u=y.$normalize_system_path(R,Q,n(y.$safe(),c.get("SafeMode").$$scope.get("SAFE"))?Q:d),!1!==x&&x!==d&&c.get("Helpers").$mkdir_p(u),!1!==z&&z!==d?c.get("Stylesheets").$instance().$write_primary_stylesheet(u):!1!==T&&T!==d&&(aa=(f=(aa=y.$attr("copycss"))["$empty?"]())===d||f.$$is_boolean&&1!=f?y.$normalize_system_path(aa):y.$normalize_system_path(Z),
	x=y.$normalize_system_path(Z,u,n(y.$safe(),c.get("SafeMode").$$scope.get("SAFE"))?Q:d),((f=!1!==(k=aa["$=="](x))&&k!==d?k:(S=y.$read_asset(aa))["$nil?"]())===d||f.$$is_boolean&&1!=f)&&(f=(k=a.get("File")).$open,f.$$p=(t=function(a){null==a&&(a=d);return a.$write(S)},t.$$s=this,t),f).call(k,x,"w")),!1!==A&&A!==d?c.get("Stylesheets").$instance().$write_coderay_stylesheet(u):!1!==U&&U!==d&&c.get("Stylesheets").$instance().$write_pygments_stylesheet(u,y.$attr("pygments-style")))),y):u});a.alias(b,"render",
	"convert");a.defn(b,"$convert_file",function(b,c){null==c&&(c=D([],{}));return this.$convert(a.get("File").$new(!1!==b&&b!==d?b:""),c)});return a.alias(b,"render_file","convert_file")})(a.get_singleton_class(c));f.get("RUBY_ENGINE")["$=="]("opal")&&(c.$require("asciidoctor/version"),c.$require("asciidoctor/timings"))})(a.base);k.$require("asciidoctor/core_ext");k.$require("asciidoctor/helpers");k.$require("asciidoctor/substitutors");k.$require("asciidoctor/abstract_node");k.$require("asciidoctor/abstract_block");
	k.$require("asciidoctor/attribute_list");k.$require("asciidoctor/block");k.$require("asciidoctor/callouts");k.$require("asciidoctor/converter");(f=a.get("RUBY_ENGINE_OPAL"))===d||f.$$is_boolean&&1!=f||k.$require("asciidoctor/converter/html5");k.$require("asciidoctor/document");k.$require("asciidoctor/inline");k.$require("asciidoctor/list");k.$require("asciidoctor/parser");k.$require("asciidoctor/path_resolver");k.$require("asciidoctor/reader");k.$require("asciidoctor/section");k.$require("asciidoctor/stylesheets");
	return k.$require("asciidoctor/table")})(Opal);(function(a){a.dynamic_require_severity="ignore";return a.nil})(Opal);
	(function(a){function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var f=a.nil,k=a.breaker,d=a.slice,c=a.module,b=a.klass,D=a.hash2,x=a.range,y=a.hash;a.add_stubs("$[]= $config $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $new $create_block $is_a? $has_more_lines? $next_block $<< $each $define_method $send $insert $dup $call $attr_accessor $[] $option $=== $to_set $flatten $resolve_regexp $== $attr $method $register $arity $instance_exec $to_proc $activate $+ $values $groups $add_document_processor $! $find $select $add_syntax_processor $to_sym $include? $private $tr $to_s $join $map $upcase $chr $split $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $class_for_name $< $update_config $unshift $as_symbol $name= $pop $size $> $- $fill $-@ $next_auto_id $generate_name $length $empty? $const_defined?".split(" "));return function(t){(function(p){p=
	c(p,"Extensions");var r=p.$$scope;(function(c,$super){function k(){}var l=k=b(c,$super,"Processor",k),n=l.$$scope,h,e,p;l.$$proto.config=f;(function(b){a.defn(b,"$config",function(){var a;null==this.config&&(this.config=f);return!1!==(a=this.config)&&a!==f?a:this.config=D([],{})});a.defn(b,"$option",function(a,b){return this.$config()["$[]="](a,b)});a.defn(b,"$use_dsl",function(){var a;return(a=this.$name()["$nil_or_empty?"]())===f||a.$$is_boolean&&1!=a?(a=this.$constants().$grep("DSL"))===f||a.$$is_boolean&&
	1!=a?f:this.$extend(this.$const_get("DSL")):(a=this.$constants().$grep("DSL"))===f||a.$$is_boolean&&1!=a?f:this.$include(this.$const_get("DSL"))});a.alias(b,"extend_dsl","use_dsl");return a.alias(b,"include_dsl","use_dsl")})(a.get_singleton_class(l));l.$attr_reader("config");a.defn(l,"$initialize",function(a){null==a&&(a=D([],{}));return this.config=this.$class().$config().$merge(a)});a.defn(l,"$update_config",function(a){return this.config.$update(a)});a.defn(l,"$process",function(){var b=arguments.length-
	0;0>b&&(b=0);for(var c=Array(b),d=0;d<b;d++)c[d]=arguments[d+0];return this.$raise(a.get("NotImplementedError"))});a.defn(l,"$create_block",function(a,b,c,d,e){null==e&&(e=D([],{}));return n.get("Block").$new(a,b,D(["source","attributes"],{source:c,attributes:d}).$merge(e))});a.defn(l,"$create_image_block",function(a,b,c){null==c&&(c=D([],{}));return this.$create_block(a,"image",f,b,c)});a.defn(l,"$create_inline",function(a,b,c,d){null==d&&(d=D([],{}));return n.get("Inline").$new(a,b,c,d)});a.defn(l,
	"$parse_content",function(a,b,c){var d,e,g=f,h=f;null==c&&(c=D([],{}));for(g=(d=b["$is_a?"](n.get("Reader")))===f||d.$$is_boolean&&1!=d?n.get("Reader").$new(b):b;(e=g["$has_more_lines?"]())!==f&&(!e.$$is_boolean||1==e);)if(h=n.get("Parser").$next_block(g,a,c),!1!==h&&h!==f)a["$<<"](h);return f});return(h=(e=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block",
	"create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,h.$$p=(p=function(b,c,e){var g=p.$$s||this,h,k;null==b&&(b=f);null==c&&(c=f);null==e&&(e=f);return(h=g.$define_method,h.$$p=(k=function(b){var f=k.$$s||this,g;b=d.call(arguments,0);return(g=f).$send.apply(g,[c].concat(a.to_a(b.$dup().$insert(1,e))))},k.$$s=g,k),h).call(g,b)},p.$$s=l,p),h).call(e)})(r.base,null);(function(b){b=c(b,"ProcessorDsl");var d;a.defn(b,"$option",function(a,
	b){return this.$config()["$[]="](a,b)});a.defn(b,"$process",d=function(){var b,c=d.$$p||f;null==this.process_block&&(this.process_block=f);var g=arguments.length-0;0>g&&(g=0);for(var h=Array(g),e=0;e<g;e++)h[e]=arguments[e+0];d.$$p=null;return c!==f?this.process_block=c:(b=this.process_block)===f||b.$$is_boolean&&1!=b?this.$raise(a.get("NotImplementedError")):(b=this.process_block).$call.apply(b,a.to_a(h))});a.defn(b,"$process_block_given?",function(){var a;return(a=this.process_block,null!=a&&a!==
	f)?"instance-variable":f})})(r.base);(function(c,$super){function d(){}var k=d=b(c,$super,"Preprocessor",d);return(a.defn(k,"$process",function(b,c){return this.$raise(a.get("NotImplementedError"))}),f)&&"process"})(r.base,r.get("Processor"));a.casgn(r.get("Preprocessor"),"DSL",r.get("ProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"Treeprocessor",d);return(a.defn(k,"$process",function(b){return this.$raise(a.get("NotImplementedError"))}),f)&&"process"})(r.base,r.get("Processor"));
	a.casgn(r.get("Treeprocessor"),"DSL",r.get("ProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"Postprocessor",d);return(a.defn(k,"$process",function(b,c){return this.$raise(a.get("NotImplementedError"))}),f)&&"process"})(r.base,r.get("Processor"));a.casgn(r.get("Postprocessor"),"DSL",r.get("ProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"IncludeProcessor",d);a.defn(k,"$process",function(b,c,d,f){return this.$raise(a.get("NotImplementedError"))});return(a.defn(k,
	"$handles?",function(a){return!0}),f)&&"handles?"})(r.base,r.get("Processor"));a.casgn(r.get("IncludeProcessor"),"DSL",r.get("ProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"DocinfoProcessor",d),l;k.$$proto.config=f;k.$attr_accessor("location");a.defn(k,"$initialize",l=function(b){var c,d;null==b&&(b=D([],{}));l.$$p=null;a.find_super_dispatcher(this,"initialize",l,null).apply(this,[b]);return c=this.config,!1!==(d=c["$[]"]("location"))&&d!==f?d:c["$[]="]("location","head")});
	return(a.defn(k,"$process",function(b){return this.$raise(a.get("NotImplementedError"))}),f)&&"process"})(r.base,r.get("Processor"));(function(b){b=c(b,"DocinfoProcessorDsl");b.$include(b.$$scope.get("ProcessorDsl"));a.defn(b,"$at_location",function(a){return this.$option("location",a)})})(r.base);a.casgn(r.get("DocinfoProcessor"),"DSL",r.get("DocinfoProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"BlockProcessor",d),l;k.$$proto.config=f;k.$attr_accessor("name");a.defn(k,"$initialize",
	l=function(b,c){var d,g,k,n=f;null==b&&(b=f);null==c&&(c=D([],{}));l.$$p=null;a.find_super_dispatcher(this,"initialize",l,null).apply(this,[c]);this.name=!1!==(d=b)&&d!==f?d:this.config["$[]"]("name");n=this.config["$[]"]("contexts");if(a.get("NilClass")["$==="](n))d="contexts",g=this.config,!1!==(k=g["$[]"](d))&&k!==f?k:g["$[]="](d,["open","paragraph"].$to_set());else if(a.get("Symbol")["$==="](n))this.config["$[]="]("contexts",[this.config["$[]"]("contexts")].$to_set());else this.config["$[]="]("contexts",
	this.config["$[]"]("contexts").$to_set());return d="content_model",g=this.config,!1!==(k=g["$[]"](d))&&k!==f?k:g["$[]="](d,"compound")});return(a.defn(k,"$process",function(b,c,d){return this.$raise(a.get("NotImplementedError"))}),f)&&"process"})(r.base,r.get("Processor"));(function(b){b=c(b,"BlockProcessorDsl");var d=b.$$scope;b.$include(d.get("ProcessorDsl"));a.defn(b,"$named",function(a){var b;return(b=this["$is_a?"](d.get("Processor")))===f||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=
	a});a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$contexts",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];return this.$option("contexts",b.$flatten())});a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.defn(b,"$content_model",function(a){return this.$option("content_model",a)});a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",function(){var a=arguments.length-0;0>a&&
	(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];return this.$option("pos_attrs",b.$flatten())});a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",function(a){return this.$option("default_attrs",a)});a.alias(b,"seed_attributes_with","default_attrs")})(r.base);a.casgn(r.get("BlockProcessor"),"DSL",r.get("BlockProcessorDsl"));(function(c,$super){function d(){}
	var k=d=b(c,$super,"MacroProcessor",d),l;k.$$proto.config=f;k.$attr_accessor("name");a.defn(k,"$initialize",l=function(b,c){var d,g,k;null==b&&(b=f);null==c&&(c=D([],{}));l.$$p=null;a.find_super_dispatcher(this,"initialize",l,null).apply(this,[c]);this.name=!1!==(d=b)&&d!==f?d:this.config["$[]"]("name");return d="content_model",g=this.config,!1!==(k=g["$[]"](d))&&k!==f?k:g["$[]="](d,"attributes")});return(a.defn(k,"$process",function(b,c,d){return this.$raise(a.get("NotImplementedError"))}),f)&&"process"})(r.base,
	r.get("Processor"));(function(b){b=c(b,"MacroProcessorDsl");var d=b.$$scope;b.$include(d.get("ProcessorDsl"));a.defn(b,"$named",function(a){var b;return(b=this["$is_a?"](d.get("Processor")))===f||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=a});a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$content_model",function(a){return this.$option("content_model",a)});a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",function(){var a=arguments.length-
	0;0>a&&(a=0);for(var b=Array(a),c=0;c<a;c++)b[c]=arguments[c+0];return this.$option("pos_attrs",b.$flatten())});a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",function(a){return this.$option("default_attrs",a)});a.alias(b,"seed_attributes_with","default_attrs")})(r.base);(function(a,$super){function c(){}c=b(a,$super,"BlockMacroProcessor",c);return f})(r.base,
	r.get("MacroProcessor"));a.casgn(r.get("BlockMacroProcessor"),"DSL",r.get("MacroProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"InlineMacroProcessor",d),l=k.$$proto;l.config=l.name=f;a.defn(k,"$regexp",function(){var a,b;return a=this.config,!1!==(b=a["$[]"]("regexp"))&&b!==f?b:a["$[]="]("regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format")))});return(a.defn(k,"$resolve_regexp",function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):
	new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")}),f)&&"resolve_regexp"})(r.base,r.get("MacroProcessor"));(function(b){b=c(b,"InlineMacroProcessorDsl");b.$include(b.$$scope.get("MacroProcessorDsl"));a.defn(b,"$using_format",function(a){return this.$option("format",a)});a.defn(b,"$match",function(a){return this.$option("regexp",a)})})(r.base);a.casgn(r.get("InlineMacroProcessor"),"DSL",r.get("InlineMacroProcessorDsl"));(function(c,$super){function d(){}var k=d=b(c,$super,"Extension",d);
	k.$attr("kind");k.$attr("config");k.$attr("instance");return(a.defn(k,"$initialize",function(a,b,c){this.kind=a;this.instance=b;return this.config=c}),f)&&"initialize"})(r.base,null);(function(c,$super){function d(){}var k=d=b(c,$super,"ProcessorExtension",d),l;k.$attr("process_method");return(a.defn(k,"$initialize",l=function(b,c,d){var g;null==d&&(d=f);l.$$p=null;a.find_super_dispatcher(this,"initialize",l,null).apply(this,[b,c,c.$config()]);return this.process_method=!1!==(g=d)&&g!==f?g:c.$method("process")}),
	f)&&"initialize"})(r.base,r.get("Extension"));(function(c,$super){function d(){}var k=d=b(c,$super,"Group",d);(function(b){var c=b.$$scope;return(a.defn(b,"$register",function(a){null==a&&(a=f);return c.get("Extensions").$register(a,this)}),f)&&"register"})(a.get_singleton_class(k));return(a.defn(k,"$activate",function(b){return this.$raise(a.get("NotImplementedError"))}),f)&&"activate"})(r.base,null);(function(c,$super){function d(){}var p=d=b(c,$super,"Registry",d),r=p.$$proto,h=p.$$scope,e,t,y,
	C,M,I,v,B,O,L;r.groups=r.preprocessor_extensions=r.treeprocessor_extensions=r.postprocessor_extensions=r.include_processor_extensions=r.docinfo_processor_extensions=r.block_extensions=r.block_macro_extensions=r.inline_macro_extensions=f;p.$attr_reader("document");p.$attr_reader("groups");a.defn(p,"$initialize",function(a){null==a&&(a=D([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.treeprocessor_extensions=
	this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=f});a.defn(p,"$activate",function(b){var c,d,e;this.document=b;(c=(d=n(h.get("Extensions").$groups().$values(),this.groups.$values())).$each,c.$$p=(e=function(b){var c=e.$$s||this,d,h=f;null==b&&(b=f);h=b;a.get("Proc")["$==="](h)?(h=b.$arity(),b=0["$==="](h)||-1["$==="](h)?(d=c.$instance_exec,d.$$p=b.$to_proc(),d).call(c):1["$==="](h)?b.$call(c):f):b=a.get("Class")["$==="](h)?b.$new().$activate(c):b.$activate(c);
	return b},e.$$s=this,e),c).call(d);return this});a.defn(p,"$preprocessor",e=function(){var a,b=e.$$p||f,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+0];e.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"preprocessor",d)});a.defn(p,"$preprocessors?",function(){return this.preprocessor_extensions["$!"]()["$!"]()});a.defn(p,"$preprocessors",function(){return this.preprocessor_extensions});a.defn(p,"$treeprocessor",t=function(){var a,b=
	t.$$p||f,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];t.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"treeprocessor",d)});a.defn(p,"$treeprocessors?",function(){return this.treeprocessor_extensions["$!"]()["$!"]()});a.defn(p,"$treeprocessors",function(){return this.treeprocessor_extensions});a.defn(p,"$postprocessor",y=function(){var a,b=y.$$p||f,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+
	0];y.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"postprocessor",d)});a.defn(p,"$postprocessors?",function(){return this.postprocessor_extensions["$!"]()["$!"]()});a.defn(p,"$postprocessors",function(){return this.postprocessor_extensions});a.defn(p,"$include_processor",C=function(){var a,b=C.$$p||f,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];C.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"include_processor",
	d)});a.defn(p,"$include_processors?",function(){return this.include_processor_extensions["$!"]()["$!"]()});a.defn(p,"$include_processors",function(){return this.include_processor_extensions});a.defn(p,"$docinfo_processor",M=function(){var a,b=M.$$p||f,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];M.$$p=null;return(a=this.$add_document_processor,a.$$p=b.$to_proc(),a).call(this,"docinfo_processor",d)});a.defn(p,"$docinfo_processors?",function(a){var b,c,d;null==
	a&&(a=f);return(b=this.docinfo_processor_extensions)===f||b.$$is_boolean&&1!=b?!1:!1!==a&&a!==f?(b=(c=this.docinfo_processor_extensions).$find,b.$$p=(d=function(b){null==b&&(b=f);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d),b).call(c):!0});a.defn(p,"$docinfo_processors",function(a){var b,c,d;null==a&&(a=f);return(b=this.docinfo_processor_extensions)===f||b.$$is_boolean&&1!=b?f:!1!==a&&a!==f?(b=(c=this.docinfo_processor_extensions).$select,b.$$p=(d=function(b){null==b&&(b=f);return b.$config()["$[]"]("location")["$=="](a)},
	d.$$s=this,d),b).call(c):this.docinfo_processor_extensions});a.defn(p,"$block",I=function(){var a,b=I.$$p||f,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];I.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block",d)});a.defn(p,"$blocks?",function(){return this.block_extensions["$!"]()["$!"]()});a.defn(p,"$registered_for_block?",function(a,b){var c,d=f;return(c=d=this.block_extensions["$[]"](a.$to_sym()))===f||c.$$is_boolean&&1!=c?!1:
	(c=d.$config()["$[]"]("contexts")["$include?"](b))===f||c.$$is_boolean&&1!=c?!1:d});a.defn(p,"$find_block_extension",function(a){return this.block_extensions["$[]"](a.$to_sym())});a.defn(p,"$block_macro",v=function(){var a,b=v.$$p||f,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];v.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"block_macro",d)});a.defn(p,"$block_macros?",function(){return this.block_macro_extensions["$!"]()["$!"]()});
	a.defn(p,"$registered_for_block_macro?",function(a){var b,c=f;return(b=c=this.block_macro_extensions["$[]"](a.$to_sym()))===f||b.$$is_boolean&&1!=b?!1:c});a.defn(p,"$find_block_macro_extension",function(a){return this.block_macro_extensions["$[]"](a.$to_sym())});a.defn(p,"$inline_macro",B=function(){var a,b=B.$$p||f,c=arguments.length-0;0>c&&(c=0);for(var d=Array(c),e=0;e<c;e++)d[e]=arguments[e+0];B.$$p=null;return(a=this.$add_syntax_processor,a.$$p=b.$to_proc(),a).call(this,"inline_macro",d)});a.defn(p,
	"$inline_macros?",function(){return this.inline_macro_extensions["$!"]()["$!"]()});a.defn(p,"$registered_for_inline_macro?",function(a){var b,c=f;return(b=c=this.inline_macro_extensions["$[]"](a.$to_sym()))===f||b.$$is_boolean&&1!=b?!1:c});a.defn(p,"$find_inline_macro_extension",function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())});a.defn(p,"$inline_macros",function(){return this.inline_macro_extensions.$values()});p.$private();a.defn(p,"$add_document_processor",O=function(b,c){var d,
	e,g,k,l,n,p=this,r=O.$$p||f,t=f,u=f,v=f,w=f,y=u=f,z=f,A=f,B=f;O.$$p=null;t=b.$to_s().$tr("_"," ");u=(d=(e=t.$split(" ")).$map,d.$$p=(g=function(a){null==a&&(a=f);return""+a.$chr().$upcase()+a["$[]"](x(1,-1,!1))},g.$$s=p,g),d).call(e).$join().$to_sym();v=h.get("Extensions").$const_get(u);w=(d=null==a.Object.$$scope.AsciidoctorJ?f:"constant")===f||d.$$is_boolean&&1!=d?f:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(u);u=!1!==(d=p.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&
	d!==f?d:p.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);y=function(){if(r!==f)return z=p.$resolve_args(c,1),A=v.$new(z),(d=v.$constants().$grep("DSL"))===f||d.$$is_boolean&&1!=d||A.$extend(v.$const_get("DSL")),(d=(k=A).$instance_exec,d.$$p=r.$to_proc(),d).call(k),A.$freeze(),((d=A["$process_block_given?"]())===f||d.$$is_boolean&&1!=d)&&p.$raise(a.get("ArgumentError").$new("No block specified to process "+t+" extension at "+r.$source_location())),h.get("ProcessorExtension").$new(b,A);
	d=a.to_ary(p.$resolve_args(c,2));A=null==d[0]?f:d[0];z=null==d[1]?f:d[1];if((d=!1!==(l=A["$is_a?"](a.get("Class")))&&l!==f?l:(n=A["$is_a?"](a.get("String")),!1!==n&&n!==f?A=h.get("Extensions").$class_for_name(A):n))===f||d.$$is_boolean&&1!=d){if((d=!1!==(l=A["$is_a?"](v))&&l!==f?l:(n=!1!==w&&w!==f)?A["$is_a?"](w):w)===f||d.$$is_boolean&&1!=d)return p.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+t+" extension: "+c));A.$update_config(z);A.$freeze();return h.get("ProcessorExtension").$new(b,
	A)}((d=!1!==(l=q(A,v))&&l!==f?l:(n=!1!==w&&w!==f)?q(A,w):w)===f||d.$$is_boolean&&1!=d)&&p.$raise(a.get("ArgumentError").$new("Invalid type for "+t+" extension: "+A));B=A.$new(z);B.$freeze();return h.get("ProcessorExtension").$new(b,B)}();return y.$config()["$[]"]("position")["$=="](">>")?u.$unshift(y):u["$<<"](y)});a.defn(p,"$add_syntax_processor",L=function(b,c){var d,e,g,l,n,p,r=L.$$p||f,t=f,u=f,v=f,w=u=f,y=v=f,z=f,A=f,u=f;L.$$p=null;t=b.$to_s().$tr("_"," ");u=(d=(e=t.$split(" ")).$map,d.$$p=(g=
	function(a){null==a&&(a=f);return""+a.$chr().$upcase()+a["$[]"](x(1,-1,!1))},g.$$s=this,g),d).call(e).$join();v=(""+u+"Processor").$to_sym();u=h.get("Extensions").$const_get(v);w=(d=null==a.Object.$$scope.AsciidoctorJ?f:"constant")===f||d.$$is_boolean&&1!=d?f:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(v);v=!1!==(d=this.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&d!==f?d:this.$instance_variable_set(("@"+b+"_extensions").$to_sym(),D([],{}));if(r!==f){d=a.to_ary(this.$resolve_args(c,
	2));y=null==d[0]?f:d[0];z=null==d[1]?f:d[1];A=u.$new(this.$as_symbol(y),z);(d=u.$constants().$grep("DSL"))===f||d.$$is_boolean&&1!=d||A.$extend(u.$const_get("DSL"));if(r.$arity()["$=="](1)){if(a.yield1(r,A)===k)return k.$v}else(d=(l=A).$instance_exec,d.$$p=r.$to_proc(),d).call(l);((d=y=this.$as_symbol(A.$name()))===f||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+t+" extension at "+r.$source_location()));((d=A["$process_block_given?"]())===f||d.$$is_boolean&&
	1!=d)&&this.$raise(a.get("NoMethodError").$new("No block specified to process "+t+" extension at "+r.$source_location()));A.$freeze();return v["$[]="](y,h.get("ProcessorExtension").$new(b,A))}d=a.to_ary(this.$resolve_args(c,3));A=null==d[0]?f:d[0];y=null==d[1]?f:d[1];z=null==d[2]?f:d[2];if((d=!1!==(n=A["$is_a?"](a.get("Class")))&&n!==f?n:(p=A["$is_a?"](a.get("String")),!1!==p&&p!==f?A=h.get("Extensions").$class_for_name(A):p))===f||d.$$is_boolean&&1!=d){if((d=!1!==(n=A["$is_a?"](u))&&n!==f?n:(p=!1!==
	w&&w!==f)?A["$is_a?"](w):w)===f||d.$$is_boolean&&1!=d)return this.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+t+" extension: "+c));A.$update_config(z);((d=y=!1!==y&&y!==f?(n=[this.$as_symbol(y)],p=A,p["$name="].apply(p,n),n[n.length-1]):this.$as_symbol(A.$name()))===f||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+t+" extension: "+A));A.$freeze();return v["$[]="](y,h.get("ProcessorExtension").$new(b,A))}((d=!1!==(n=q(A,
	u))&&n!==f?n:(p=!1!==w&&w!==f)?q(A,w):w)===f||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("Class specified for "+t+" extension does not inherit from "+u+": "+A));u=A.$new(this.$as_symbol(y),z);((d=y=this.$as_symbol(u.$name()))===f||d.$$is_boolean&&1!=d)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+t+" extension: "+A));A.$freeze();return v["$[]="](y,h.get("ProcessorExtension").$new(b,u))});a.defn(p,"$resolve_args",function(b,c){var d,e=f,h=f,g=f,e=(d=b["$[]"](-1)["$is_a?"](a.get("Hash")))===
	f||d.$$is_boolean&&1!=d?D([],{}):b.$pop();if(c["$=="](1))return e;h=b.$size();d=g=l(l(c,1),h);("number"===typeof d?0<d:d["$>"](0))?b.$fill(f,h,g):q(g,0)&&b.$pop(g["$-@"]());b["$<<"](e);return b});return(a.defn(p,"$as_symbol",function(b){var c;return!1!==b&&b!==f?(c=b["$is_a?"](a.get("Symbol")))===f||c.$$is_boolean&&1!=c?b.$to_sym():b:f}),f)&&"as_symbol"})(r.base,null);(function(b){var c=b.$$scope,d,k;a.defn(b,"$generate_name",function(){return"extgrp"+this.$next_auto_id()});a.defn(b,"$next_auto_id",
	function(){var a;null==this.auto_id&&(this.auto_id=f);!1!==(a=this.auto_id)&&a!==f?a:this.auto_id=-1;return this.auto_id=n(this.auto_id,1)});a.defn(b,"$groups",function(){var a;null==this.groups&&(this.groups=f);return!1!==(a=this.groups)&&a!==f?a:this.groups=D([],{})});a.defn(b,"$build_registry",d=function(a){var b,e=d.$$p||f;null==a&&(a=f);d.$$p=null;return e!==f?(!1!==(b=a)&&b!==f?b:a=this.$generate_name(),c.get("Registry").$new(y(a,e))):c.get("Registry").$new()});a.defn(b,"$register",k=function(){var b,
	c=k.$$p||f,d=f,g=f,l=g=f,l=f,d=arguments.length-0;0>d&&(d=0);for(var m=Array(d),g=0;g<d;g++)m[g]=arguments[g+0];k.$$p=null;d=m.$length();c===f&&((b=(g=m.$pop())["$!"]())===f||b.$$is_boolean&&1!=b?(l=g,c=a.get("Class")["$==="](l)?g:a.get("String")["$==="](l)?this.$class_for_name(g):a.get("Symbol")["$==="](l)?this.$class_for_name(g.$to_s()):g):c=this.$raise(a.get("ArgumentError").$new("Extension group to register not specified")));g=c;l=!1!==(b=m.$pop())&&b!==f?b:this.$generate_name();((b=m["$empty?"]())===
	f||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+d+" for 1..2)"));return this.$groups()["$[]="](l,g)});a.defn(b,"$unregister_all",function(){return this.groups=D([],{})});a.defn(b,"$resolve_class",function(b){var c;return(c=b["$is_a?"](a.get("Class")))===f||c.$$is_boolean&&1!=c?this.$class_for_name(b.$to_s()):b});return(a.defn(b,"$class_for_name",function(b){var c,d,g,k=f,k=a.get("Object");(c=(d=b.$split("::")).$each,c.$$p=(g=function(a){var c=g.$$s||
	this,d;null==a&&(a=f);return(d=a["$empty?"]())===f||d.$$is_boolean&&1!=d?(d=k["$const_defined?"](a))===f||d.$$is_boolean&&1!=d?c.$raise("Could not resolve class for name: "+b):k=k.$const_get(a):f},g.$$s=this,g),c).call(d);return k}),f)&&"class_for_name"})(a.get_singleton_class(p))})(c(t,"Asciidoctor").$$scope.base)}(a.base)})(Opal);(function(a){a.dynamic_require_severity="ignore";return a.nil})(Opal);

	/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(8)))

/***/ },
/* 13 */
/***/ function(module, exports) {

	console.log("I'm `fs` modules");


/***/ }
/******/ ])});;