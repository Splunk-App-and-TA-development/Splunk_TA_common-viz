<dashboard script="table2list.js">
  <label>Example One: Operations</label>
  <search id="map_search">
    <query>|inputlookup tickets.csv | search label=$tok_tv_label$| table label, start, end, raisedby,title| eval start=strftime(start,"%d-%b-%Y") | eval end=strftime(end,"%d-%b-%Y") |rename  label as "Ticket No.", start as "Date Raised", end as "Date Closed", raisedby as "Raised By", title as Description
    </query>
  </search>
  <row>
    <panel>
      <html>
        <h1>Operations Use Case</h1>
  <p>The following example shows a list of tickets raised in a 30 day period. With the Event Timeline Vis, you can see when tickets were raised, and easily distinguish between P1 tickets and P4 tickets. On drill-down the user has access to further details on the tickets.</p>
   <style>
     .button, .button:hover {
    background-color: white;
    border: 2px solid #5C8EB1!important;
    color: #5C8EB1;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    border-radius: 4px;
    }
    
    .on, .on:hover{
    background-color: #5C8EB1!important; /* Green */
    color: white!important;
    font-weight:bold;
    border: 2px solid #5C8EB1!important; /* Green */
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    border-radius: 4px;
    }
    
    table,td{ border-collapse:collapse; border: 1px solid #dedede;}
    div#third_1{width: 33.33%!important;}
    div#third_2{width: 33.33%!important;}
    div#third_3{width: 33.33%!important;}
    div#twothirds_1{width: 66.66%!important;}
    div#twothirds_2{width: 66.66%!important;}
    div#twothirds_3{width: 66.66%!important;}
    div#twothirds_4{width: 66.66%!important;}
    div#twothirds_5{width: 66.66%!important;}
    div#twothirds_6{width: 66.66%!important;}


  span.grey{color: #b3b3b3;font-style:italic;}
    </style>
  </html>
    </panel>
  </row>
  <row>
    <panel id="twothirds_1">
      <title>Tickets Raised in the last 30 Days</title>
      <viz type="Splunk_TA_common-viz.event-timeline-viz">
        <search>
          <query>|inputlookup tickets.csv | eval tooltip=label . " - " . title</query>
          <earliest>-24h@h</earliest>
          <latest>now</latest>
          <sampleRatio>1</sampleRatio>
        </search>
        <option name="drilldown">none</option>
        <option name="event-timeline-viz.event-timeline-viz.maxZoom">315360000000000</option>
        <option name="event-timeline-viz.event-timeline-viz.minZoom">10</option>
        <option name="event-timeline-viz.event-timeline-viz.orientation">top</option>
        <option name="event-timeline-viz.event-timeline-viz.stack">true</option>
        <option name="event-timeline-viz.event-timeline-viz.tokenAllVisible">tok_tv_all_visible</option>
        <option name="event-timeline-viz.event-timeline-viz.tokenData">tok_tv_data</option>
        <option name="event-timeline-viz.event-timeline-viz.tokenEnd">tok_tv_end</option>
        <option name="event-timeline-viz.event-timeline-viz.tokenLabel">tok_tv_label</option>
        <option name="event-timeline-viz.event-timeline-viz.tokenStart">tok_tv_start</option>
        <option name="event-timeline-viz.event-timeline-viz.tooltipDateFormat">DD-MMM-YYYY</option>
        <option name="height">517</option>
        <option name="refresh.display">progressbar</option>
        <option name="trellis.enabled">0</option>
        <option name="trellis.scales.shared">1</option>
        <option name="trellis.size">medium</option>
      </viz>
    </panel>
    <panel rejects="$tok_tv_label$" id="third_1">
      <html>
        <h1>Ticket Details</h1>
        <p>This example shows how you can populate other panels on your dashboard using the tokens generated by clicking the Event Timeline Viz.</p>
        <p>Click on a ticket to see the details populated here.</p>
      </html>
    </panel>
    <panel depends="$tok_tv_label$" id="third_2">
      <html>
        <h1>Ticket Details</h1>
       <div id="list-view"/>
       
       </html>
    </panel>
  </row>
</dashboard>